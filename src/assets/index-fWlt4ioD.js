(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var O2=Object.defineProperty,A2=(t,e,n)=>e in t?O2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vx=(t,e,n)=>(A2(t,typeof e!="symbol"?e+"":e,n),n);function P2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function D2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yx={exports:{}},Fd={},wx={exports:{}},ce={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Nl=Symbol.for("react.element"),L2=Symbol.for("react.portal"),M2=Symbol.for("react.fragment"),F2=Symbol.for("react.strict_mode"),U2=Symbol.for("react.profiler"),$2=Symbol.for("react.provider"),V2=Symbol.for("react.context"),z2=Symbol.for("react.forward_ref"),B2=Symbol.for("react.suspense"),H2=Symbol.for("react.memo"),q2=Symbol.for("react.lazy"),Sy=Symbol.iterator;function W2(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var xx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_x=Object.assign,Sx={};function Ta(t,e,n){this.props=t,this.context=e,this.refs=Sx,this.updater=n||xx}Ta.prototype.isReactComponent={};Ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kx(){}kx.prototype=Ta.prototype;function hg(t,e,n){this.props=t,this.context=e,this.refs=Sx,this.updater=n||xx}var fg=hg.prototype=new kx;fg.constructor=hg;_x(fg,Ta.prototype);fg.isPureReactComponent=!0;var ky=Array.isArray,Cx=Object.prototype.hasOwnProperty,pg={current:null},Ex={key:!0,ref:!0,__self:!0,__source:!0};function Nx(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Cx.call(e,r)&&!Ex.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];i.children=o}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Nl,type:t,key:s,ref:a,props:i,_owner:pg.current}}function G2(t,e){return{$$typeof:Nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nl}function K2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cy=/\/+/g;function hf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?K2(""+t.key):e.toString(36)}function qc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Nl:case L2:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+hf(a,0):r,ky(i)?(n="",t!=null&&(n=t.replace(Cy,"$&/")+"/"),qc(i,e,n,"",function(u){return u})):i!=null&&(mg(i)&&(i=G2(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Cy,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",ky(t))for(var c=0;c<t.length;c++){s=t[c];var o=r+hf(s,c);a+=qc(s,e,n,o,i)}else if(o=W2(t),typeof o=="function")for(t=o.call(t),c=0;!(s=t.next()).done;)s=s.value,o=r+hf(s,c++),a+=qc(s,e,n,o,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function uc(t,e,n){if(t==null)return t;var r=[],i=0;return qc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Q2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},Wc={transition:null},Y2={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:pg};ce.Children={map:uc,forEach:function(t,e,n){uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uc(t,function(){e++}),e},toArray:function(t){return uc(t,function(e){return e})||[]},only:function(t){if(!mg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Ta;ce.Fragment=M2;ce.Profiler=U2;ce.PureComponent=hg;ce.StrictMode=F2;ce.Suspense=B2;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y2;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_x({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=pg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(o in e)Cx.call(e,o)&&!Ex.hasOwnProperty(o)&&(r[o]=e[o]===void 0&&c!==void 0?c[o]:e[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:Nl,type:t.type,key:i,ref:s,props:r,_owner:a}};ce.createContext=function(t){return t={$$typeof:V2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$2,_context:t},t.Consumer=t};ce.createElement=Nx;ce.createFactory=function(t){var e=Nx.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:z2,render:t}};ce.isValidElement=mg;ce.lazy=function(t){return{$$typeof:q2,_payload:{_status:-1,_result:t},_init:Q2}};ce.memo=function(t,e){return{$$typeof:H2,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=Wc.transition;Wc.transition={};try{t()}finally{Wc.transition=e}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(t,e){return Bt.current.useCallback(t,e)};ce.useContext=function(t){return Bt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Bt.current.useEffect(t,e)};ce.useId=function(){return Bt.current.useId()};ce.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Bt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};ce.useRef=function(t){return Bt.current.useRef(t)};ce.useState=function(t){return Bt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Bt.current.useTransition()};ce.version="18.2.0";wx.exports=ce;var y=wx.exports;const Y=D2(y),vp=P2({__proto__:null,default:Y},[y]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var J2=y,X2=Symbol.for("react.element"),Z2=Symbol.for("react.fragment"),eT=Object.prototype.hasOwnProperty,tT=J2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nT={key:!0,ref:!0,__self:!0,__source:!0};function jx(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)eT.call(e,r)&&!nT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:X2,type:t,key:s,ref:a,props:i,_owner:tT.current}}Fd.Fragment=Z2;Fd.jsx=jx;Fd.jsxs=jx;yx.exports=Fd;var l=yx.exports,Tx={exports:{}},dn={},Ix={exports:{}},Rx={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(A,V){var K=A.length;A.push(V);e:for(;0<K;){var ue=K-1>>>1,ne=A[ue];if(0<i(ne,V))A[ue]=V,A[K]=ne,K=ue;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var V=A[0],K=A.pop();if(K!==V){A[0]=K;e:for(var ue=0,ne=A.length,M=ne>>>1;ue<M;){var G=2*(ue+1)-1,de=A[G],q=G+1,ae=A[q];if(0>i(de,K))q<ne&&0>i(ae,de)?(A[ue]=ae,A[q]=K,ue=q):(A[ue]=de,A[G]=K,ue=G);else if(q<ne&&0>i(ae,K))A[ue]=ae,A[q]=K,ue=q;else break e}}return V}function i(A,V){var K=A.sortIndex-V.sortIndex;return K!==0?K:A.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var o=[],u=[],d=1,h=null,f=3,g=!1,w=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=A)r(u),V.sortIndex=V.expirationTime,e(o,V);else break;V=n(u)}}function _(A){if(b=!1,v(A),!w)if(n(o)!==null)w=!0,st(k);else{var V=n(u);V!==null&&Xe(_,V.startTime-A)}}function k(A,V){w=!1,b&&(b=!1,m(E),E=-1),g=!0;var K=f;try{for(v(V),h=n(o);h!==null&&(!(h.expirationTime>V)||A&&!L());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,f=h.priorityLevel;var ne=ue(h.expirationTime<=V);V=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(o)&&r(o),v(V)}else r(o);h=n(o)}if(h!==null)var M=!0;else{var G=n(u);G!==null&&Xe(_,G.startTime-V),M=!1}return M}finally{h=null,f=K,g=!1}}var C=!1,S=null,E=-1,T=5,N=-1;function L(){return!(t.unstable_now()-N<T)}function z(){if(S!==null){var A=t.unstable_now();N=A;var V=!0;try{V=S(!0,A)}finally{V?se():(C=!1,S=null)}}else C=!1}var se;if(typeof p=="function")se=function(){p(z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Ce=H.port2;H.port1.onmessage=z,se=function(){Ce.postMessage(null)}}else se=function(){x(z,0)};function st(A){S=A,C||(C=!0,se())}function Xe(A,V){E=x(function(){A(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,st(k))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(o)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var K=f;f=V;try{return A()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var K=f;f=A;try{return V()}finally{f=K}},t.unstable_scheduleCallback=function(A,V,K){var ue=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,A){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=K+ne,A={id:d++,callback:V,priorityLevel:A,startTime:K,expirationTime:ne,sortIndex:-1},K>ue?(A.sortIndex=K,e(u,A),n(o)===null&&A===n(u)&&(b?(m(E),E=-1):b=!0,Xe(_,K-ue))):(A.sortIndex=ne,e(o,A),w||g||(w=!0,st(k))),A},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(A){var V=f;return function(){var K=f;f=V;try{return A.apply(this,arguments)}finally{f=K}}}})(Rx);Ix.exports=Rx;var rT=Ix.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ox=y,on=rT;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ax=new Set,Fo={};function ds(t,e){aa(t,e),aa(t+"Capture",e)}function aa(t,e){for(Fo[t]=e,t=0;t<e.length;t++)Ax.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yp=Object.prototype.hasOwnProperty,iT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ey={},Ny={};function sT(t){return yp.call(Ny,t)?!0:yp.call(Ey,t)?!1:iT.test(t)?Ny[t]=!0:(Ey[t]=!0,!1)}function aT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oT(t,e,n,r){if(e===null||typeof e>"u"||aT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var gg=/[\-:]([a-z])/g;function bg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gg,bg);_t[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gg,bg);_t[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gg,bg);_t[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function vg(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oT(e,n,i,r)&&(n=null),r||i===null?sT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tr=Ox.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dc=Symbol.for("react.element"),As=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),wp=Symbol.for("react.profiler"),Px=Symbol.for("react.provider"),Dx=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),_p=Symbol.for("react.suspense_list"),xg=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),Lx=Symbol.for("react.offscreen"),jy=Symbol.iterator;function Wa(t){return t===null||typeof t!="object"?null:(t=jy&&t[jy]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,ff;function io(t){if(ff===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ff=e&&e[1]||""}return`
`+ff+t}var pf=!1;function mf(t,e){if(!t||pf)return"";pf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,c=s.length-1;1<=a&&0<=c&&i[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==s[c]){var o=`
`+i[a].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=a&&0<=c);break}}}finally{pf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?io(t):""}function lT(t){switch(t.tag){case 5:return io(t.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return t=mf(t.type,!1),t;case 11:return t=mf(t.type.render,!1),t;case 1:return t=mf(t.type,!0),t;default:return""}}function Sp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ps:return"Fragment";case As:return"Portal";case wp:return"Profiler";case yg:return"StrictMode";case xp:return"Suspense";case _p:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Dx:return(t.displayName||"Context")+".Consumer";case Px:return(t._context.displayName||"Context")+".Provider";case wg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xg:return e=t.displayName||null,e!==null?e:Sp(t.type)||"Memo";case Fr:e=t._payload,t=t._init;try{return Sp(t(e))}catch{}}return null}function cT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sp(e);case 8:return e===yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uT(t){var e=Mx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hc(t){t._valueTracker||(t._valueTracker=uT(t))}function Fx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Iu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kp(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ty(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ux(t,e){e=e.checked,e!=null&&vg(t,"checked",e,!1)}function Cp(t,e){Ux(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ep(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ep(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ep(t,e,n){(e!=="number"||Iu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var so=Array.isArray;function Ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Np(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ry(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(so(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function $x(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Oy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fc,zx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dT=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(t){dT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vo[e]=vo[t]})});function Bx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vo.hasOwnProperty(t)&&vo[t]?(""+e).trim():e+"px"}function Hx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Bx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hT=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tp(t,e){if(e){if(hT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Ip(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=null;function _g(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Op=null,Qs=null,Ys=null;function Ay(t){if(t=Il(t)){if(typeof Op!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Bd(e),Op(t.stateNode,t.type,e))}}function qx(t){Qs?Ys?Ys.push(t):Ys=[t]:Qs=t}function Wx(){if(Qs){var t=Qs,e=Ys;if(Ys=Qs=null,Ay(t),e)for(t=0;t<e.length;t++)Ay(e[t])}}function Gx(t,e){return t(e)}function Kx(){}var gf=!1;function Qx(t,e,n){if(gf)return t(e,n);gf=!0;try{return Gx(t,e,n)}finally{gf=!1,(Qs!==null||Ys!==null)&&(Kx(),Wx())}}function $o(t,e){var n=t.stateNode;if(n===null)return null;var r=Bd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Ap=!1;if(xr)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Ap=!1}function fT(t,e,n,r,i,s,a,c,o){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var yo=!1,Ru=null,Ou=!1,Pp=null,pT={onError:function(t){yo=!0,Ru=t}};function mT(t,e,n,r,i,s,a,c,o){yo=!1,Ru=null,fT.apply(pT,arguments)}function gT(t,e,n,r,i,s,a,c,o){if(mT.apply(this,arguments),yo){if(yo){var u=Ru;yo=!1,Ru=null}else throw Error(R(198));Ou||(Ou=!0,Pp=u)}}function hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Py(t){if(hs(t)!==t)throw Error(R(188))}function bT(t){var e=t.alternate;if(!e){if(e=hs(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Py(i),t;if(s===r)return Py(i),e;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function Jx(t){return t=bT(t),t!==null?Xx(t):null}function Xx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xx(t);if(e!==null)return e;t=t.sibling}return null}var Zx=on.unstable_scheduleCallback,Dy=on.unstable_cancelCallback,vT=on.unstable_shouldYield,yT=on.unstable_requestPaint,qe=on.unstable_now,wT=on.unstable_getCurrentPriorityLevel,Sg=on.unstable_ImmediatePriority,e_=on.unstable_UserBlockingPriority,Au=on.unstable_NormalPriority,xT=on.unstable_LowPriority,t_=on.unstable_IdlePriority,Ud=null,Yn=null;function _T(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Ud,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:CT,ST=Math.log,kT=Math.LN2;function CT(t){return t>>>=0,t===0?32:31-(ST(t)/kT|0)|0}var pc=64,mc=4194304;function ao(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=ao(c):(s&=a,s!==0&&(r=ao(s)))}else a=n&~i,a!==0?r=ao(a):s!==0&&(r=ao(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function ET(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-An(s),c=1<<a,o=i[a];o===-1?(!(c&n)||c&r)&&(i[a]=ET(c,e)):o<=e&&(t.expiredLanes|=c),s&=~c}}function Dp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n_(){var t=pc;return pc<<=1,!(pc&4194240)&&(pc=64),t}function bf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function jT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function kg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function r_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var i_,Cg,s_,a_,o_,Lp=!1,gc=[],Jr=null,Xr=null,Zr=null,Vo=new Map,zo=new Map,$r=[],TT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(e.pointerId)}}function Ka(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Il(e),e!==null&&Cg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IT(t,e,n,r,i){switch(e){case"focusin":return Jr=Ka(Jr,t,e,n,r,i),!0;case"dragenter":return Xr=Ka(Xr,t,e,n,r,i),!0;case"mouseover":return Zr=Ka(Zr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vo.set(s,Ka(Vo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zo.set(s,Ka(zo.get(s)||null,t,e,n,r,i)),!0}return!1}function l_(t){var e=Pi(t.target);if(e!==null){var n=hs(e);if(n!==null){if(e=n.tag,e===13){if(e=Yx(n),e!==null){t.blockedOn=e,o_(t.priority,function(){s_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rp=r,n.target.dispatchEvent(r),Rp=null}else return e=Il(n),e!==null&&Cg(e),t.blockedOn=n,!1;e.shift()}return!0}function My(t,e,n){Gc(t)&&n.delete(e)}function RT(){Lp=!1,Jr!==null&&Gc(Jr)&&(Jr=null),Xr!==null&&Gc(Xr)&&(Xr=null),Zr!==null&&Gc(Zr)&&(Zr=null),Vo.forEach(My),zo.forEach(My)}function Qa(t,e){t.blockedOn===e&&(t.blockedOn=null,Lp||(Lp=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,RT)))}function Bo(t){function e(i){return Qa(i,t)}if(0<gc.length){Qa(gc[0],t);for(var n=1;n<gc.length;n++){var r=gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&Qa(Jr,t),Xr!==null&&Qa(Xr,t),Zr!==null&&Qa(Zr,t),Vo.forEach(e),zo.forEach(e),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)l_(n),n.blockedOn===null&&$r.shift()}var Js=Tr.ReactCurrentBatchConfig,Du=!0;function OT(t,e,n,r){var i=Se,s=Js.transition;Js.transition=null;try{Se=1,Eg(t,e,n,r)}finally{Se=i,Js.transition=s}}function AT(t,e,n,r){var i=Se,s=Js.transition;Js.transition=null;try{Se=4,Eg(t,e,n,r)}finally{Se=i,Js.transition=s}}function Eg(t,e,n,r){if(Du){var i=Mp(t,e,n,r);if(i===null)Nf(t,e,r,Lu,n),Ly(t,r);else if(IT(i,t,e,n,r))r.stopPropagation();else if(Ly(t,r),e&4&&-1<TT.indexOf(t)){for(;i!==null;){var s=Il(i);if(s!==null&&i_(s),s=Mp(t,e,n,r),s===null&&Nf(t,e,r,Lu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Nf(t,e,r,null,n)}}var Lu=null;function Mp(t,e,n,r){if(Lu=null,t=_g(r),t=Pi(t),t!==null)if(e=hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lu=t,null}function c_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wT()){case Sg:return 1;case e_:return 4;case Au:case xT:return 16;case t_:return 536870912;default:return 16}default:return 16}}var Gr=null,Ng=null,Kc=null;function u_(){if(Kc)return Kc;var t,e=Ng,n=e.length,r,i="value"in Gr?Gr.value:Gr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Kc=i.slice(t,1<r?1-r:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bc(){return!0}function Fy(){return!1}function hn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bc:Fy,this.isPropagationStopped=Fy,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bc)},persist:function(){},isPersistent:bc}),e}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jg=hn(Ia),Tl=Me({},Ia,{view:0,detail:0}),PT=hn(Tl),vf,yf,Ya,$d=Me({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ya&&(Ya&&t.type==="mousemove"?(vf=t.screenX-Ya.screenX,yf=t.screenY-Ya.screenY):yf=vf=0,Ya=t),vf)},movementY:function(t){return"movementY"in t?t.movementY:yf}}),Uy=hn($d),DT=Me({},$d,{dataTransfer:0}),LT=hn(DT),MT=Me({},Tl,{relatedTarget:0}),wf=hn(MT),FT=Me({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),UT=hn(FT),$T=Me({},Ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VT=hn($T),zT=Me({},Ia,{data:0}),$y=hn(zT),BT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qT[t])?!!e[t]:!1}function Tg(){return WT}var GT=Me({},Tl,{key:function(t){if(t.key){var e=BT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tg,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KT=hn(GT),QT=Me({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vy=hn(QT),YT=Me({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tg}),JT=hn(YT),XT=Me({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZT=hn(XT),eI=Me({},$d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tI=hn(eI),nI=[9,13,27,32],Ig=xr&&"CompositionEvent"in window,wo=null;xr&&"documentMode"in document&&(wo=document.documentMode);var rI=xr&&"TextEvent"in window&&!wo,d_=xr&&(!Ig||wo&&8<wo&&11>=wo),zy=" ",By=!1;function h_(t,e){switch(t){case"keyup":return nI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ds=!1;function iI(t,e){switch(t){case"compositionend":return f_(e);case"keypress":return e.which!==32?null:(By=!0,zy);case"textInput":return t=e.data,t===zy&&By?null:t;default:return null}}function sI(t,e){if(Ds)return t==="compositionend"||!Ig&&h_(t,e)?(t=u_(),Kc=Ng=Gr=null,Ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d_&&e.locale!=="ko"?null:e.data;default:return null}}var aI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aI[t.type]:e==="textarea"}function p_(t,e,n,r){qx(r),e=Mu(e,"onChange"),0<e.length&&(n=new jg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xo=null,Ho=null;function oI(t){C_(t,0)}function Vd(t){var e=Fs(t);if(Fx(e))return t}function lI(t,e){if(t==="change")return e}var m_=!1;if(xr){var xf;if(xr){var _f="oninput"in document;if(!_f){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),_f=typeof qy.oninput=="function"}xf=_f}else xf=!1;m_=xf&&(!document.documentMode||9<document.documentMode)}function Wy(){xo&&(xo.detachEvent("onpropertychange",g_),Ho=xo=null)}function g_(t){if(t.propertyName==="value"&&Vd(Ho)){var e=[];p_(e,Ho,t,_g(t)),Qx(oI,e)}}function cI(t,e,n){t==="focusin"?(Wy(),xo=e,Ho=n,xo.attachEvent("onpropertychange",g_)):t==="focusout"&&Wy()}function uI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vd(Ho)}function dI(t,e){if(t==="click")return Vd(e)}function hI(t,e){if(t==="input"||t==="change")return Vd(e)}function fI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:fI;function qo(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yp.call(e,i)||!Ln(t[i],e[i]))return!1}return!0}function Gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ky(t,e){var n=Gy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gy(n)}}function b_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?b_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v_(){for(var t=window,e=Iu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Iu(t.document)}return e}function Rg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pI(t){var e=v_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&b_(n.ownerDocument.documentElement,n)){if(r!==null&&Rg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ky(n,s);var a=Ky(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mI=xr&&"documentMode"in document&&11>=document.documentMode,Ls=null,Fp=null,_o=null,Up=!1;function Qy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Up||Ls==null||Ls!==Iu(r)||(r=Ls,"selectionStart"in r&&Rg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_o&&qo(_o,r)||(_o=r,r=Mu(Fp,"onSelect"),0<r.length&&(e=new jg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ls)))}function vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ms={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionend:vc("Transition","TransitionEnd")},Sf={},y_={};xr&&(y_=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function zd(t){if(Sf[t])return Sf[t];if(!Ms[t])return t;var e=Ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in y_)return Sf[t]=e[n];return t}var w_=zd("animationend"),x_=zd("animationiteration"),__=zd("animationstart"),S_=zd("transitionend"),k_=new Map,Yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(t,e){k_.set(t,e),ds(e,[t])}for(var kf=0;kf<Yy.length;kf++){var Cf=Yy[kf],gI=Cf.toLowerCase(),bI=Cf[0].toUpperCase()+Cf.slice(1);vi(gI,"on"+bI)}vi(w_,"onAnimationEnd");vi(x_,"onAnimationIteration");vi(__,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(S_,"onTransitionEnd");aa("onMouseEnter",["mouseout","mouseover"]);aa("onMouseLeave",["mouseout","mouseover"]);aa("onPointerEnter",["pointerout","pointerover"]);aa("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function Jy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gT(r,e,void 0,t),t.currentTarget=null}function C_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==s&&i.isPropagationStopped())break e;Jy(i,c,u),s=o}else for(a=0;a<r.length;a++){if(c=r[a],o=c.instance,u=c.currentTarget,c=c.listener,o!==s&&i.isPropagationStopped())break e;Jy(i,c,u),s=o}}}if(Ou)throw t=Pp,Ou=!1,Pp=null,t}function Te(t,e){var n=e[Hp];n===void 0&&(n=e[Hp]=new Set);var r=t+"__bubble";n.has(r)||(E_(e,t,2,!1),n.add(r))}function Ef(t,e,n){var r=0;e&&(r|=4),E_(n,t,r,e)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Wo(t){if(!t[yc]){t[yc]=!0,Ax.forEach(function(n){n!=="selectionchange"&&(vI.has(n)||Ef(n,!1,t),Ef(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yc]||(e[yc]=!0,Ef("selectionchange",!1,e))}}function E_(t,e,n,r){switch(c_(e)){case 1:var i=OT;break;case 4:i=AT;break;default:i=Eg}n=i.bind(null,e,n,t),i=void 0,!Ap||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Nf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;a=a.return}for(;c!==null;){if(a=Pi(c),a===null)return;if(o=a.tag,o===5||o===6){r=s=a;continue e}c=c.parentNode}}r=r.return}Qx(function(){var u=s,d=_g(n),h=[];e:{var f=k_.get(t);if(f!==void 0){var g=jg,w=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":g=KT;break;case"focusin":w="focus",g=wf;break;case"focusout":w="blur",g=wf;break;case"beforeblur":case"afterblur":g=wf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Uy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=LT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=JT;break;case w_:case x_:case __:g=UT;break;case S_:g=ZT;break;case"scroll":g=PT;break;case"wheel":g=tI;break;case"copy":case"cut":case"paste":g=VT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Vy}var b=(e&4)!==0,x=!b&&t==="scroll",m=b?f!==null?f+"Capture":null:f;b=[];for(var p=u,v;p!==null;){v=p;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,m!==null&&(_=$o(p,m),_!=null&&b.push(Go(p,_,v)))),x)break;p=p.return}0<b.length&&(f=new g(f,w,null,n,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Rp&&(w=n.relatedTarget||n.fromElement)&&(Pi(w)||w[_r]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?Pi(w):null,w!==null&&(x=hs(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(b=Uy,_="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=Vy,_="onPointerLeave",m="onPointerEnter",p="pointer"),x=g==null?f:Fs(g),v=w==null?f:Fs(w),f=new b(_,p+"leave",g,n,d),f.target=x,f.relatedTarget=v,_=null,Pi(d)===u&&(b=new b(m,p+"enter",w,n,d),b.target=v,b.relatedTarget=x,_=b),x=_,g&&w)t:{for(b=g,m=w,p=0,v=b;v;v=Ns(v))p++;for(v=0,_=m;_;_=Ns(_))v++;for(;0<p-v;)b=Ns(b),p--;for(;0<v-p;)m=Ns(m),v--;for(;p--;){if(b===m||m!==null&&b===m.alternate)break t;b=Ns(b),m=Ns(m)}b=null}else b=null;g!==null&&Xy(h,f,g,b,!1),w!==null&&x!==null&&Xy(h,x,w,b,!0)}}e:{if(f=u?Fs(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=lI;else if(Hy(f))if(m_)k=hI;else{k=uI;var C=cI}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=dI);if(k&&(k=k(t,u))){p_(h,k,n,d);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Ep(f,"number",f.value)}switch(C=u?Fs(u):window,t){case"focusin":(Hy(C)||C.contentEditable==="true")&&(Ls=C,Fp=u,_o=null);break;case"focusout":_o=Fp=Ls=null;break;case"mousedown":Up=!0;break;case"contextmenu":case"mouseup":case"dragend":Up=!1,Qy(h,n,d);break;case"selectionchange":if(mI)break;case"keydown":case"keyup":Qy(h,n,d)}var S;if(Ig)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ds?h_(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(d_&&n.locale!=="ko"&&(Ds||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ds&&(S=u_()):(Gr=d,Ng="value"in Gr?Gr.value:Gr.textContent,Ds=!0)),C=Mu(u,E),0<C.length&&(E=new $y(E,t,null,n,d),h.push({event:E,listeners:C}),S?E.data=S:(S=f_(n),S!==null&&(E.data=S)))),(S=rI?iI(t,n):sI(t,n))&&(u=Mu(u,"onBeforeInput"),0<u.length&&(d=new $y("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}C_(h,e)})}function Go(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$o(t,n),s!=null&&r.unshift(Go(t,s,i)),s=$o(t,e),s!=null&&r.push(Go(t,s,i))),t=t.return}return r}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xy(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var c=n,o=c.alternate,u=c.stateNode;if(o!==null&&o===r)break;c.tag===5&&u!==null&&(c=u,i?(o=$o(n,s),o!=null&&a.unshift(Go(n,o,c))):i||(o=$o(n,s),o!=null&&a.push(Go(n,o,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var yI=/\r\n?/g,wI=/\u0000|\uFFFD/g;function Zy(t){return(typeof t=="string"?t:""+t).replace(yI,`
`).replace(wI,"")}function wc(t,e,n){if(e=Zy(e),Zy(t)!==e&&n)throw Error(R(425))}function Fu(){}var $p=null,Vp=null;function zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bp=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,_I=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(t){return e0.resolve(null).then(t).catch(SI)}:Bp;function SI(t){setTimeout(function(){throw t})}function jf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bo(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ra=Math.random().toString(36).slice(2),qn="__reactFiber$"+Ra,Ko="__reactProps$"+Ra,_r="__reactContainer$"+Ra,Hp="__reactEvents$"+Ra,kI="__reactListeners$"+Ra,CI="__reactHandles$"+Ra;function Pi(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=t0(t);t!==null;){if(n=t[qn])return n;t=t0(t)}return e}t=n,n=t.parentNode}return null}function Il(t){return t=t[qn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Bd(t){return t[Ko]||null}var qp=[],Us=-1;function yi(t){return{current:t}}function Ae(t){0>Us||(t.current=qp[Us],qp[Us]=null,Us--)}function Ee(t,e){Us++,qp[Us]=t.current,t.current=e}var di={},At=yi(di),Qt=yi(!1),Qi=di;function oa(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(t){return t=t.childContextTypes,t!=null}function Uu(){Ae(Qt),Ae(At)}function n0(t,e,n){if(At.current!==di)throw Error(R(168));Ee(At,e),Ee(Qt,n)}function N_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,cT(t)||"Unknown",i));return Me({},n,r)}function $u(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,Qi=At.current,Ee(At,t),Ee(Qt,Qt.current),!0}function r0(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=N_(t,e,Qi),r.__reactInternalMemoizedMergedChildContext=t,Ae(Qt),Ae(At),Ee(At,t)):Ae(Qt),Ee(Qt,n)}var fr=null,Hd=!1,Tf=!1;function j_(t){fr===null?fr=[t]:fr.push(t)}function EI(t){Hd=!0,j_(t)}function wi(){if(!Tf&&fr!==null){Tf=!0;var t=0,e=Se;try{var n=fr;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,Hd=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),Zx(Sg,wi),i}finally{Se=e,Tf=!1}}return null}var $s=[],Vs=0,Vu=null,zu=0,mn=[],gn=0,Yi=null,pr=1,mr="";function ji(t,e){$s[Vs++]=zu,$s[Vs++]=Vu,Vu=t,zu=e}function T_(t,e,n){mn[gn++]=pr,mn[gn++]=mr,mn[gn++]=Yi,Yi=t;var r=pr;t=mr;var i=32-An(r)-1;r&=~(1<<i),n+=1;var s=32-An(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,pr=1<<32-An(e)+i|n<<i|r,mr=s+t}else pr=1<<s|n<<i|r,mr=t}function Og(t){t.return!==null&&(ji(t,1),T_(t,1,0))}function Ag(t){for(;t===Vu;)Vu=$s[--Vs],$s[Vs]=null,zu=$s[--Vs],$s[Vs]=null;for(;t===Yi;)Yi=mn[--gn],mn[gn]=null,mr=mn[--gn],mn[gn]=null,pr=mn[--gn],mn[gn]=null}var an=null,tn=null,Pe=!1,Rn=null;function I_(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function i0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,tn=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yi!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,tn=null,!0):!1;default:return!1}}function Wp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gp(t){if(Pe){var e=tn;if(e){var n=e;if(!i0(t,e)){if(Wp(t))throw Error(R(418));e=ei(n.nextSibling);var r=an;e&&i0(t,e)?I_(r,n):(t.flags=t.flags&-4097|2,Pe=!1,an=t)}}else{if(Wp(t))throw Error(R(418));t.flags=t.flags&-4097|2,Pe=!1,an=t}}}function s0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function xc(t){if(t!==an)return!1;if(!Pe)return s0(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zp(t.type,t.memoizedProps)),e&&(e=tn)){if(Wp(t))throw R_(),Error(R(418));for(;e;)I_(t,e),e=ei(e.nextSibling)}if(s0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tn=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tn=null}}else tn=an?ei(t.stateNode.nextSibling):null;return!0}function R_(){for(var t=tn;t;)t=ei(t.nextSibling)}function la(){tn=an=null,Pe=!1}function Pg(t){Rn===null?Rn=[t]:Rn.push(t)}var NI=Tr.ReactCurrentBatchConfig;function Tn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Bu=yi(null),Hu=null,zs=null,Dg=null;function Lg(){Dg=zs=Hu=null}function Mg(t){var e=Bu.current;Ae(Bu),t._currentValue=e}function Kp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xs(t,e){Hu=t,Dg=zs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function xn(t){var e=t._currentValue;if(Dg!==t)if(t={context:t,memoizedValue:e,next:null},zs===null){if(Hu===null)throw Error(R(308));zs=t,Hu.dependencies={lanes:0,firstContext:t}}else zs=zs.next=t;return e}var Di=null;function Fg(t){Di===null?Di=[t]:Di.push(t)}function O_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ur=!1;function Ug(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sr(t,n)}return i=r.interleaved,i===null?(e.next=e,Fg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sr(t,n)}function Yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}function a0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qu(t,e,n,r){var i=t.updateQueue;Ur=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var o=c,u=o.next;o.next=null,a===null?s=u:a.next=u,a=o;var d=t.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==a&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=o))}if(s!==null){var h=i.baseState;a=0,d=u=o=null,c=s;do{var f=c.lane,g=c.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=t,b=c;switch(f=e,g=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){h=w.call(g,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,f=typeof w=="function"?w.call(g,h,f):w,f==null)break e;h=Me({},h,f);break e;case 2:Ur=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[c]:f.push(c))}else g={eventTime:g,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=g,o=h):d=d.next=g,a|=f;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;f=c,c=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(o=h),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xi|=a,t.lanes=a,t.memoizedState=h}}function o0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var P_=new Ox.Component().refs;function Qp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qd={isMounted:function(t){return(t=t._reactInternals)?hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ri(t),s=yr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(Pn(e,t,i,r),Yc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ri(t),s=yr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(Pn(e,t,i,r),Yc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=ri(t),i=yr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(Pn(e,t,r,n),Yc(e,t,r))}};function l0(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!qo(n,r)||!qo(i,s):!0}function D_(t,e,n){var r=!1,i=di,s=e.contextType;return typeof s=="object"&&s!==null?s=xn(s):(i=Yt(e)?Qi:At.current,r=e.contextTypes,s=(r=r!=null)?oa(t,i):di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function c0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qd.enqueueReplaceState(e,e.state,null)}function Yp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=P_,Ug(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xn(s):(s=Yt(e)?Qi:At.current,i.context=oa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qd.enqueueReplaceState(i,i.state,null),qu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ja(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var c=i.refs;c===P_&&(c=i.refs={}),a===null?delete c[s]:c[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function _c(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function u0(t){var e=t._init;return e(t._payload)}function L_(t){function e(m,p){if(t){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=ii(m,p),m.index=0,m.sibling=null,m}function s(m,p,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function c(m,p,v,_){return p===null||p.tag!==6?(p=Lf(v,m.mode,_),p.return=m,p):(p=i(p,v),p.return=m,p)}function o(m,p,v,_){var k=v.type;return k===Ps?d(m,p,v.props.children,_,v.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fr&&u0(k)===p.type)?(_=i(p,v.props),_.ref=Ja(m,p,v),_.return=m,_):(_=nu(v.type,v.key,v.props,null,m.mode,_),_.ref=Ja(m,p,v),_.return=m,_)}function u(m,p,v,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Mf(v,m.mode,_),p.return=m,p):(p=i(p,v.children||[]),p.return=m,p)}function d(m,p,v,_,k){return p===null||p.tag!==7?(p=Bi(v,m.mode,_,k),p.return=m,p):(p=i(p,v),p.return=m,p)}function h(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Lf(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case dc:return v=nu(p.type,p.key,p.props,null,m.mode,v),v.ref=Ja(m,null,p),v.return=m,v;case As:return p=Mf(p,m.mode,v),p.return=m,p;case Fr:var _=p._init;return h(m,_(p._payload),v)}if(so(p)||Wa(p))return p=Bi(p,m.mode,v,null),p.return=m,p;_c(m,p)}return null}function f(m,p,v,_){var k=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:c(m,p,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dc:return v.key===k?o(m,p,v,_):null;case As:return v.key===k?u(m,p,v,_):null;case Fr:return k=v._init,f(m,p,k(v._payload),_)}if(so(v)||Wa(v))return k!==null?null:d(m,p,v,_,null);_c(m,v)}return null}function g(m,p,v,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(v)||null,c(p,m,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dc:return m=m.get(_.key===null?v:_.key)||null,o(p,m,_,k);case As:return m=m.get(_.key===null?v:_.key)||null,u(p,m,_,k);case Fr:var C=_._init;return g(m,p,v,C(_._payload),k)}if(so(_)||Wa(_))return m=m.get(v)||null,d(p,m,_,k,null);_c(p,_)}return null}function w(m,p,v,_){for(var k=null,C=null,S=p,E=p=0,T=null;S!==null&&E<v.length;E++){S.index>E?(T=S,S=null):T=S.sibling;var N=f(m,S,v[E],_);if(N===null){S===null&&(S=T);break}t&&S&&N.alternate===null&&e(m,S),p=s(N,p,E),C===null?k=N:C.sibling=N,C=N,S=T}if(E===v.length)return n(m,S),Pe&&ji(m,E),k;if(S===null){for(;E<v.length;E++)S=h(m,v[E],_),S!==null&&(p=s(S,p,E),C===null?k=S:C.sibling=S,C=S);return Pe&&ji(m,E),k}for(S=r(m,S);E<v.length;E++)T=g(S,m,E,v[E],_),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),p=s(T,p,E),C===null?k=T:C.sibling=T,C=T);return t&&S.forEach(function(L){return e(m,L)}),Pe&&ji(m,E),k}function b(m,p,v,_){var k=Wa(v);if(typeof k!="function")throw Error(R(150));if(v=k.call(v),v==null)throw Error(R(151));for(var C=k=null,S=p,E=p=0,T=null,N=v.next();S!==null&&!N.done;E++,N=v.next()){S.index>E?(T=S,S=null):T=S.sibling;var L=f(m,S,N.value,_);if(L===null){S===null&&(S=T);break}t&&S&&L.alternate===null&&e(m,S),p=s(L,p,E),C===null?k=L:C.sibling=L,C=L,S=T}if(N.done)return n(m,S),Pe&&ji(m,E),k;if(S===null){for(;!N.done;E++,N=v.next())N=h(m,N.value,_),N!==null&&(p=s(N,p,E),C===null?k=N:C.sibling=N,C=N);return Pe&&ji(m,E),k}for(S=r(m,S);!N.done;E++,N=v.next())N=g(S,m,E,N.value,_),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?E:N.key),p=s(N,p,E),C===null?k=N:C.sibling=N,C=N);return t&&S.forEach(function(z){return e(m,z)}),Pe&&ji(m,E),k}function x(m,p,v,_){if(typeof v=="object"&&v!==null&&v.type===Ps&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case dc:e:{for(var k=v.key,C=p;C!==null;){if(C.key===k){if(k=v.type,k===Ps){if(C.tag===7){n(m,C.sibling),p=i(C,v.props.children),p.return=m,m=p;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fr&&u0(k)===C.type){n(m,C.sibling),p=i(C,v.props),p.ref=Ja(m,C,v),p.return=m,m=p;break e}n(m,C);break}else e(m,C);C=C.sibling}v.type===Ps?(p=Bi(v.props.children,m.mode,_,v.key),p.return=m,m=p):(_=nu(v.type,v.key,v.props,null,m.mode,_),_.ref=Ja(m,p,v),_.return=m,m=_)}return a(m);case As:e:{for(C=v.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=i(p,v.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Mf(v,m.mode,_),p.return=m,m=p}return a(m);case Fr:return C=v._init,x(m,p,C(v._payload),_)}if(so(v))return w(m,p,v,_);if(Wa(v))return b(m,p,v,_);_c(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,v),p.return=m,m=p):(n(m,p),p=Lf(v,m.mode,_),p.return=m,m=p),a(m)):n(m,p)}return x}var ca=L_(!0),M_=L_(!1),Rl={},Jn=yi(Rl),Qo=yi(Rl),Yo=yi(Rl);function Li(t){if(t===Rl)throw Error(R(174));return t}function $g(t,e){switch(Ee(Yo,e),Ee(Qo,t),Ee(Jn,Rl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jp(e,t)}Ae(Jn),Ee(Jn,e)}function ua(){Ae(Jn),Ae(Qo),Ae(Yo)}function F_(t){Li(Yo.current);var e=Li(Jn.current),n=jp(e,t.type);e!==n&&(Ee(Qo,t),Ee(Jn,n))}function Vg(t){Qo.current===t&&(Ae(Jn),Ae(Qo))}var De=yi(0);function Wu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var If=[];function zg(){for(var t=0;t<If.length;t++)If[t]._workInProgressVersionPrimary=null;If.length=0}var Jc=Tr.ReactCurrentDispatcher,Rf=Tr.ReactCurrentBatchConfig,Ji=0,Le=null,tt=null,ot=null,Gu=!1,So=!1,Jo=0,jI=0;function kt(){throw Error(R(321))}function Bg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ln(t[n],e[n]))return!1;return!0}function Hg(t,e,n,r,i,s){if(Ji=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jc.current=t===null||t.memoizedState===null?OI:AI,t=n(r,i),So){s=0;do{if(So=!1,Jo=0,25<=s)throw Error(R(301));s+=1,ot=tt=null,e.updateQueue=null,Jc.current=PI,t=n(r,i)}while(So)}if(Jc.current=Ku,e=tt!==null&&tt.next!==null,Ji=0,ot=tt=Le=null,Gu=!1,e)throw Error(R(300));return t}function qg(){var t=Jo!==0;return Jo=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Le.memoizedState=ot=t:ot=ot.next=t,ot}function _n(){if(tt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=ot===null?Le.memoizedState:ot.next;if(e!==null)ot=e,tt=t;else{if(t===null)throw Error(R(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?Le.memoizedState=ot=t:ot=ot.next=t}return ot}function Xo(t,e){return typeof e=="function"?e(t):e}function Of(t){var e=_n(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var c=a=null,o=null,u=s;do{var d=u.lane;if((Ji&d)===d)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=h,a=r):o=o.next=h,Le.lanes|=d,Xi|=d}u=u.next}while(u!==null&&u!==s);o===null?a=r:o.next=c,Ln(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=o,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,Xi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Af(t){var e=_n(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ln(s,e.memoizedState)||(Kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function U_(){}function $_(t,e){var n=Le,r=_n(),i=e(),s=!Ln(r.memoizedState,i);if(s&&(r.memoizedState=i,Kt=!0),r=r.queue,Wg(B_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Zo(9,z_.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(R(349));Ji&30||V_(n,e,i)}return i}function V_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function z_(t,e,n,r){e.value=n,e.getSnapshot=r,H_(e)&&q_(t)}function B_(t,e,n){return n(function(){H_(e)&&q_(t)})}function H_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ln(t,n)}catch{return!0}}function q_(t){var e=Sr(t,1);e!==null&&Pn(e,t,1,-1)}function d0(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:t},e.queue=t,t=t.dispatch=RI.bind(null,Le,t),[e.memoizedState,t]}function Zo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function W_(){return _n().memoizedState}function Xc(t,e,n,r){var i=Bn();Le.flags|=t,i.memoizedState=Zo(1|e,n,void 0,r===void 0?null:r)}function Wd(t,e,n,r){var i=_n();r=r===void 0?null:r;var s=void 0;if(tt!==null){var a=tt.memoizedState;if(s=a.destroy,r!==null&&Bg(r,a.deps)){i.memoizedState=Zo(e,n,s,r);return}}Le.flags|=t,i.memoizedState=Zo(1|e,n,s,r)}function h0(t,e){return Xc(8390656,8,t,e)}function Wg(t,e){return Wd(2048,8,t,e)}function G_(t,e){return Wd(4,2,t,e)}function K_(t,e){return Wd(4,4,t,e)}function Q_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y_(t,e,n){return n=n!=null?n.concat([t]):null,Wd(4,4,Q_.bind(null,e,t),n)}function Gg(){}function J_(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X_(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z_(t,e,n){return Ji&21?(Ln(n,e)||(n=n_(),Le.lanes|=n,Xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function TI(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=Rf.transition;Rf.transition={};try{t(!1),e()}finally{Se=n,Rf.transition=r}}function eS(){return _n().memoizedState}function II(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tS(t))nS(e,n);else if(n=O_(t,e,n,r),n!==null){var i=Ut();Pn(n,t,r,i),rS(n,e,r)}}function RI(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tS(t))nS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,c=s(a,n);if(i.hasEagerState=!0,i.eagerState=c,Ln(c,a)){var o=e.interleaved;o===null?(i.next=i,Fg(e)):(i.next=o.next,o.next=i),e.interleaved=i;return}}catch{}finally{}n=O_(t,e,i,r),n!==null&&(i=Ut(),Pn(n,t,r,i),rS(n,e,r))}}function tS(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function nS(t,e){So=Gu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}var Ku={readContext:xn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},OI={readContext:xn,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:h0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xc(4194308,4,Q_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xc(4,2,t,e)},useMemo:function(t,e){var n=Bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=II.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:d0,useDebugValue:Gg,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=d0(!1),e=t[0];return t=TI.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=Bn();if(Pe){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),ct===null)throw Error(R(349));Ji&30||V_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,h0(B_.bind(null,r,s,t),[t]),r.flags|=2048,Zo(9,z_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Bn(),e=ct.identifierPrefix;if(Pe){var n=mr,r=pr;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AI={readContext:xn,useCallback:J_,useContext:xn,useEffect:Wg,useImperativeHandle:Y_,useInsertionEffect:G_,useLayoutEffect:K_,useMemo:X_,useReducer:Of,useRef:W_,useState:function(){return Of(Xo)},useDebugValue:Gg,useDeferredValue:function(t){var e=_n();return Z_(e,tt.memoizedState,t)},useTransition:function(){var t=Of(Xo)[0],e=_n().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:$_,useId:eS,unstable_isNewReconciler:!1},PI={readContext:xn,useCallback:J_,useContext:xn,useEffect:Wg,useImperativeHandle:Y_,useInsertionEffect:G_,useLayoutEffect:K_,useMemo:X_,useReducer:Af,useRef:W_,useState:function(){return Af(Xo)},useDebugValue:Gg,useDeferredValue:function(t){var e=_n();return tt===null?e.memoizedState=t:Z_(e,tt.memoizedState,t)},useTransition:function(){var t=Af(Xo)[0],e=_n().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:$_,useId:eS,unstable_isNewReconciler:!1};function da(t,e){try{var n="",r=e;do n+=lT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DI=typeof WeakMap=="function"?WeakMap:Map;function iS(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yu||(Yu=!0,am=r),Jp(t,e)},n}function sS(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jp(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function f0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=QI.bind(null,t,e,n),e.then(t,t))}function p0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var LI=Tr.ReactCurrentOwner,Kt=!1;function Mt(t,e,n,r){e.child=t===null?M_(e,null,n,r):ca(e,t.child,n,r)}function g0(t,e,n,r,i){n=n.render;var s=e.ref;return Xs(e,i),r=Hg(t,e,n,r,s,i),n=qg(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Pe&&n&&Og(e),e.flags|=1,Mt(t,e,r,i),e.child)}function b0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!tb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,aS(t,e,s,r,i)):(t=nu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:qo,n(a,r)&&t.ref===e.ref)return kr(t,e,i)}return e.flags|=1,t=ii(s,r),t.ref=e.ref,t.return=e,e.child=t}function aS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(qo(s,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,kr(t,e,i)}return Xp(t,e,n,r,i)}function oS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Hs,en),en|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Hs,en),en|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(Hs,en),en|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ee(Hs,en),en|=r;return Mt(t,e,i,n),e.child}function lS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xp(t,e,n,r,i){var s=Yt(n)?Qi:At.current;return s=oa(e,s),Xs(e,i),n=Hg(t,e,n,r,s,i),r=qg(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Pe&&r&&Og(e),e.flags|=1,Mt(t,e,n,i),e.child)}function v0(t,e,n,r,i){if(Yt(n)){var s=!0;$u(e)}else s=!1;if(Xs(e,i),e.stateNode===null)Zc(t,e),D_(e,n,r),Yp(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var o=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=xn(u):(u=Yt(n)?Qi:At.current,u=oa(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||o!==u)&&c0(e,a,r,u),Ur=!1;var f=e.memoizedState;a.state=f,qu(e,r,a,i),o=e.memoizedState,c!==r||f!==o||Qt.current||Ur?(typeof d=="function"&&(Qp(e,n,d,r),o=e.memoizedState),(c=Ur||l0(e,n,c,r,f,o,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=o),a.props=r,a.state=o,a.context=u,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,A_(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:Tn(e.type,c),a.props=u,h=e.pendingProps,f=a.context,o=n.contextType,typeof o=="object"&&o!==null?o=xn(o):(o=Yt(n)?Qi:At.current,o=oa(e,o));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==h||f!==o)&&c0(e,a,r,o),Ur=!1,f=e.memoizedState,a.state=f,qu(e,r,a,i);var w=e.memoizedState;c!==h||f!==w||Qt.current||Ur?(typeof g=="function"&&(Qp(e,n,g,r),w=e.memoizedState),(u=Ur||l0(e,n,u,r,f,w,o)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),a.props=r,a.state=w,a.context=o,r=u):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Zp(t,e,n,r,s,i)}function Zp(t,e,n,r,i,s){lS(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&r0(e,n,!1),kr(t,e,s);r=e.stateNode,LI.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ca(e,t.child,null,s),e.child=ca(e,null,c,s)):Mt(t,e,c,s),e.memoizedState=r.state,i&&r0(e,n,!0),e.child}function cS(t){var e=t.stateNode;e.pendingContext?n0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n0(t,e.context,!1),$g(t,e.containerInfo)}function y0(t,e,n,r,i){return la(),Pg(i),e.flags|=256,Mt(t,e,n,r),e.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(t){return{baseLanes:t,cachePool:null,transitions:null}}function uS(t,e,n){var r=e.pendingProps,i=De.current,s=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(De,i&1),t===null)return Gp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Qd(a,r,0,null),t=Bi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tm(n),e.memoizedState=em,t):Kg(e,a));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return MI(t,e,a,r,c,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,c=i.sibling;var o={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=o,e.deletions=null):(r=ii(i,o),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?s=ii(c,s):(s=Bi(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?tm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=em,r}return s=t.child,t=s.sibling,r=ii(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kg(t,e){return e=Qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sc(t,e,n,r){return r!==null&&Pg(r),ca(e,t.child,null,n),t=Kg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MI(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Pf(Error(R(422))),Sc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Qd({mode:"visible",children:r.children},i,0,null),s=Bi(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ca(e,t.child,null,a),e.child.memoizedState=tm(a),e.memoizedState=em,s);if(!(e.mode&1))return Sc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(R(419)),r=Pf(s,r,void 0),Sc(t,e,a,r)}if(c=(a&t.childLanes)!==0,Kt||c){if(r=ct,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sr(t,i),Pn(r,t,i,-1))}return eb(),r=Pf(Error(R(421))),Sc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,tn=ei(i.nextSibling),an=e,Pe=!0,Rn=null,t!==null&&(mn[gn++]=pr,mn[gn++]=mr,mn[gn++]=Yi,pr=t.id,mr=t.overflow,Yi=e),e=Kg(e,r.children),e.flags|=4096,e)}function w0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kp(t.return,e,n)}function Df(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&w0(t,n,e);else if(t.tag===19)w0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Df(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Df(e,!0,n,null,s);break;case"together":Df(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FI(t,e,n){switch(e.tag){case 3:cS(e),la();break;case 5:F_(e);break;case 1:Yt(e.type)&&$u(e);break;case 4:$g(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ee(Bu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?uS(t,e,n):(Ee(De,De.current&1),t=kr(t,e,n),t!==null?t.sibling:null);Ee(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,oS(t,e,n)}return kr(t,e,n)}var hS,nm,fS,pS;hS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nm=function(){};fS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Li(Jn.current);var s=null;switch(n){case"input":i=kp(t,i),r=kp(t,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=Np(t,i),r=Np(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fu)}Tp(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var o=r[u];if(c=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(a in c)!c.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in o)o.hasOwnProperty(a)&&c[a]!==o[a]&&(n||(n={}),n[a]=o[a])}else n||(s||(s=[]),s.push(u,n)),n=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(s=s||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fo.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&Te("scroll",t),s||c===o||(s=[])):(s=s||[]).push(u,o))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};pS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xa(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UI(t,e,n){var r=e.pendingProps;switch(Ag(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return Yt(e.type)&&Uu(),Ct(e),null;case 3:return r=e.stateNode,ua(),Ae(Qt),Ae(At),zg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(cm(Rn),Rn=null))),nm(t,e),Ct(e),null;case 5:Vg(e);var i=Li(Yo.current);if(n=e.type,t!==null&&e.stateNode!=null)fS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Ct(e),null}if(t=Li(Jn.current),xc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qn]=e,r[Ko]=s,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<oo.length;i++)Te(oo[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":Ty(r,s),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Te("invalid",r);break;case"textarea":Ry(r,s),Te("invalid",r)}Tp(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&wc(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&wc(r.textContent,c,t),i=["children",""+c]):Fo.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Te("scroll",r)}switch(n){case"input":hc(r),Iy(r,s,!0);break;case"textarea":hc(r),Oy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[qn]=e,t[Ko]=r,hS(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ip(n,r),n){case"dialog":Te("cancel",t),Te("close",t),i=r;break;case"iframe":case"object":case"embed":Te("load",t),i=r;break;case"video":case"audio":for(i=0;i<oo.length;i++)Te(oo[i],t);i=r;break;case"source":Te("error",t),i=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),i=r;break;case"details":Te("toggle",t),i=r;break;case"input":Ty(t,r),i=kp(t,r),Te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),Te("invalid",t);break;case"textarea":Ry(t,r),i=Np(t,r),Te("invalid",t);break;default:i=r}Tp(n,i),c=i;for(s in c)if(c.hasOwnProperty(s)){var o=c[s];s==="style"?Hx(t,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&zx(t,o)):s==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&Uo(t,o):typeof o=="number"&&Uo(t,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fo.hasOwnProperty(s)?o!=null&&s==="onScroll"&&Te("scroll",t):o!=null&&vg(t,s,o,a))}switch(n){case"input":hc(t),Iy(t,r,!1);break;case"textarea":hc(t),Oy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ks(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ks(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)pS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=Li(Yo.current),Li(Jn.current),xc(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(s=r.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return Ct(e),null;case 13:if(Ae(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&tn!==null&&e.mode&1&&!(e.flags&128))R_(),la(),e.flags|=98560,s=!1;else if(s=xc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[qn]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),s=!1}else Rn!==null&&(cm(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?nt===0&&(nt=3):eb())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return ua(),nm(t,e),t===null&&Wo(e.stateNode.containerInfo),Ct(e),null;case 10:return Mg(e.type._context),Ct(e),null;case 17:return Yt(e.type)&&Uu(),Ct(e),null;case 19:if(Ae(De),s=e.memoizedState,s===null)return Ct(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Xa(s,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Wu(t),a!==null){for(e.flags|=128,Xa(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>ha&&(e.flags|=128,r=!0,Xa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wu(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Pe)return Ct(e),null}else 2*qe()-s.renderingStartTime>ha&&n!==1073741824&&(e.flags|=128,r=!0,Xa(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=De.current,Ee(De,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return Zg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?en&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function $I(t,e){switch(Ag(e),e.tag){case 1:return Yt(e.type)&&Uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ua(),Ae(Qt),Ae(At),zg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vg(e),null;case 13:if(Ae(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(De),null;case 4:return ua(),null;case 10:return Mg(e.type._context),null;case 22:case 23:return Zg(),null;case 24:return null;default:return null}}var kc=!1,jt=!1,VI=typeof WeakSet=="function"?WeakSet:Set,U=null;function Bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function mS(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var x0=!1;function zI(t,e){if($p=Du,t=v_(),Rg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,o=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(c=a+i),h!==s||r!==0&&h.nodeType!==3||(o=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===i&&(c=a),f===s&&++d===r&&(o=a),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vp={focusedElem:t,selectionRange:n},Du=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,x=w.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?b:Tn(e.type,b),x);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(_){Ue(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return w=x0,x0=!1,w}function ko(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mS(e,n,s)}i=i.next}while(i!==r)}}function Gd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gS(t){var e=t.alternate;e!==null&&(t.alternate=null,gS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[Ko],delete e[Hp],delete e[kI],delete e[CI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bS(t){return t.tag===5||t.tag===3||t.tag===4}function _0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fu));else if(r!==4&&(t=t.child,t!==null))for(im(t,e,n),t=t.sibling;t!==null;)im(t,e,n),t=t.sibling}function sm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sm(t,e,n),t=t.sibling;t!==null;)sm(t,e,n),t=t.sibling}var pt=null,In=!1;function Dr(t,e,n){for(n=n.child;n!==null;)vS(t,e,n),n=n.sibling}function vS(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Ud,n)}catch{}switch(n.tag){case 5:jt||Bs(n,e);case 6:var r=pt,i=In;pt=null,Dr(t,e,n),pt=r,In=i,pt!==null&&(In?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(In?(t=pt,n=n.stateNode,t.nodeType===8?jf(t.parentNode,n):t.nodeType===1&&jf(t,n),Bo(t)):jf(pt,n.stateNode));break;case 4:r=pt,i=In,pt=n.stateNode.containerInfo,In=!0,Dr(t,e,n),pt=r,In=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&mS(n,e,a),i=i.next}while(i!==r)}Dr(t,e,n);break;case 1:if(!jt&&(Bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ue(n,e,c)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Dr(t,e,n),jt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function S0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VI),e.forEach(function(r){var i=JI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:pt=c.stateNode,In=!1;break e;case 3:pt=c.stateNode.containerInfo,In=!0;break e;case 4:pt=c.stateNode.containerInfo,In=!0;break e}c=c.return}if(pt===null)throw Error(R(160));vS(s,a,i),pt=null,In=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(u){Ue(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yS(e,t),e=e.sibling}function yS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),zn(t),r&4){try{ko(3,t,t.return),Gd(3,t)}catch(b){Ue(t,t.return,b)}try{ko(5,t,t.return)}catch(b){Ue(t,t.return,b)}}break;case 1:jn(e,t),zn(t),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(jn(e,t),zn(t),r&512&&n!==null&&Bs(n,n.return),t.flags&32){var i=t.stateNode;try{Uo(i,"")}catch(b){Ue(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,c=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&Ux(i,s),Ip(c,a);var u=Ip(c,s);for(a=0;a<o.length;a+=2){var d=o[a],h=o[a+1];d==="style"?Hx(i,h):d==="dangerouslySetInnerHTML"?zx(i,h):d==="children"?Uo(i,h):vg(i,d,h,u)}switch(c){case"input":Cp(i,s);break;case"textarea":$x(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ks(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ks(i,!!s.multiple,s.defaultValue,!0):Ks(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ko]=s}catch(b){Ue(t,t.return,b)}}break;case 6:if(jn(e,t),zn(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Ue(t,t.return,b)}}break;case 3:if(jn(e,t),zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bo(e.containerInfo)}catch(b){Ue(t,t.return,b)}break;case 4:jn(e,t),zn(t);break;case 13:jn(e,t),zn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Jg=qe())),r&4&&S0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(u=jt)||d,jn(e,t),jt=u):jn(e,t),zn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(U=t,d=t.child;d!==null;){for(h=U=d;U!==null;){switch(f=U,g=f.child,f.tag){case 0:case 11:case 14:case 15:ko(4,f,f.return);break;case 1:Bs(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(b){Ue(r,n,b)}}break;case 5:Bs(f,f.return);break;case 22:if(f.memoizedState!==null){C0(h);continue}}g!==null?(g.return=f,U=g):C0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=h.stateNode,o=h.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=Bx("display",a))}catch(b){Ue(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){Ue(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jn(e,t),zn(t),r&4&&S0(t);break;case 21:break;default:jn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bS(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uo(i,""),r.flags&=-33);var s=_0(t);sm(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=_0(t);im(t,c,a);break;default:throw Error(R(161))}}catch(o){Ue(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BI(t,e,n){U=t,wS(t)}function wS(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var i=U,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||kc;if(!a){var c=i.alternate,o=c!==null&&c.memoizedState!==null||jt;c=kc;var u=jt;if(kc=a,(jt=o)&&!u)for(U=i;U!==null;)a=U,o=a.child,a.tag===22&&a.memoizedState!==null?E0(i):o!==null?(o.return=a,U=o):E0(i);for(;s!==null;)U=s,wS(s),s=s.sibling;U=i,kc=c,jt=u}k0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,U=s):k0(t)}}function k0(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||Gd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&o0(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}o0(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}jt||e.flags&512&&rm(e)}catch(f){Ue(e,e.return,f)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function C0(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function E0(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gd(4,e)}catch(o){Ue(e,n,o)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(o){Ue(e,i,o)}}var s=e.return;try{rm(e)}catch(o){Ue(e,s,o)}break;case 5:var a=e.return;try{rm(e)}catch(o){Ue(e,a,o)}}}catch(o){Ue(e,e.return,o)}if(e===t){U=null;break}var c=e.sibling;if(c!==null){c.return=e.return,U=c;break}U=e.return}}var HI=Math.ceil,Qu=Tr.ReactCurrentDispatcher,Qg=Tr.ReactCurrentOwner,yn=Tr.ReactCurrentBatchConfig,ve=0,ct=null,Qe=null,yt=0,en=0,Hs=yi(0),nt=0,el=null,Xi=0,Kd=0,Yg=0,Co=null,Wt=null,Jg=0,ha=1/0,dr=null,Yu=!1,am=null,ni=null,Cc=!1,Kr=null,Ju=0,Eo=0,om=null,eu=-1,tu=0;function Ut(){return ve&6?qe():eu!==-1?eu:eu=qe()}function ri(t){return t.mode&1?ve&2&&yt!==0?yt&-yt:NI.transition!==null?(tu===0&&(tu=n_()),tu):(t=Se,t!==0||(t=window.event,t=t===void 0?16:c_(t.type)),t):1}function Pn(t,e,n,r){if(50<Eo)throw Eo=0,om=null,Error(R(185));jl(t,n,r),(!(ve&2)||t!==ct)&&(t===ct&&(!(ve&2)&&(Kd|=n),nt===4&&Vr(t,yt)),Jt(t,r),n===1&&ve===0&&!(e.mode&1)&&(ha=qe()+500,Hd&&wi()))}function Jt(t,e){var n=t.callbackNode;NT(t,e);var r=Pu(t,t===ct?yt:0);if(r===0)n!==null&&Dy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dy(n),e===1)t.tag===0?EI(N0.bind(null,t)):j_(N0.bind(null,t)),_I(function(){!(ve&6)&&wi()}),n=null;else{switch(r_(r)){case 1:n=Sg;break;case 4:n=e_;break;case 16:n=Au;break;case 536870912:n=t_;break;default:n=Au}n=jS(n,xS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xS(t,e){if(eu=-1,tu=0,ve&6)throw Error(R(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var r=Pu(t,t===ct?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xu(t,r);else{e=r;var i=ve;ve|=2;var s=SS();(ct!==t||yt!==e)&&(dr=null,ha=qe()+500,zi(t,e));do try{GI();break}catch(c){_S(t,c)}while(!0);Lg(),Qu.current=s,ve=i,Qe!==null?e=0:(ct=null,yt=0,e=nt)}if(e!==0){if(e===2&&(i=Dp(t),i!==0&&(r=i,e=lm(t,i))),e===1)throw n=el,zi(t,0),Vr(t,r),Jt(t,qe()),n;if(e===6)Vr(t,r);else{if(i=t.current.alternate,!(r&30)&&!qI(i)&&(e=Xu(t,r),e===2&&(s=Dp(t),s!==0&&(r=s,e=lm(t,s))),e===1))throw n=el,zi(t,0),Vr(t,r),Jt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:Ti(t,Wt,dr);break;case 3:if(Vr(t,r),(r&130023424)===r&&(e=Jg+500-qe(),10<e)){if(Pu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bp(Ti.bind(null,t,Wt,dr),e);break}Ti(t,Wt,dr);break;case 4:if(Vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-An(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HI(r/1960))-r,10<r){t.timeoutHandle=Bp(Ti.bind(null,t,Wt,dr),r);break}Ti(t,Wt,dr);break;case 5:Ti(t,Wt,dr);break;default:throw Error(R(329))}}}return Jt(t,qe()),t.callbackNode===n?xS.bind(null,t):null}function lm(t,e){var n=Co;return t.current.memoizedState.isDehydrated&&(zi(t,e).flags|=256),t=Xu(t,e),t!==2&&(e=Wt,Wt=n,e!==null&&cm(e)),t}function cm(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function qI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ln(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(t,e){for(e&=~Yg,e&=~Kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function N0(t){if(ve&6)throw Error(R(327));Zs();var e=Pu(t,0);if(!(e&1))return Jt(t,qe()),null;var n=Xu(t,e);if(t.tag!==0&&n===2){var r=Dp(t);r!==0&&(e=r,n=lm(t,r))}if(n===1)throw n=el,zi(t,0),Vr(t,e),Jt(t,qe()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ti(t,Wt,dr),Jt(t,qe()),null}function Xg(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(ha=qe()+500,Hd&&wi())}}function Zi(t){Kr!==null&&Kr.tag===0&&!(ve&6)&&Zs();var e=ve;ve|=1;var n=yn.transition,r=Se;try{if(yn.transition=null,Se=1,t)return t()}finally{Se=r,yn.transition=n,ve=e,!(ve&6)&&wi()}}function Zg(){en=Hs.current,Ae(Hs)}function zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xI(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(Ag(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uu();break;case 3:ua(),Ae(Qt),Ae(At),zg();break;case 5:Vg(r);break;case 4:ua();break;case 13:Ae(De);break;case 19:Ae(De);break;case 10:Mg(r.type._context);break;case 22:case 23:Zg()}n=n.return}if(ct=t,Qe=t=ii(t.current,null),yt=en=e,nt=0,el=null,Yg=Kd=Xi=0,Wt=Co=null,Di!==null){for(e=0;e<Di.length;e++)if(n=Di[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Di=null}return t}function _S(t,e){do{var n=Qe;try{if(Lg(),Jc.current=Ku,Gu){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gu=!1}if(Ji=0,ot=tt=Le=null,So=!1,Jo=0,Qg.current=null,n===null||n.return===null){nt=1,el=e,Qe=null;break}e:{var s=t,a=n.return,c=n,o=e;if(e=yt,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,d=c,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=p0(a);if(g!==null){g.flags&=-257,m0(g,a,c,s,e),g.mode&1&&f0(s,u,e),e=g,o=u;var w=e.updateQueue;if(w===null){var b=new Set;b.add(o),e.updateQueue=b}else w.add(o);break e}else{if(!(e&1)){f0(s,u,e),eb();break e}o=Error(R(426))}}else if(Pe&&c.mode&1){var x=p0(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),m0(x,a,c,s,e),Pg(da(o,c));break e}}s=o=da(o,c),nt!==4&&(nt=2),Co===null?Co=[s]:Co.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=iS(s,o,e);a0(s,m);break e;case 1:c=o;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ni===null||!ni.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=sS(s,c,e);a0(s,_);break e}}s=s.return}while(s!==null)}CS(n)}catch(k){e=k,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function SS(){var t=Qu.current;return Qu.current=Ku,t===null?Ku:t}function eb(){(nt===0||nt===3||nt===2)&&(nt=4),ct===null||!(Xi&268435455)&&!(Kd&268435455)||Vr(ct,yt)}function Xu(t,e){var n=ve;ve|=2;var r=SS();(ct!==t||yt!==e)&&(dr=null,zi(t,e));do try{WI();break}catch(i){_S(t,i)}while(!0);if(Lg(),ve=n,Qu.current=r,Qe!==null)throw Error(R(261));return ct=null,yt=0,nt}function WI(){for(;Qe!==null;)kS(Qe)}function GI(){for(;Qe!==null&&!vT();)kS(Qe)}function kS(t){var e=NS(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?CS(t):Qe=e,Qg.current=null}function CS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$I(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Qe=null;return}}else if(n=UI(n,e,en),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);nt===0&&(nt=5)}function Ti(t,e,n){var r=Se,i=yn.transition;try{yn.transition=null,Se=1,KI(t,e,n,r)}finally{yn.transition=i,Se=r}return null}function KI(t,e,n,r){do Zs();while(Kr!==null);if(ve&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(jT(t,s),t===ct&&(Qe=ct=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cc||(Cc=!0,jS(Au,function(){return Zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var a=Se;Se=1;var c=ve;ve|=4,Qg.current=null,zI(t,n),yS(n,t),pI(Vp),Du=!!$p,Vp=$p=null,t.current=n,BI(n),yT(),ve=c,Se=a,yn.transition=s}else t.current=n;if(Cc&&(Cc=!1,Kr=t,Ju=i),s=t.pendingLanes,s===0&&(ni=null),_T(n.stateNode),Jt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yu)throw Yu=!1,t=am,am=null,t;return Ju&1&&t.tag!==0&&Zs(),s=t.pendingLanes,s&1?t===om?Eo++:(Eo=0,om=t):Eo=0,wi(),null}function Zs(){if(Kr!==null){var t=r_(Ju),e=yn.transition,n=Se;try{if(yn.transition=null,Se=16>t?16:t,Kr===null)var r=!1;else{if(t=Kr,Kr=null,Ju=0,ve&6)throw Error(R(331));var i=ve;for(ve|=4,U=t.current;U!==null;){var s=U,a=s.child;if(U.flags&16){var c=s.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:ko(8,d,s)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var f=d.sibling,g=d.return;if(gS(d),d===u){U=null;break}if(f!==null){f.return=g,U=f;break}U=g}}}var w=s.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}U=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,U=a;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ko(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,U=m;break e}U=s.return}}var p=t.current;for(U=p;U!==null;){a=U;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,U=v;else e:for(a=p;U!==null;){if(c=U,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Gd(9,c)}}catch(k){Ue(c,c.return,k)}if(c===a){U=null;break e}var _=c.sibling;if(_!==null){_.return=c.return,U=_;break e}U=c.return}}if(ve=i,wi(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Ud,t)}catch{}r=!0}return r}finally{Se=n,yn.transition=e}}return!1}function j0(t,e,n){e=da(n,e),e=iS(t,e,1),t=ti(t,e,1),e=Ut(),t!==null&&(jl(t,1,e),Jt(t,e))}function Ue(t,e,n){if(t.tag===3)j0(t,t,n);else for(;e!==null;){if(e.tag===3){j0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=da(n,t),t=sS(e,t,1),e=ti(e,t,1),t=Ut(),e!==null&&(jl(e,1,t),Jt(e,t));break}}e=e.return}}function QI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(yt&n)===n&&(nt===4||nt===3&&(yt&130023424)===yt&&500>qe()-Jg?zi(t,0):Yg|=n),Jt(t,e)}function ES(t,e){e===0&&(t.mode&1?(e=mc,mc<<=1,!(mc&130023424)&&(mc=4194304)):e=1);var n=Ut();t=Sr(t,e),t!==null&&(jl(t,e,n),Jt(t,n))}function YI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ES(t,n)}function JI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),ES(t,n)}var NS;NS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,FI(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,Pe&&e.flags&1048576&&T_(e,zu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zc(t,e),t=e.pendingProps;var i=oa(e,At.current);Xs(e,n),i=Hg(null,e,r,t,i,n);var s=qg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(s=!0,$u(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ug(e),i.updater=qd,e.stateNode=i,i._reactInternals=e,Yp(e,r,t,n),e=Zp(null,e,r,!0,s,n)):(e.tag=0,Pe&&s&&Og(e),Mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ZI(r),t=Tn(r,t),i){case 0:e=Xp(null,e,r,t,n);break e;case 1:e=v0(null,e,r,t,n);break e;case 11:e=g0(null,e,r,t,n);break e;case 14:e=b0(null,e,r,Tn(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Xp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),v0(t,e,r,i,n);case 3:e:{if(cS(e),t===null)throw Error(R(387));r=e.pendingProps,s=e.memoizedState,i=s.element,A_(t,e),qu(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=da(Error(R(423)),e),e=y0(t,e,r,n,i);break e}else if(r!==i){i=da(Error(R(424)),e),e=y0(t,e,r,n,i);break e}else for(tn=ei(e.stateNode.containerInfo.firstChild),an=e,Pe=!0,Rn=null,n=M_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(la(),r===i){e=kr(t,e,n);break e}Mt(t,e,r,n)}e=e.child}return e;case 5:return F_(e),t===null&&Gp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,zp(r,i)?a=null:s!==null&&zp(r,s)&&(e.flags|=32),lS(t,e),Mt(t,e,a,n),e.child;case 6:return t===null&&Gp(e),null;case 13:return uS(t,e,n);case 4:return $g(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ca(e,null,r,n):Mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),g0(t,e,r,i,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ee(Bu,r._currentValue),r._currentValue=a,s!==null)if(Ln(s.value,a)){if(s.children===i.children&&!Qt.current){e=kr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var o=c.firstContext;o!==null;){if(o.context===r){if(s.tag===1){o=yr(-1,n&-n),o.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?o.next=o:(o.next=d.next,d.next=o),u.pending=o}}s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Kp(s.return,n,e),c.lanes|=n;break}o=o.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(R(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Kp(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xs(e,n),i=xn(i),r=r(i),e.flags|=1,Mt(t,e,r,n),e.child;case 14:return r=e.type,i=Tn(r,e.pendingProps),i=Tn(r.type,i),b0(t,e,r,i,n);case 15:return aS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Zc(t,e),e.tag=1,Yt(r)?(t=!0,$u(e)):t=!1,Xs(e,n),D_(e,r,i),Yp(e,r,i,n),Zp(null,e,r,!0,t,n);case 19:return dS(t,e,n);case 22:return oS(t,e,n)}throw Error(R(156,e.tag))};function jS(t,e){return Zx(t,e)}function XI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,r){return new XI(t,e,n,r)}function tb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZI(t){if(typeof t=="function")return tb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wg)return 11;if(t===xg)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nu(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")tb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ps:return Bi(n.children,i,s,e);case yg:a=8,i|=8;break;case wp:return t=vn(12,n,e,i|2),t.elementType=wp,t.lanes=s,t;case xp:return t=vn(13,n,e,i),t.elementType=xp,t.lanes=s,t;case _p:return t=vn(19,n,e,i),t.elementType=_p,t.lanes=s,t;case Lx:return Qd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Px:a=10;break e;case Dx:a=9;break e;case wg:a=11;break e;case xg:a=14;break e;case Fr:a=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=vn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Bi(t,e,n,r){return t=vn(7,t,r,e),t.lanes=n,t}function Qd(t,e,n,r){return t=vn(22,t,r,e),t.elementType=Lx,t.lanes=n,t.stateNode={isHidden:!1},t}function Lf(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function Mf(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nb(t,e,n,r,i,s,a,c,o){return t=new eR(t,e,n,c,o),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ug(s),t}function tR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:As,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TS(t){if(!t)return di;t=t._reactInternals;e:{if(hs(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(Yt(n))return N_(t,n,e)}return e}function IS(t,e,n,r,i,s,a,c,o){return t=nb(n,r,!0,t,i,s,a,c,o),t.context=TS(null),n=t.current,r=Ut(),i=ri(n),s=yr(r,i),s.callback=e??null,ti(n,s,i),t.current.lanes=i,jl(t,i,r),Jt(t,r),t}function Yd(t,e,n,r){var i=e.current,s=Ut(),a=ri(i);return n=TS(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,a),t!==null&&(Pn(t,i,a,s),Yc(t,i,a)),a}function Zu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rb(t,e){T0(t,e),(t=t.alternate)&&T0(t,e)}function nR(){return null}var RS=typeof reportError=="function"?reportError:function(t){console.error(t)};function ib(t){this._internalRoot=t}Jd.prototype.render=ib.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Yd(t,e,null,null)};Jd.prototype.unmount=ib.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zi(function(){Yd(null,t,null,null)}),e[_r]=null}};function Jd(t){this._internalRoot=t}Jd.prototype.unstable_scheduleHydration=function(t){if(t){var e=a_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$r.length&&e!==0&&e<$r[n].priority;n++);$r.splice(n,0,t),n===0&&l_(t)}};function sb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I0(){}function rR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Zu(a);s.call(u)}}var a=IS(e,r,t,0,null,!1,!1,"",I0);return t._reactRootContainer=a,t[_r]=a.current,Wo(t.nodeType===8?t.parentNode:t),Zi(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var u=Zu(o);c.call(u)}}var o=nb(t,0,!1,null,null,!1,!1,"",I0);return t._reactRootContainer=o,t[_r]=o.current,Wo(t.nodeType===8?t.parentNode:t),Zi(function(){Yd(e,o,n,r)}),o}function Zd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var c=i;i=function(){var o=Zu(a);c.call(o)}}Yd(e,a,t,i)}else a=rR(n,e,t,i,r);return Zu(a)}i_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ao(e.pendingLanes);n!==0&&(kg(e,n|1),Jt(e,qe()),!(ve&6)&&(ha=qe()+500,wi()))}break;case 13:Zi(function(){var r=Sr(t,1);if(r!==null){var i=Ut();Pn(r,t,1,i)}}),rb(t,1)}};Cg=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Ut();Pn(e,t,134217728,n)}rb(t,134217728)}};s_=function(t){if(t.tag===13){var e=ri(t),n=Sr(t,e);if(n!==null){var r=Ut();Pn(n,t,e,r)}rb(t,e)}};a_=function(){return Se};o_=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Op=function(t,e,n){switch(e){case"input":if(Cp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bd(r);if(!i)throw Error(R(90));Fx(r),Cp(r,i)}}}break;case"textarea":$x(t,n);break;case"select":e=n.value,e!=null&&Ks(t,!!n.multiple,e,!1)}};Gx=Xg;Kx=Zi;var iR={usingClientEntryPoint:!1,Events:[Il,Fs,Bd,qx,Wx,Xg]},Za={findFiberByHostInstance:Pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sR={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jx(t),t===null?null:t.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||nR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Ud=Ec.inject(sR),Yn=Ec}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iR;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sb(e))throw Error(R(200));return tR(t,e,null,n)};dn.createRoot=function(t,e){if(!sb(t))throw Error(R(299));var n=!1,r="",i=RS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=nb(t,1,!1,null,null,n,!1,r,i),t[_r]=e.current,Wo(t.nodeType===8?t.parentNode:t),new ib(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Jx(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return Zi(t)};dn.hydrate=function(t,e,n){if(!Xd(e))throw Error(R(200));return Zd(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!sb(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=RS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=IS(e,null,t,1,n??null,i,!1,s,a),t[_r]=e.current,Wo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jd(e)};dn.render=function(t,e,n){if(!Xd(e))throw Error(R(200));return Zd(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Xd(t))throw Error(R(40));return t._reactRootContainer?(Zi(function(){Zd(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};dn.unstable_batchedUpdates=Xg;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xd(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Zd(t,e,n,!1,r)};dn.version="18.2.0-next-9e3b772b8-20220608";function OS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OS)}catch(t){console.error(t)}}OS(),Tx.exports=dn;var aR=Tx.exports,AS,R0=aR;AS=R0.createRoot,R0.hydrateRoot;var PS={exports:{}},DS={};/**
* @license React
* use-sync-external-store-with-selector.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ol=y;function oR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lR=typeof Object.is=="function"?Object.is:oR,cR=Ol.useSyncExternalStore,uR=Ol.useRef,dR=Ol.useEffect,hR=Ol.useMemo,fR=Ol.useDebugValue;DS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=uR(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=hR(function(){function o(g){if(!u){if(u=!0,d=g,g=r(g),i!==void 0&&a.hasValue){var w=a.value;if(i(w,g))return h=w}return h=g}if(w=h,lR(d,g))return w;var b=r(g);return i!==void 0&&i(w,b)?w:(d=g,h=b)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return o(e())},f===null?void 0:function(){return o(f())}]},[e,n,r,i]);var c=cR(t,s[0],s[1]);return dR(function(){a.hasValue=!0,a.value=c},[c]),fR(c),c};PS.exports=DS;var pR=PS.exports,nn="default"in vp?Y:vp,O0=Symbol.for("react-redux-context"),A0=typeof globalThis<"u"?globalThis:{};function mR(){if(!nn.createContext)return{};const t=A0[O0]??(A0[O0]=new Map);let e=t.get(nn.createContext);return e||(e=nn.createContext(null),t.set(nn.createContext,e)),e}var hi=mR(),gR=()=>{throw new Error("uSES not initialized!")};function ab(t=hi){return function(){return nn.useContext(t)}}var LS=ab(),MS=gR,bR=t=>{MS=t},vR=(t,e)=>t===e;function yR(t=hi){const e=t===hi?LS:ab(t),n=(r,i={})=>{const{equalityFn:s=vR,devModeChecks:a={}}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:o,getServerState:u,stabilityCheck:d,identityFunctionCheck:h}=e();nn.useRef(!0);const f=nn.useCallback({[r.name](w){return r(w)}}[r.name],[r,d,a.stabilityCheck]),g=MS(o.addNestedSub,c.getState,u||c.getState,f,s);return nn.useDebugValue(g),g};return Object.assign(n,{withTypes:()=>n}),n}var me=yR();function wR(t){t()}function xR(){let t=null,e=null;return{clear(){t=null,e=null},notify(){wR(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var P0={notify(){},get:()=>[]};function _R(t,e){let n,r=P0,i=0,s=!1;function a(b){d();const x=r.subscribe(b);let m=!1;return()=>{m||(m=!0,x(),h())}}function c(){r.notify()}function o(){w.onStateChange&&w.onStateChange()}function u(){return s}function d(){i++,n||(n=e?e.addNestedSub(o):t.subscribe(o),r=xR())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=P0)}function f(){s||(s=!0,d())}function g(){s&&(s=!1,h())}const w={addNestedSub:a,notifyNestedSubs:c,handleChangeWrapper:o,isSubscribed:u,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>r};return w}var SR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kR=SR?nn.useLayoutEffect:nn.useEffect;function CR({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=nn.useMemo(()=>{const u=_R(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),c=nn.useMemo(()=>t.getState(),[t]);kR(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),c!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,c]);const o=e||hi;return nn.createElement(o.Provider,{value:a},n)}var ER=CR;function FS(t=hi){const e=t===hi?LS:ab(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var NR=FS();function jR(t=hi){const e=t===hi?NR:FS(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var ob=jR();bR(pR.useSyncExternalStoreWithSelector);function ru(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=function(e){return typeof e}:ru=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function TR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IR(t,e,n){return e&&D0(t.prototype,e),n&&D0(t,n),t}function RR(t,e){return e&&(ru(e)==="object"||typeof e=="function")?e:iu(t)}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},um(t)}function iu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dm(t,e)}function dm(t,e){return dm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dm(t,e)}function su(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var US=function(t){OR(e,t);function e(){var n,r;TR(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=RR(this,(n=um(e)).call.apply(n,[this].concat(s))),su(iu(r),"state",{bootstrapped:!1}),su(iu(r),"_unsubscribe",void 0),su(iu(r),"handlePersistorState",function(){var c=r.props.persistor,o=c.getState(),u=o.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return IR(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(y.PureComponent);su(US,"defaultProps",{children:null,loading:null});function ft(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var AR=typeof Symbol=="function"&&Symbol.observable||"@@observable",L0=AR,Ff=()=>Math.random().toString(36).substring(7).split("").join("."),PR={INIT:`@@redux/INIT${Ff()}`,REPLACE:`@@redux/REPLACE${Ff()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ff()}`},ed=PR;function lb(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function cb(t,e,n){if(typeof t!="function")throw new Error(ft(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ft(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ft(1));return n(cb)(t,e)}let r=t,i=e,s=new Map,a=s,c=0,o=!1;function u(){a===s&&(a=new Map,s.forEach((b,x)=>{a.set(x,b)}))}function d(){if(o)throw new Error(ft(3));return i}function h(b){if(typeof b!="function")throw new Error(ft(4));if(o)throw new Error(ft(5));let x=!0;u();const m=c++;return a.set(m,b),function(){if(x){if(o)throw new Error(ft(6));x=!1,u(),a.delete(m),s=null}}}function f(b){if(!lb(b))throw new Error(ft(7));if(typeof b.type>"u")throw new Error(ft(8));if(typeof b.type!="string")throw new Error(ft(17));if(o)throw new Error(ft(9));try{o=!0,i=r(i,b)}finally{o=!1}return(s=a).forEach(x=>{x()}),b}function g(b){if(typeof b!="function")throw new Error(ft(10));r=b,f({type:ed.REPLACE})}function w(){const b=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ft(11));function m(){const p=x;p.next&&p.next(d())}return m(),{unsubscribe:b(m)}},[L0](){return this}}}return f({type:ed.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:g,[L0]:w}}function DR(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ed.INIT})>"u")throw new Error(ft(12));if(typeof n(void 0,{type:ed.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ft(13))})}function LR(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{DR(n)}catch(s){i=s}return function(s={},a){if(i)throw i;let c=!1;const o={};for(let u=0;u<r.length;u++){const d=r[u],h=n[d],f=s[d],g=h(f,a);if(typeof g>"u")throw a&&a.type,new Error(ft(14));o[d]=g,c=c||g!==f}return c=c||r.length!==Object.keys(s).length,c?o:s}}function td(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function MR(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(ft(15))};const a={getState:i.getState,dispatch:(o,...u)=>s(o,...u)},c=t.map(o=>o(a));return s=td(...c)(i.dispatch),{...i,dispatch:s}}}function FR(t){return lb(t)&&"type"in t&&typeof t.type=="string"}var $S=Symbol.for("immer-nothing"),M0=Symbol.for("immer-draftable"),ln=Symbol.for("immer-state");function On(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fa=Object.getPrototypeOf;function fi(t){return!!t&&!!t[ln]}function Cr(t){var e;return t?VS(t)||Array.isArray(t)||!!t[M0]||!!((e=t.constructor)!=null&&e[M0])||th(t)||nh(t):!1}var UR=Object.prototype.constructor.toString();function VS(t){if(!t||typeof t!="object")return!1;const e=fa(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===UR}function tl(t,e){eh(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function eh(t){const e=t[ln];return e?e.type_:Array.isArray(t)?1:th(t)?2:nh(t)?3:0}function hm(t,e){return eh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function zS(t,e,n){const r=eh(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function $R(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function th(t){return t instanceof Map}function nh(t){return t instanceof Set}function Ii(t){return t.copy_||t.base_}function fm(t,e){if(th(t))return new Map(t);if(nh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&VS(t))return fa(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[ln];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],a=n[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(fa(t),n)}function ub(t,e=!1){return rh(t)||fi(t)||!Cr(t)||(eh(t)>1&&(t.set=t.add=t.clear=t.delete=VR),Object.freeze(t),e&&tl(t,(n,r)=>ub(r,!0))),t}function VR(){On(2)}function rh(t){return Object.isFrozen(t)}var zR={};function es(t){const e=zR[t];return e||On(0,t),e}var nl;function BS(){return nl}function BR(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function F0(t,e){e&&(es("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function pm(t){mm(t),t.drafts_.forEach(HR),t.drafts_=null}function mm(t){t===nl&&(nl=t.parent_)}function U0(t){return nl=BR(nl,t)}function HR(t){const e=t[ln];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ln].modified_&&(pm(e),On(4)),Cr(t)&&(t=nd(e,t),e.parent_||rd(e,t)),e.patches_&&es("Patches").generateReplacementPatches_(n[ln].base_,t,e.patches_,e.inversePatches_)):t=nd(e,n,[]),pm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==$S?t:void 0}function nd(t,e,n){if(rh(e))return e;const r=e[ln];if(!r)return tl(e,(i,s)=>V0(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return rd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),tl(s,(c,o)=>V0(t,r,i,c,o,n,a)),rd(t,i,!1),n&&t.patches_&&es("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function V0(t,e,n,r,i,s,a){if(fi(i)){const c=s&&e&&e.type_!==3&&!hm(e.assigned_,r)?s.concat(r):void 0,o=nd(t,i,c);if(zS(n,r,o),fi(o))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Cr(i)&&!rh(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;nd(t,i),(!e||!e.scope_.parent_)&&rd(t,i)}}function rd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ub(e,n)}function qR(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:BS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=db;n&&(i=[r],s=rl);const{revoke:a,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=a,c}var db={get(t,e){if(e===ln)return t;const n=Ii(t);if(!hm(n,e))return WR(t,n,e);const r=n[e];return t.finalized_||!Cr(r)?r:r===Uf(t.base_,e)?($f(t),t.copy_[e]=bm(r,t)):r},has(t,e){return e in Ii(t)},ownKeys(t){return Reflect.ownKeys(Ii(t))},set(t,e,n){const r=HS(Ii(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Uf(Ii(t),e),s=i==null?void 0:i[ln];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if($R(n,i)&&(n!==void 0||hm(t.base_,e)))return!0;$f(t),gm(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Uf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,$f(t),gm(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ii(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){On(11)},getPrototypeOf(t){return fa(t.base_)},setPrototypeOf(){On(12)}},rl={};tl(db,(t,e)=>{rl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});rl.deleteProperty=function(t,e){return rl.set.call(this,t,e,void 0)};rl.set=function(t,e,n){return db.set.call(this,t[0],e,n,t[0])};function Uf(t,e){const n=t[ln];return(n?Ii(n):t)[e]}function WR(t,e,n){var r;const i=HS(e,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function HS(t,e){if(!(e in t))return;let n=fa(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=fa(n)}}function gm(t){t.modified_||(t.modified_=!0,t.parent_&&gm(t.parent_))}function $f(t){t.copy_||(t.copy_=fm(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GR=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(c=s,...o){return a.produce(c,u=>n.call(this,u,...o))}}typeof n!="function"&&On(6),r!==void 0&&typeof r!="function"&&On(7);let i;if(Cr(e)){const s=U0(this),a=bm(e,void 0);let c=!0;try{i=n(a),c=!1}finally{c?pm(s):mm(s)}return F0(s,r),$0(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===$S&&(i=void 0),this.autoFreeze_&&ub(i,!0),r){const s=[],a=[];es("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else On(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,c=>e(c,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Cr(t)||On(8),fi(t)&&(t=qS(t));const e=U0(this),n=bm(t,void 0);return n[ln].isManual_=!0,mm(e),n}finishDraft(t,e){const n=t&&t[ln];(!n||!n.isManual_)&&On(9);const{scope_:r}=n;return F0(r,e),$0(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=es("Patches").applyPatches_;return fi(t)?r(t,e):this.produce(t,i=>r(i,e))}};function bm(t,e){const n=th(t)?es("MapSet").proxyMap_(t,e):nh(t)?es("MapSet").proxySet_(t,e):qR(t,e);return(e?e.scope_:BS()).drafts_.push(n),n}function qS(t){return fi(t)||On(10,t),WS(t)}function WS(t){if(!Cr(t)||rh(t))return t;const e=t[ln];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=fm(t,e.scope_.immer_.useStrictShallowCopy_)}else n=fm(t,!0);return tl(n,(r,i)=>{zS(n,r,WS(i))}),e&&(e.finalized_=!1),n}var cn=new GR,GS=cn.produce;cn.produceWithPatches.bind(cn);cn.setAutoFreeze.bind(cn);cn.setUseStrictShallowCopy.bind(cn);cn.applyPatches.bind(cn);cn.createDraft.bind(cn);cn.finishDraft.bind(cn);function KR(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function QR(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function YR(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var z0=t=>Array.isArray(t)?t:[t];function JR(t){const e=Array.isArray(t[0])?t[0]:t;return YR(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function XR(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var ZR=class{constructor(t){this.value=t}deref(){return this.value}},eO=typeof WeakRef<"u"?WeakRef:ZR,tO=0,B0=1;function Nc(){return{s:tO,v:void 0,o:null,p:null}}function hb(t,e={}){let n=Nc();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var c;let o=n;const{length:u}=arguments;for(let f=0,g=u;f<g;f++){const w=arguments[f];if(typeof w=="function"||typeof w=="object"&&w!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const x=b.get(w);x===void 0?(o=Nc(),b.set(w,o)):o=x}else{let b=o.p;b===null&&(o.p=b=new Map);const x=b.get(w);x===void 0?(o=Nc(),b.set(w,o)):o=x}}const d=o;let h;if(o.s===B0?h=o.v:(h=t.apply(null,arguments),s++),d.s=B0,r){const f=((c=i==null?void 0:i.deref)==null?void 0:c.call(i))??i;f!=null&&r(f,h)&&(h=f,s!==0&&s--),i=typeof h=="object"&&h!==null||typeof h=="function"?new eO(h):h}return d.v=h,h}return a.clearCache=()=>{n=Nc(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function KS(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,c,o={},u=i.pop();typeof u=="object"&&(o=u,u=i.pop()),KR(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...o},{memoize:h,memoizeOptions:f=[],argsMemoize:g=hb,argsMemoizeOptions:w=[],devModeChecks:b={}}=d,x=z0(f),m=z0(w),p=JR(i),v=h(function(){return s++,u.apply(null,arguments)},...x),_=g(function(){a++;const k=XR(p,arguments);return c=v.apply(null,k),c},...m);return Object.assign(_,{resultFunc:u,memoizedResultFunc:v,dependencies:p,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var nO=KS(hb),rO=Object.assign((t,e=nO)=>{QR(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(i=>t[i]);return e(r,(...i)=>i.reduce((s,a,c)=>(s[n[c]]=a,s),{}))},{withTypes:()=>rO});function QS(t){return({dispatch:e,getState:n})=>r=>i=>typeof i=="function"?i(e,n,t):r(i)}var iO=QS(),sO=QS,aO=(...t)=>{const e=KS(...t),n=Object.assign((...r)=>{const i=e(...r),s=(a,...c)=>i(fi(a)?qS(a):a,...c);return Object.assign(s,i),s},{withTypes:()=>n});return n};aO(hb);var oO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?td:td.apply(null,arguments)},lO=t=>t&&typeof t.match=="function";function wr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Xt(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>FR(r)&&r.type===t,n}var YS=class lo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,lo.prototype)}static get[Symbol.species](){return lo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new lo(...e[0].concat(this)):new lo(...e.concat(this))}};function H0(t){return Cr(t)?GS(t,()=>{}):t}function q0(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(Xt(10));const r=n.insert(e,t);return t.set(e,r),r}function cO(t){return typeof t=="boolean"}var uO=()=>function(t){const{thunk:e=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=t??{};let s=new YS;return e&&(cO(e)?s.push(iO):s.push(sO(e.extraArgument))),s},dO="RTK_autoBatch",JS=t=>e=>{setTimeout(e,t)},hO=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:JS(10),fO=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const c=new Set,o=t.type==="tick"?queueMicrotask:t.type==="raf"?hO:t.type==="callback"?t.queueNotification:JS(t.timeout),u=()=>{a=!1,s&&(s=!1,c.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return c.add(d),()=>{f(),c.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[dO]),s=!i,s&&(a||(a=!0,o(u))),r.dispatch(d)}finally{i=!0}}})},pO=t=>function(e){const{autoBatch:n=!0}=e??{};let r=new YS(t);return n&&r.push(fO(typeof n=="object"?n:void 0)),r},mO=!0;function gO(t){const e=uO(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(lb(n))c=LR(n);else throw new Error(Xt(1));let o;typeof r=="function"?o=r(e):o=e();let u=td;i&&(u=oO({trace:!mO,...typeof i=="object"&&i}));const d=MR(...o),h=pO(d);let f=typeof a=="function"?a(h):h();const g=u(...f);return cb(c,s,g)}function XS(t){const e={},n=[];let r;const i={addCase(s,a){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(Xt(28));if(c in e)throw new Error(Xt(29));return e[c]=a,i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function bO(t){return typeof t=="function"}function vO(t,e){let[n,r,i]=XS(e),s;if(bO(t))s=()=>H0(t());else{const c=H0(t);s=()=>c}function a(c=s(),o){let u=[n[o.type],...r.filter(({matcher:d})=>d(o)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(fi(d)){const f=h(d,o);return f===void 0?d:f}else{if(Cr(d))return GS(d,f=>h(f,o));{const f=h(d,o);if(f===void 0){if(d===null)return d;throw new Error(Xt(9))}return f}}return d},c)}return a.getInitialState=s,a}var yO="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ZS=(t=21)=>{let e="",n=t;for(;n--;)e+=yO[Math.random()*64|0];return e},wO=(t,e)=>lO(t)?t.match(e):t(e);function xO(...t){return e=>t.some(n=>wO(n,e))}var _O=["name","message","stack","code"],Vf=class{constructor(t,e){vx(this,"_type"),this.payload=t,this.meta=e}},W0=class{constructor(t,e){vx(this,"_type"),this.payload=t,this.meta=e}},SO=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of _O)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},fs=(()=>{function t(e,n,r){const i=wr(e+"/fulfilled",(o,u,d,h)=>({payload:o,meta:{...h||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=wr(e+"/pending",(o,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:o,requestStatus:"pending"}})),a=wr(e+"/rejected",(o,u,d,h,f)=>({payload:h,error:(r&&r.serializeError||SO)(o||"Rejected"),meta:{...f||{},arg:d,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(o==null?void 0:o.name)==="AbortError",condition:(o==null?void 0:o.name)==="ConditionError"}}));function c(o){return(u,d,h)=>{const f=r!=null&&r.idGenerator?r.idGenerator(o):ZS(),g=new AbortController;let w,b;function x(p){b=p,g.abort()}const m=async function(){var p,v;let _;try{let k=(p=r==null?void 0:r.condition)==null?void 0:p.call(r,o,{getState:d,extra:h});if(CO(k)&&(k=await k),k===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((S,E)=>{w=()=>{E({name:"AbortError",message:b||"Aborted"})},g.signal.addEventListener("abort",w)});u(s(f,o,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:f,arg:o},{getState:d,extra:h}))),_=await Promise.race([C,Promise.resolve(n(o,{dispatch:u,getState:d,extra:h,requestId:f,signal:g.signal,abort:x,rejectWithValue:(S,E)=>new Vf(S,E),fulfillWithValue:(S,E)=>new W0(S,E)})).then(S=>{if(S instanceof Vf)throw S;return S instanceof W0?i(S.payload,f,o,S.meta):i(S,f,o)})])}catch(k){_=k instanceof Vf?a(null,f,o,k.payload,k.meta):a(k,f,o)}finally{w&&g.signal.removeEventListener("abort",w)}return r&&!r.dispatchConditionRejection&&a.match(_)&&_.meta.condition||u(_),_}();return Object.assign(m,{abort:x,requestId:f,arg:o,unwrap(){return m.then(kO)}})}}return Object.assign(c,{pending:s,rejected:a,fulfilled:i,settled:xO(a,i),typePrefix:e})}return t.withTypes=()=>t,t})();function kO(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function CO(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var EO=Symbol.for("rtk-slice-createasyncthunk");function NO(t,e){return`${t}/${e}`}function jO({creators:t}={}){var e;const n=(e=t==null?void 0:t.asyncThunk)==null?void 0:e[EO];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Xt(11));const a=(typeof r.reducers=="function"?r.reducers(IO()):r.reducers)||{},c=Object.keys(a),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(p,v){const _=typeof p=="string"?p:p.type;if(!_)throw new Error(Xt(12));if(_ in o.sliceCaseReducersByType)throw new Error(Xt(13));return o.sliceCaseReducersByType[_]=v,u},addMatcher(p,v){return o.sliceMatchers.push({matcher:p,reducer:v}),u},exposeAction(p,v){return o.actionCreators[p]=v,u},exposeCaseReducer(p,v){return o.sliceCaseReducersByName[p]=v,u}};c.forEach(p=>{const v=a[p],_={reducerName:p,type:NO(i,p),createNotation:typeof r.reducers=="function"};OO(v)?PO(_,v,u,n):RO(_,v,u)});function d(){const[p={},v=[],_=void 0]=typeof r.extraReducers=="function"?XS(r.extraReducers):[r.extraReducers],k={...p,...o.sliceCaseReducersByType};return vO(r.initialState,C=>{for(let S in k)C.addCase(S,k[S]);for(let S of o.sliceMatchers)C.addMatcher(S.matcher,S.reducer);for(let S of v)C.addMatcher(S.matcher,S.reducer);_&&C.addDefaultCase(_)})}const h=p=>p,f=new Map;let g;function w(p,v){return g||(g=d()),g(p,v)}function b(){return g||(g=d()),g.getInitialState()}function x(p,v=!1){function _(C){let S=C[p];return typeof S>"u"&&v&&(S=b()),S}function k(C=h){const S=q0(f,v,{insert:()=>new WeakMap});return q0(S,C,{insert:()=>{const E={};for(const[T,N]of Object.entries(r.selectors??{}))E[T]=TO(N,C,b,v);return E}})}return{reducerPath:p,getSelectors:k,get selectors(){return k(_)},selectSlice:_}}const m={name:i,reducer:w,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:b,...x(s),injectInto(p,{reducerPath:v,..._}={}){const k=v??s;return p.inject({reducerPath:k,reducer:w},_),{...m,...x(k,!0)}}};return m}}function TO(t,e,n,r){function i(s,...a){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...a)}return i.unwrapped=t,i}var ps=jO();function IO(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function RO({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!AO(r))throw new Error(Xt(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?wr(t,a):wr(t))}function OO(t){return t._reducerDefinitionType==="asyncThunk"}function AO(t){return t._reducerDefinitionType==="reducerWithPrepare"}function PO({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Xt(18));const{payloadCreator:s,fulfilled:a,pending:c,rejected:o,settled:u,options:d}=n,h=i(t,s,d);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),c&&r.addCase(h.pending,c),o&&r.addCase(h.rejected,o),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:a||jc,pending:c||jc,rejected:o||jc,settled:u||jc})}function jc(){}var DO=(t,e)=>{if(typeof t!="function")throw new Error(Xt(32))},fb="listenerMiddleware",LO=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=wr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Xt(21));return DO(s),{predicate:i,type:e,effect:s}},MO=Object.assign(t=>{const{type:e,predicate:n,effect:r}=LO(t);return{id:ZS(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Xt(22))}}},{withTypes:()=>MO}),FO=Object.assign(wr(`${fb}/add`),{withTypes:()=>FO});wr(`${fb}/removeAll`);var UO=Object.assign(wr(`${fb}/remove`),{withTypes:()=>UO});function Xt(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pb="persist:",mb="persist/FLUSH",ih="persist/REHYDRATE",gb="persist/PAUSE",bb="persist/PERSIST",vb="persist/PURGE",yb="persist/REGISTER",$O=-1;function au(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(e){return typeof e}:au=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function G0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G0(n,!0).forEach(function(r){zO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BO(t,e,n,r){r.debug;var i=VO({},n);return t&&au(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function HO(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:pb).concat(t.key),a=t.storage,c;t.serialize===!1?c=function(_){return _}:typeof t.serialize=="function"?c=t.serialize:c=qO;var o=t.writeFailHandler||null,u={},d={},h=[],f=null,g=null,w=function(_){Object.keys(_).forEach(function(k){m(k)&&u[k]!==_[k]&&h.indexOf(k)===-1&&h.push(k)}),Object.keys(u).forEach(function(k){_[k]===void 0&&m(k)&&h.indexOf(k)===-1&&u[k]!==void 0&&h.push(k)}),f===null&&(f=setInterval(b,i)),u=_};function b(){if(h.length===0){f&&clearInterval(f),f=null;return}var _=h.shift(),k=r.reduce(function(C,S){return S.in(C,_,u)},u[_]);if(k!==void 0)try{d[_]=c(k)}catch(C){console.error("redux-persist/createPersistoid: error serializing state",C)}else delete d[_];h.length===0&&x()}function x(){Object.keys(d).forEach(function(_){u[_]===void 0&&delete d[_]}),g=a.setItem(s,c(d)).catch(p)}function m(_){return!(n&&n.indexOf(_)===-1&&_!=="_persist"||e&&e.indexOf(_)!==-1)}function p(_){o&&o(_)}var v=function(){for(;h.length!==0;)b();return g||Promise.resolve()};return{update:w,flush:v}}function qO(t){return JSON.stringify(t)}function WO(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:pb).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(s){return s}:typeof t.deserialize=="function"?i=t.deserialize:i=GO,r.getItem(n).then(function(s){if(s)try{var a={},c=i(s);return Object.keys(c).forEach(function(o){a[o]=e.reduceRight(function(u,d){return d.out(u,o,c)},i(c[o]))}),a}catch(o){throw o}else return})}function GO(t){return JSON.parse(t)}function KO(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:pb).concat(t.key);return e.removeItem(n,QO)}function QO(t){}function K0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K0(n,!0).forEach(function(r){YO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JO(t,e){if(t==null)return{};var n=XO(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ZO=5e3;function ms(t,e){var n=t.version!==void 0?t.version:$O;t.debug;var r=t.stateReconciler===void 0?BO:t.stateReconciler,i=t.getStoredState||WO,s=t.timeout!==void 0?t.timeout:ZO,a=null,c=!1,o=!0,u=function(d){return d._persist.rehydrated&&a&&!o&&a.update(d),d};return function(d,h){var f=d||{},g=f._persist,w=JO(f,["_persist"]),b=w;if(h.type===bb){var x=!1,m=function(S,E){x||(h.rehydrate(t.key,S,E),x=!0)};if(s&&setTimeout(function(){!x&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),o=!1,a||(a=HO(t)),g)return cr({},e(b,h),{_persist:g});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),i(t).then(function(S){var E=t.migrate||function(T,N){return Promise.resolve(T)};E(S,n).then(function(T){m(T)},function(T){m(void 0,T)})},function(S){m(void 0,S)}),cr({},e(b,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===vb)return c=!0,h.result(KO(t)),cr({},e(b,h),{_persist:g});if(h.type===mb)return h.result(a&&a.flush()),cr({},e(b,h),{_persist:g});if(h.type===gb)o=!0;else if(h.type===ih){if(c)return cr({},b,{_persist:cr({},g,{rehydrated:!0})});if(h.key===t.key){var p=e(b,h),v=h.payload,_=r!==!1&&v!==void 0?r(v,d,p,t):p,k=cr({},_,{_persist:cr({},g,{rehydrated:!0})});return u(k)}}}if(!g)return e(d,h);var C=e(b,h);return C===b?d:u(cr({},C,{_persist:g}))}}function Q0(t){return nA(t)||tA(t)||eA()}function eA(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function tA(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function nA(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Y0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y0(n,!0).forEach(function(r){rA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ek={registry:[],bootstrapped:!1},iA=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ek,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case yb:return vm({},t,{registry:[].concat(Q0(t.registry),[e.key])});case ih:var n=t.registry.indexOf(e.key),r=Q0(t.registry);return r.splice(n,1),vm({},t,{registry:r,bootstrapped:r.length===0});default:return t}};function sA(t,e,n){var r=n||!1,i=cb(iA,ek,e&&e.enhancer?e.enhancer:void 0),s=function(o){i.dispatch({type:yb,key:o})},a=function(o,u,d){var h={type:ih,payload:u,err:d,key:o};t.dispatch(h),i.dispatch(h),r&&c.getState().bootstrapped&&(r(),r=!1)},c=vm({},i,{purge:function(){var o=[];return t.dispatch({type:vb,result:function(u){o.push(u)}}),Promise.all(o)},flush:function(){var o=[];return t.dispatch({type:mb,result:function(u){o.push(u)}}),Promise.all(o)},pause:function(){t.dispatch({type:gb})},persist:function(){t.dispatch({type:bb,register:s,rehydrate:a})}});return e&&e.manualPersist||c.persist(),c}var wb={},xb={};xb.__esModule=!0;xb.default=lA;function ou(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ou=function(e){return typeof e}:ou=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function zf(){}var aA={getItem:zf,setItem:zf,removeItem:zf};function oA(t){if((typeof self>"u"?"undefined":ou(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function lA(t){var e="".concat(t,"Storage");return oA(e)?self[e]:aA}wb.__esModule=!0;wb.default=dA;var cA=uA(xb);function uA(t){return t&&t.__esModule?t:{default:t}}function dA(t){var e=(0,cA.default)(t);return{getItem:function(n){return new Promise(function(r,i){r(e.getItem(n))})},setItem:function(n,r){return new Promise(function(i,s){i(e.setItem(n,r))})},removeItem:function(n){return new Promise(function(r,i){r(e.removeItem(n))})}}}var tk=void 0,hA=fA(wb);function fA(t){return t&&t.__esModule?t:{default:t}}var pA=(0,hA.default)("local");tk=pA;var J0={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],c=t[n++],o=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(o&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},rk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,o=i+2<t.length,u=o?t[i+2]:0,d=s>>2,h=(s&3)<<4|c>>4;let f=(c&15)<<2|u>>6,g=u&63;o||(g=64,a||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const o=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||o==null)throw new gA;const u=s<<2|a>>4;if(r.push(u),c!==64){const d=a<<4&240|c>>2;if(r.push(d),o!==64){const h=c<<6&192|o;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bA=function(t){const e=nk(t);return rk.encodeByteArray(e,!0)},id=function(t){return bA(t).replace(/\./g,"")},ik=function(t){try{return rk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yA=()=>vA().__FIREBASE_DEFAULTS__,wA=()=>{if(typeof process>"u"||typeof J0>"u")return;const t=J0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ik(t[1]);return e&&JSON.parse(e)},sh=()=>{try{return yA()||wA()||xA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sk=t=>{var e,n;return(n=(e=sh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ak=t=>{const e=sk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ok=()=>{var t;return(t=sh())===null||t===void 0?void 0:t.config},lk=t=>{var e;return(e=sh())===null||e===void 0?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ck(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[id(JSON.stringify(n)),id(JSON.stringify(a)),""].join(".")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function kA(){var t;const e=(t=sh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NA(){const t=Je();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jA(){return!kA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uk(){try{return typeof indexedDB=="object"}catch{return!1}}function TA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IA="FirebaseError";class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IA,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?RA(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new lr(i,c,r)}}function RA(t,e){return t.replace(OA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OA=/\{\$([^}]+)}/g;function AA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(X0(s)&&X0(a)){if(!sd(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X0(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function co(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,i]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function uo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PA(t,e){const n=new DA(t,e);return n.subscribe.bind(n)}class DA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Bf),i.error===void 0&&(i.error=Bf),i.complete===void 0&&(i.complete=Bf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bf(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ve(t){return t&&t._delegate?t._delegate:t}class pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ri="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _A;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UA(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FA(t){return t===Ri?void 0:t}function UA(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const VA={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},zA=pe.INFO,BA={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},HA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _b{constructor(e){this.name=e,this._logLevel=zA,this._logHandler=HA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const qA=(t,e)=>e.some(n=>t instanceof n);let Z0,ew;function WA(){return Z0||(Z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GA(){return ew||(ew=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dk=new WeakMap,ym=new WeakMap,hk=new WeakMap,Hf=new WeakMap,Sb=new WeakMap;function KA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(si(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&dk.set(n,t)}).catch(()=>{}),Sb.set(e,t),e}function QA(t){if(ym.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ym.set(t,e)}let wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ym.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YA(t){wm=t(wm)}function JA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qf(this),e,...n);return hk.set(r,e.sort?e.sort():[e]),si(r)}:GA().includes(t)?function(...e){return t.apply(qf(this),e),si(dk.get(this))}:function(...e){return si(t.apply(qf(this),e))}}function XA(t){return typeof t=="function"?JA(t):(t instanceof IDBTransaction&&QA(t),qA(t,WA())?new Proxy(t,wm):t)}function si(t){if(t instanceof IDBRequest)return KA(t);if(Hf.has(t))return Hf.get(t);const e=XA(t);return e!==t&&(Hf.set(t,e),Sb.set(e,t)),e}const qf=t=>Sb.get(t);function ZA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=si(a);return r&&a.addEventListener("upgradeneeded",o=>{r(si(a.result),o.oldVersion,o.newVersion,si(a.transaction),o)}),n&&a.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),c.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const eP=["get","getKey","getAll","getAllKeys","count"],tP=["put","add","delete","clear"],Wf=new Map;function tw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eP.includes(n)))return;const s=async function(a,...c){const o=this.transaction(a,i?"readwrite":"readonly");let u=o.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),i&&o.done]))[0]};return Wf.set(e,s),s}YA(t=>({...t,get:(e,n,r)=>tw(e,n)||t.get(e,n,r),has:(e,n)=>!!tw(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(rP(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function rP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",nw="0.9.27";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ts=new _b("@firebase/app"),iP="@firebase/app-compat",sP="@firebase/analytics-compat",aP="@firebase/analytics",oP="@firebase/app-check-compat",lP="@firebase/app-check",cP="@firebase/auth",uP="@firebase/auth-compat",dP="@firebase/database",hP="@firebase/database-compat",fP="@firebase/functions",pP="@firebase/functions-compat",mP="@firebase/installations",gP="@firebase/installations-compat",bP="@firebase/messaging",vP="@firebase/messaging-compat",yP="@firebase/performance",wP="@firebase/performance-compat",xP="@firebase/remote-config",_P="@firebase/remote-config-compat",SP="@firebase/storage",kP="@firebase/storage-compat",CP="@firebase/firestore",EP="@firebase/firestore-compat",NP="firebase",jP="10.8.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _m="[DEFAULT]",TP={[xm]:"fire-core",[iP]:"fire-core-compat",[aP]:"fire-analytics",[sP]:"fire-analytics-compat",[lP]:"fire-app-check",[oP]:"fire-app-check-compat",[cP]:"fire-auth",[uP]:"fire-auth-compat",[dP]:"fire-rtdb",[hP]:"fire-rtdb-compat",[fP]:"fire-fn",[pP]:"fire-fn-compat",[mP]:"fire-iid",[gP]:"fire-iid-compat",[bP]:"fire-fcm",[vP]:"fire-fcm-compat",[yP]:"fire-perf",[wP]:"fire-perf-compat",[xP]:"fire-rc",[_P]:"fire-rc-compat",[SP]:"fire-gcs",[kP]:"fire-gcs-compat",[CP]:"fire-fst",[EP]:"fire-fst-compat","fire-js":"fire-js",[NP]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ad=new Map,Sm=new Map;function IP(t,e){try{t.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ns(t){const e=t.name;if(Sm.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,t);for(const n of ad.values())IP(n,t);return!0}function ah(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const RP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ai=new Al("app","Firebase",RP);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gs=jP;function fk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_m,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=ok()),!n)throw ai.create("no-options");const s=ad.get(i);if(s){if(sd(n,s.options)&&sd(r,s.config))return s;throw ai.create("duplicate-app",{appName:i})}const a=new $A(i);for(const o of Sm.values())a.addComponent(o);const c=new OP(n,r,a);return ad.set(i,c),c}function kb(t=_m){const e=ad.get(t);if(!e&&t===_m&&ok())return fk();if(!e)throw ai.create("no-app",{appName:t});return e}function Xn(t,e,n){var r;let i=(r=TP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(c.join(" "));return}ns(new pi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AP="firebase-heartbeat-database",PP=1,il="firebase-heartbeat-store";let Gf=null;function pk(){return Gf||(Gf=ZA(AP,PP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(il)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),Gf}async function DP(t){try{const e=(await pk()).transaction(il),n=await e.objectStore(il).get(mk(t));return await e.done,n}catch(e){if(e instanceof lr)ts.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ts.warn(n.message)}}}async function rw(t,e){try{const n=(await pk()).transaction(il,"readwrite");await n.objectStore(il).put(e,mk(t)),await n.done}catch(n){if(n instanceof lr)ts.warn(n.message);else{const r=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(r.message)}}}function mk(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LP=1024,MP=30*24*60*60*1e3;class FP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $P(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=iw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=MP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iw(),{heartbeatsToSend:r,unsentEntries:i}=UP(this._heartbeatsCache.heartbeats),s=id(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function iw(){return new Date().toISOString().substring(0,10)}function UP(t,e=LP){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),sw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $P{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uk()?TA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await DP(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return rw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return rw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sw(t){return id(JSON.stringify({version:2,heartbeats:t})).length}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function VP(t){ns(new pi("platform-logger",e=>new nP(e),"PRIVATE")),ns(new pi("heartbeat",e=>new FP(e),"PRIVATE")),Xn(xm,nw,t),Xn(xm,nw,"esm2017"),Xn("fire-js","")}VP("");var zP="firebase",BP="10.8.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Xn(zP,BP,"app");function Cb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HP=gk,bk=new Al("auth","Firebase",gk());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const od=new _b("@firebase/auth");function qP(t,...e){od.logLevel<=pe.WARN&&od.warn(`Auth (${gs}): ${t}`,...e)}function lu(t,...e){od.logLevel<=pe.ERROR&&od.error(`Auth (${gs}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mn(t,...e){throw Eb(t,...e)}function Zn(t,...e){return Eb(t,...e)}function WP(t,e,n){const r=Object.assign(Object.assign({},HP()),{[e]:n});return new Al("auth","Firebase",r).create(e,{appName:t.name})}function Eb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bk.create(t,...e)}function Q(t,e,...n){if(!t)throw Eb(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lu(e),new Error(e)}function Er(t,e){t||gr(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function km(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GP(){return aw()==="http:"||aw()==="https:"}function aw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function KP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GP()||CA()||"connection"in navigator)?navigator.onLine:!0}function QP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=SA()||EA()}get(){return KP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nb(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const YP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JP=new Dl(3e4,6e4);function Ir(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rr(t,e,n,r,i={}){return yk(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const c=Pl(Object.assign({key:t.config.apiKey},a)).slice(1),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode),vk.fetch()(wk(t,t.config.apiHost,n,c),Object.assign({method:e,headers:o,referrerPolicy:"no-referrer"},s))})}async function yk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YP),e);try{const i=new ZP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Tc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[o,u]=c.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(t,"credential-already-in-use",a);if(o==="EMAIL_EXISTS")throw Tc(t,"email-already-in-use",a);if(o==="USER_DISABLED")throw Tc(t,"user-disabled",a);const d=r[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WP(t,d,u);Mn(t,d)}}catch(i){if(i instanceof lr)throw i;Mn(t,"network-request-failed",{message:String(i)})}}async function Ll(t,e,n,r,i={}){const s=await Rr(t,e,n,r,i);return"mfaPendingCredential"in s&&Mn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function wk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Nb(t.config,i):`${t.config.apiScheme}://${i}`}function XP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),JP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zn(t,e,r);return i.customData._tokenResponse=n,i}function ow(t){return t!==void 0&&t.enterprise!==void 0}class e4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function t4(t,e){return Rr(t,"GET","/v2/recaptchaConfig",Ir(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function n4(t,e){return Rr(t,"POST","/v1/accounts:delete",e)}async function r4(t,e){return Rr(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function No(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i4(t,e=!1){const n=Ve(t),r=await n.getIdToken(e),i=jb(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:No(Kf(i.auth_time)),issuedAtTime:No(Kf(i.iat)),expirationTime:No(Kf(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Kf(t){return Number(t)*1e3}function jb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lu("JWT malformed, contained fewer than 3 sections"),null;try{const i=ik(n);return i?JSON.parse(i):(lu("Failed to decode base64 JWT payload"),null)}catch(i){return lu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function s4(t){const e=jb(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function sl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lr&&a4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ld(t){var e;const n=t.auth,r=await t.getIdToken(),i=await sl(t,r4(n,{idToken:r}));Q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?u4(s.providerUserInfo):[],c=c4(t.providerData,a),o=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),d=o?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new xk(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function l4(t){const e=Ve(t);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c4(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function u4(t){return t.map(e=>{var{providerId:n}=e,r=Cb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function d4(t,e){const n=await yk(t,{},async()=>{const r=Pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=wk(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",vk.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function h4(t,e){return Rr(t,"POST","/v2/accounts:revokeToken",Ir(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await d4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new al;return r&&(Q(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Cb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await sl(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i4(this,e)}reload(){return l4(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await sl(this,n4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,o,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(c=n.tenantId)!==null&&c!==void 0?c:void 0,x=(o=n._redirectEventId)!==null&&o!==void 0?o:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:v,emailVerified:_,isAnonymous:k,providerData:C,stsTokenManager:S}=n;Q(v&&S,e,"internal-error");const E=al.fromJSON(this.name,S);Q(typeof v=="string",e,"internal-error"),Lr(h,e.name),Lr(f,e.name),Q(typeof _=="boolean",e,"internal-error"),Q(typeof k=="boolean",e,"internal-error"),Lr(g,e.name),Lr(w,e.name),Lr(b,e.name),Lr(x,e.name),Lr(m,e.name),Lr(p,e.name);const T=new Hi({uid:v,auth:e,email:f,emailVerified:_,displayName:h,isAnonymous:k,photoURL:w,phoneNumber:g,tenantId:b,stsTokenManager:E,createdAt:m,lastLoginAt:p});return C&&Array.isArray(C)&&(T.providerData=C.map(N=>Object.assign({},N))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new al;i.updateFromServerResponse(n);const s=new Hi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ld(s),s}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lw=new Map;function br(t){Er(t instanceof Function,"Expected a class definition");let e=lw.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lw.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _k{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_k.type="NONE";const cw=_k;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cu(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=cu(this.userKey,i.apiKey,s),this.fullPersistenceKey=cu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ea(br(cw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||br(cw);const a=cu(r,e.config.apiKey,e.name);let c=null;for(const u of n)try{const d=await u._get(a);if(d){const h=Hi._fromJSON(e,d);u!==s&&(c=h),s=u;break}}catch{}const o=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!o.length?new ea(s,e,r):(s=o[0],c&&await s._set(a,c.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new ea(s,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ck(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nk(e))return"Blackberry";if(jk(e))return"Webos";if(Tb(e))return"Safari";if((e.includes("chrome/")||kk(e))&&!e.includes("edge/"))return"Chrome";if(Ek(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Sk(t=Je()){return/firefox\//i.test(t)}function Tb(t=Je()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kk(t=Je()){return/crios\//i.test(t)}function Ck(t=Je()){return/iemobile/i.test(t)}function Ek(t=Je()){return/android/i.test(t)}function Nk(t=Je()){return/blackberry/i.test(t)}function jk(t=Je()){return/webos/i.test(t)}function oh(t=Je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f4(t=Je()){var e;return oh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function p4(){return NA()&&document.documentMode===10}function Tk(t=Je()){return oh(t)||Ek(t)||jk(t)||Nk(t)||/windows phone/i.test(t)||Ck(t)}function m4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ik(t,e=[]){let n;switch(t){case"Browser":n=uw(Je());break;case"Worker":n=`${uw(Je())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gs}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class g4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{const o=e(s);a(o)}catch(o){c(o)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function b4(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",Ir(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v4=6;class y4{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:v4,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,c;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(n=o.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(r=o.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(i=o.containsLowercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(s=o.containsUppercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(a=o.containsNumericCharacter)!==null&&a!==void 0?a:!0),o.isValid&&(o.isValid=(c=o.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),o}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class w4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dw(this),this.idTokenSubscription=new dw(this),this.beforeStateQueue=new g4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=br(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!a||a===c)&&o!=null&&o.user&&(i=o.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ld(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ve(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b4(this),n=new y4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await h4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&br(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,r,i);return()=>{a=!0,o()}}else{const o=e.addObserver(n);return()=>{a=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ik(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xi(t){return Ve(t)}class dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=PA(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x4(t){lh=t}function Rk(t){return lh.loadJS(t)}function _4(){return lh.recaptchaEnterpriseScript}function S4(){return lh.gapiScript}function k4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const C4="recaptcha-enterprise",E4="NO_RECAPTCHA";class N4{constructor(e){this.type=C4,this.auth=xi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,c)=>{t4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(o=>{if(o.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const u=new e4(o);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(o=>{c(o)})})}function i(s,a,c){const o=window.grecaptcha;ow(o)?o.enterprise.ready(()=>{o.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(E4)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(c=>{if(!n&&ow(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let o=_4();o.length!==0&&(o+=c),Rk(o).then(()=>{i(c,s,a)}).catch(u=>{a(u)})}}).catch(c=>{a(c)})})}}async function hw(t,e,n,r=!1){const i=new N4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function cd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await hw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await hw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function j4(t,e){const n=ah(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(sd(i,e??{}))return r;Mn(r,"already-initialized")}return n.initialize({options:e})}function T4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function I4(t,e,n){const r=xi(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Ok(e),{host:a,port:c}=R4(e),o=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||O4()}function Ok(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R4(t){const e=Ok(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:fw(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:fw(a)}}}function fw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function O4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ib{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}async function A4(t,e){return Rr(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function P4(t,e){return Ll(t,"POST","/v1/accounts:signInWithPassword",Ir(t,e))}async function Ak(t,e){return Rr(t,"POST","/v1/accounts:sendOobCode",Ir(t,e))}async function D4(t,e){return Ak(t,e)}async function L4(t,e){return Ak(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function M4(t,e){return Ll(t,"POST","/v1/accounts:signInWithEmailLink",Ir(t,e))}async function F4(t,e){return Ll(t,"POST","/v1/accounts:signInWithEmailLink",Ir(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ol extends Ib{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ol(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ol(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cd(e,n,"signInWithPassword",P4);case"emailLink":return M4(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cd(e,r,"signUpPassword",A4);case"emailLink":return F4(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ta(t,e){return Ll(t,"POST","/v1/accounts:signInWithIdp",Ir(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const U4="http://localhost";class rs extends Ib{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Cb(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new rs(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ta(e,n)}buildRequest(){const e={requestUri:U4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pl(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V4(t){const e=co(uo(t)).link,n=e?co(uo(e)).deep_link_id:null,r=co(uo(t)).deep_link_id;return(r?co(uo(r)).link:null)||r||n||e||t}class Rb{constructor(e){var n,r,i,s,a,c;const o=co(uo(e)),u=(n=o.apiKey)!==null&&n!==void 0?n:null,d=(r=o.oobCode)!==null&&r!==void 0?r:null,h=$4((i=o.mode)!==null&&i!==void 0?i:null);Q(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=o.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=o.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=o.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=V4(e);try{return new Rb(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oa{constructor(){this.providerId=Oa.PROVIDER_ID}static credential(e,n){return ol._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Rb.parseLink(n);return Q(r,"argument-error"),ol._fromEmailAndCode(e,r.code,r.tenantId)}}Oa.PROVIDER_ID="password";Oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ml extends Pk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zr extends Ml{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Br extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hr extends Ml{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qr extends Ml{constructor(){super("twitter.com")}static credential(e,n){return rs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function z4(t,e){return Ll(t,"POST","/v1/accounts:signUp",Ir(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Hi._fromIdTokenResponse(e,r,i),a=pw(r);return new is({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pw(r);return new is({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ud extends lr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ud.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ud(e,n,r,i)}}function Dk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ud._fromErrorAndOperation(t,i,e,r):i})}async function B4(t,e,n=!1){const r=await sl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return is._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function H4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await sl(t,Dk(r,i,e,t),n);Q(s.idToken,r,"internal-error");const a=jb(s.idToken);Q(a,r,"internal-error");const{sub:c}=a;return Q(t.uid===c,r,"user-mismatch"),is._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),s}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Lk(t,e,n=!1){const r="signIn",i=await Dk(t,r,e),s=await is._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function q4(t,e){return Lk(xi(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mk(t,e,n){var r;Q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Fk(t){const e=xi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function W4(t,e,n){const r=xi(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Mk(r,i,n),await cd(r,i,"getOobCode",L4)}async function G4(t,e,n){const r=xi(t),i=await cd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z4).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Fk(t),a}),s=await is._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function K4(t,e,n){return q4(Ve(t),Oa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fk(t),r})}async function Q4(t,e){const n=Ve(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Mk(n.auth,r,e);const{email:i}=await D4(n.auth,r);i!==t.email&&await t.reload()}function Y4(t,e,n,r){return Ve(t).onIdTokenChanged(e,n,r)}function J4(t,e,n){return Ve(t).beforeAuthStateChanged(e,n)}const dd="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function X4(){const t=Je();return Tb(t)||oh(t)}const Z4=1e3,eD=10;class $k extends Uk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=X4()&&m4(),this.fallbackToPolling=Tk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,o)=>{this.notifyListeners(a,o)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);p4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$k.type="LOCAL";const tD=$k;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vk extends Uk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Vk.type="SESSION";const zk=Vk;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(a).map(async u=>u(n.origin,s)),o=await nD(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ob(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,o)=>{const u=Ob("",20);i.port1.start();const d=setTimeout(()=>{o(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),o(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function er(){return window}function iD(t){er().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Bk(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function sD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oD(){return Bk()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hk="firebaseLocalStorageDb",lD=1,hd="firebaseLocalStorage",qk="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(t,e){return t.transaction([hd],e?"readwrite":"readonly").objectStore(hd)}function cD(){const t=indexedDB.deleteDatabase(Hk);return new Fl(t).toPromise()}function Cm(){const t=indexedDB.open(Hk,lD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hd,{keyPath:qk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hd)?e(r):(r.close(),await cD(),e(await Cm()))})})}async function mw(t,e,n){const r=uh(t,!0).put({[qk]:e,value:n});return new Fl(r).toPromise()}async function uD(t,e){const n=uh(t,!1).get(e),r=await new Fl(n).toPromise();return r===void 0?null:r.value}function gw(t,e){const n=uh(t,!0).delete(e);return new Fl(n).toPromise()}const dD=800,hD=3;class Wk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(oD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sD(),!this.activeServiceWorker)return;this.sender=new rD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await mw(e,dd,"1"),await gw(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=uh(i,!1).getAll();return new Fl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wk.type="LOCAL";const fD=Wk;new Dl(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pD(t,e){return e?br(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ab extends Ib{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mD(t){return Lk(t.auth,new Ab(t),t.bypassAuthState)}function gD(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),H4(n,new Ab(t),t.bypassAuthState)}async function bD(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),B4(n,new Ab(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}const o={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(o))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mD;case"linkViaPopup":case"linkViaRedirect":return bD;case"reauthViaPopup":case"reauthViaRedirect":return gD;default:Mn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vD=new Dl(2e3,1e4);class qs extends Gk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Ob();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vD.get())};e()}}qs.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yD="pendingRedirect",uu=new Map;class wD extends Gk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uu.get(this.auth._key());if(!e){try{const n=await xD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}uu.set(this.auth._key(),e)}return this.bypassAuthState||uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xD(t,e){const n=kD(e),r=SD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _D(t,e){uu.set(t._key(),e)}function SD(t){return br(t._redirectPersistence)}function kD(t){return cu(yD,t.config.apiKey,t.name)}async function CD(t,e,n=!1){const r=xi(t),i=pD(r,e),s=await new wD(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ED=10*60*1e3;class ND{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Kk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ED&&this.cachedEventUids.clear(),this.cachedEventUids.has(bw(e))}saveEventToCache(e){this.cachedEventUids.add(bw(e)),this.lastProcessedEventTime=Date.now()}}function bw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Kk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kk(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function TD(t,e={}){return Rr(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ID=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RD=/^https?/;async function OD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TD(t);for(const n of e)try{if(AD(n))return}catch{}Mn(t,"unauthorized-domain")}function AD(t){const e=km(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!RD.test(n))return!1;if(ID.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const PD=new Dl(3e4,6e4);function vw(){const t=er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DD(t){return new Promise((e,n)=>{var r,i,s;function a(){vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vw(),n(Zn(t,"network-request-failed"))},timeout:PD.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=er().gapi)===null||s===void 0)&&s.load)a();else{const c=k4("iframefcb");return er()[c]=()=>{gapi.load?a():n(Zn(t,"network-request-failed"))},Rk(`${S4()}?onload=${c}`).catch(o=>n(o))}}).catch(e=>{throw du=null,e})}let du=null;function LD(t){return du=du||DD(t),du}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MD=new Dl(5e3,15e3),FD="__/auth/iframe",UD="emulator/auth/iframe",$D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zD(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nb(e,UD):`https://${t.config.authDomain}/${FD}`,r={apiKey:e.apiKey,appName:t.name,v:gs},i=VD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pl(r).slice(1)}`}async function BD(t){const e=await LD(t),n=er().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:zD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$D,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Zn(t,"network-request-failed"),c=er().setTimeout(()=>{s(a)},MD.get());function o(){er().clearTimeout(c),i(r)}r.ping(o).then(o,()=>{s(a)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qD=500,WD=600,GD="_blank",KD="http://localhost";class yw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QD(t,e,n,r=qD,i=WD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const o=Object.assign(Object.assign({},HD),{width:r.toString(),height:i.toString(),top:s,left:a}),u=Je().toLowerCase();n&&(c=kk(u)?GD:n),Sk(u)&&(e=e||KD,o.scrollbars="yes");const d=Object.entries(o).reduce((f,[g,w])=>`${f}${g}=${w},`,"");if(f4(u)&&c!=="_self")return YD(e||"",c),new yw(null);const h=window.open(e||"",c,d);Q(h,t,"popup-blocked");try{h.focus()}catch{}return new yw(h)}function YD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JD="__/auth/handler",XD="emulator/auth/handler",ZD=encodeURIComponent("fac");async function ww(t,e,n,r,i,s){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gs,eventId:i};if(e instanceof Pk){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",AA(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))a[d]=h}if(e instanceof Ml){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const d of Object.keys(c))c[d]===void 0&&delete c[d];const o=await t._getAppCheckToken(),u=o?`#${ZD}=${encodeURIComponent(o)}`:"";return`${eL(t)}?${Pl(c).slice(1)}${u}`}function eL({config:t}){return t.emulator?Nb(t,XD):`https://${t.authDomain}/${JD}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qf="webStorageSupport";class tL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zk,this._completeRedirectFn=CD,this._overrideRedirectResult=_D}async _openPopup(e,n,r,i){var s;Er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await ww(e,n,r,km(),i);return QD(e,a,Ob())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ww(e,n,r,km(),i);return iD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Er(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BD(e),r=new ND(e);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qf,{type:Qf},r=>{var i;const s=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[Qf];s!==void 0&&n(!!s),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tk()||Tb()||oh()}}const nL=tL;var xw="@firebase/auth",_w="1.6.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sL(t){ns(new pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ik(t)},u=new w4(r,i,s,o);return T4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ns(new pi("auth-internal",e=>{const n=xi(e.getProvider("auth").getImmediate());return(r=>new rL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(xw,_w,iL(t)),Xn(xw,_w,"esm2017")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aL=5*60,oL=lk("authIdTokenMaxAge")||aL;let Sw=null;const lL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oL)return;const i=n==null?void 0:n.token;Sw!==i&&(Sw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cL(t=kb()){const e=ah(t,"auth");if(e.isInitialized())return e.getImmediate();const n=j4(t,{popupRedirectResolver:nL,persistence:[fD,tD,zk]}),r=lk("authTokenSyncURL");if(r){const s=lL(r);J4(n,s,()=>s(n.currentUser)),Y4(n,a=>s(a))}const i=sk("auth");return i&&I4(n,`http://${i}`),n}function uL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}x4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sL("Browser");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Qk="firebasestorage.googleapis.com",Yk="storageBucket",dL=2*60*1e3,hL=10*60*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class He extends lr{constructor(e,n,r=0){super(Yf(e),`Firebase Storage: ${n} (${Yf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,He.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function Yf(t){return"storage/"+t}function Pb(){const t="An unknown error occurred, please check the error payload for server response.";return new He(ze.UNKNOWN,t)}function fL(t){return new He(ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pL(t){return new He(ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new He(ze.UNAUTHENTICATED,t)}function gL(){return new He(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bL(t){return new He(ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function vL(){return new He(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yL(){return new He(ze.CANCELED,"User canceled the upload/download.")}function wL(t){return new He(ze.INVALID_URL,"Invalid URL '"+t+"'.")}function xL(t){return new He(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _L(){return new He(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Yk+"' property when initializing the app?")}function SL(){return new He(ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kL(){return new He(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function CL(t){return new He(ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Em(t){return new He(ze.INVALID_ARGUMENT,t)}function Jk(){return new He(ze.APP_DELETED,"The Firebase app was deleted.")}function EL(t){return new He(ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jo(t,e){return new He(ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function eo(t){throw new He(ze.INTERNAL_ERROR,"Internal error: "+t)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=rn.makeFromUrl(e,n)}catch{return new rn(e,"")}if(r.path==="")return r;throw xL(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(v){v.path.charAt(v.path.length-1)==="/"&&(v.path_=v.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),o={bucket:1,path:3};function u(v){v.path_=decodeURIComponent(v.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),w={bucket:1,path:3},b=n===Qk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",m=new RegExp(`^https?://${b}/${i}/${x}`,"i"),p=[{regex:c,indices:o,postModify:s},{regex:g,indices:w,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let v=0;v<p.length;v++){const _=p[v],k=_.regex.exec(e);if(k){const C=k[_.indices.bucket];let S=k[_.indices.path];S||(S=""),r=new rn(C,S),_.postModify(r);break}}if(r==null)throw wL(e);return r}}class NL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jL(t,e,n){let r=1,i=null,s=null,a=!1,c=0;function o(){return c===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,t(g,o())},x)}function f(){s&&clearTimeout(s)}function g(x,...m){if(u){f();return}if(x){f(),d.call(null,x,...m);return}if(o()||a){f(),d.call(null,x,...m);return}r<64&&(r*=2);let p;c===1?(c=2,p=0):p=(r+Math.random())*1e3,h(p)}let w=!1;function b(x){w||(w=!0,f(),!u&&(i!==null?(x||(c=2),clearTimeout(i),h(0)):x||(c=1)))}return h(0),s=setTimeout(()=>{a=!0,b(!0)},n),b}function TL(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function IL(t){return t!==void 0}function RL(t){return typeof t=="object"&&!Array.isArray(t)}function Db(t){return typeof t=="string"||t instanceof String}function kw(t){return Lb()&&t instanceof Blob}function Lb(){return typeof Blob<"u"}function Cw(t,e,n,r){if(r<e)throw Em(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Em(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Xk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var qi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qi||(qi={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OL(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AL{constructor(e,n,r,i,s,a,c,o,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=o,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ic(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=c=>{const o=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(o,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const c=s.getErrorCode()===qi.NO_ERROR,o=s.getStatus();if(!c||OL(o,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===qi.ABORT;r(!1,new Ic(!1,null,d));return}const u=this.successCodes_.indexOf(o)!==-1;r(!0,new Ic(u,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const o=this.callback_(c,c.getResponse());IL(o)?s(o):s()}catch(o){a(o)}else if(c!==null){const o=Pb();o.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,o)):a(o)}else if(i.canceled){const o=this.appDelete_?Jk():yL();a(o)}else{const o=vL();a(o)}};this.canceled_?n(!1,new Ic(!1,null,!0)):this.backoffId_=jL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ic{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function PL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function DL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ML(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function FL(t,e,n,r,i,s,a=!0){const c=Xk(t.urlParams),o=t.url+c,u=Object.assign({},t.headers);return LL(u,e),PL(u,n),DL(u,s),ML(u,r),new AL(o,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function UL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $L(...t){const e=UL();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Lb())return new Blob(t);throw new He(ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zL(t){if(typeof atob>"u")throw CL("base-64");return atob(t)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jf{constructor(e,n){this.data=e,this.contentType=n||null}}function BL(t,e){switch(t){case Gn.RAW:return new Jf(Zk(e));case Gn.BASE64:case Gn.BASE64URL:return new Jf(eC(t,e));case Gn.DATA_URL:return new Jf(qL(e),WL(e))}throw Pb()}function Zk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,s=t.charCodeAt(++n);r=65536|(i&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function HL(t){let e;try{e=decodeURIComponent(t)}catch{throw jo(Gn.DATA_URL,"Malformed data URL.")}return Zk(e)}function eC(t,e){switch(t){case Gn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw jo(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw jo(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=zL(e)}catch(i){throw i.message.includes("polyfill")?i:jo(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class tC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw jo(Gn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=GL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qL(t){const e=new tC(t);return e.base64?eC(Gn.BASE64,e.rest):HL(e.rest)}function WL(t){return new tC(t).contentType}function GL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wr{constructor(e,n){let r=0,i="";kw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(kw(this.data_)){const r=this.data_,i=VL(r,e,n);return i===null?null:new Wr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Wr(r,!0)}}static getBlob(...e){if(Lb()){const n=e.map(r=>r instanceof Wr?r.data_:r);return new Wr($L.apply(null,n))}else{const n=e.map(a=>Db(a)?BL(Gn.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)i[s++]=a[c]}),new Wr(i,!0)}}uploadData(){return this.data_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nC(t){let e;try{e=JSON.parse(t)}catch{return null}return RL(e)?e:null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function KL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function QL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function rC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function YL(t,e){return e}class Lt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||YL}}let Rc=null;function JL(t){return!Db(t)||t.length<2?t:rC(t)}function iC(){if(Rc)return Rc;const t=[];t.push(new Lt("bucket")),t.push(new Lt("generation")),t.push(new Lt("metageneration")),t.push(new Lt("name","fullPath",!0));function e(s,a){return JL(a)}const n=new Lt("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Lt("size");return i.xform=r,t.push(i),t.push(new Lt("timeCreated")),t.push(new Lt("updated")),t.push(new Lt("md5Hash",null,!0)),t.push(new Lt("cacheControl",null,!0)),t.push(new Lt("contentDisposition",null,!0)),t.push(new Lt("contentEncoding",null,!0)),t.push(new Lt("contentLanguage",null,!0)),t.push(new Lt("contentType",null,!0)),t.push(new Lt("metadata","customMetadata",!0)),Rc=t,Rc}function XL(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new rn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ZL(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return XL(r,t),r}function sC(t,e,n){const r=nC(e);return r===null?null:ZL(t,r,n)}function e3(t,e,n,r){const i=nC(e);if(i===null||!Db(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const o=t.bucket,u=t.fullPath,d="/b/"+a(o)+"/o/"+a(u),h=dh(d,n,r),f=Xk({alt:"media",token:c});return h+f})[0]}function t3(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Mb{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aC(t){if(!t)throw Pb()}function n3(t,e){function n(r,i){const s=sC(t,i,e);return aC(s!==null),s}return n}function r3(t,e){function n(r,i){const s=sC(t,i,e);return aC(s!==null),e3(s,i,t.host,t._protocol)}return n}function oC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=gL():i=mL():n.getStatus()===402?i=pL(t.bucket):n.getStatus()===403?i=bL(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function lC(t){const e=oC(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=fL(t.path)),s.serverResponse=i.serverResponse,s}return n}function i3(t,e,n){const r=e.fullServerUrl(),i=dh(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,c=new Mb(i,s,r3(t,n),a);return c.errorHandler=lC(e),c}function s3(t,e){const n=e.fullServerUrl(),r=dh(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function a(o,u){}const c=new Mb(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=lC(e),c}function a3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function o3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=a3(null,e)),r}function l3(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let v="";for(let _=0;_<2;_++)v=v+Math.random().toString().slice(2);return v}const o=c();a["Content-Type"]="multipart/related; boundary="+o;const u=o3(e,r,i),d=t3(u,n),h="--"+o+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+o+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+o+"--",g=Wr.getBlob(h,r,f);if(g===null)throw SL();const w={name:u.fullPath},b=dh(s,t.host,t._protocol),x="POST",m=t.maxUploadRetryTime,p=new Mb(b,x,n3(t,n),m);return p.urlParams=w,p.headers=a,p.body=g.uploadData(),p.errorHandler=oC(e),p}class c3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw eo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw eo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw eo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw eo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw eo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class u3 extends c3{initXhr(){this.xhr_.responseType="text"}}function Fb(){return new u3}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ss{constructor(e,n){this._service=e,n instanceof rn?this._location=n:this._location=rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ss(e,n)}get root(){const e=new rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rC(this._location.path)}get storage(){return this._service}get parent(){const e=KL(this._location.path);if(e===null)return null;const n=new rn(this._location.bucket,e);return new ss(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw EL(e)}}function d3(t,e,n){t._throwIfRoot("uploadBytes");const r=l3(t.storage,t._location,iC(),new Wr(e,!0),n);return t.storage.makeRequestWithTokens(r,Fb).then(i=>({metadata:i,ref:t}))}function h3(t){t._throwIfRoot("getDownloadURL");const e=i3(t.storage,t._location,iC());return t.storage.makeRequestWithTokens(e,Fb).then(n=>{if(n===null)throw kL();return n})}function f3(t){t._throwIfRoot("deleteObject");const e=s3(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Fb)}function p3(t,e){const n=QL(t._location.path,e),r=new rn(t._location.bucket,n);return new ss(t.storage,r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m3(t){return/^[A-Za-z]+:\/\//.test(t)}function g3(t,e){return new ss(t,e)}function cC(t,e){if(t instanceof Ub){const n=t;if(n._bucket==null)throw _L();const r=new ss(n,n._bucket);return e!=null?cC(r,e):r}else return e!==void 0?p3(t,e):t}function b3(t,e){if(e&&m3(e)){if(t instanceof Ub)return g3(t,e);throw Em("To use ref(service, url), the first argument must be a Storage instance.")}else return cC(t,e)}function Ew(t,e){const n=e==null?void 0:e[Yk];return n==null?null:rn.makeFromBucketSpec(n,t)}function v3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ck(i,t.app.options.projectId))}class Ub{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Qk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dL,this._maxUploadRetryTime=hL,this._requests=new Set,i!=null?this._bucket=rn.makeFromBucketSpec(i,this._host):this._bucket=Ew(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rn.makeFromBucketSpec(this._url,e):this._bucket=Ew(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ss(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new NL(Jk());{const a=FL(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Nw="@firebase/storage",jw="0.12.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uC="storage";function y3(t,e,n){return t=Ve(t),d3(t,e,n)}function hh(t){return t=Ve(t),h3(t)}function w3(t){return t=Ve(t),f3(t)}function Ul(t,e){return t=Ve(t),b3(t,e)}function x3(t=kb(),e){t=Ve(t);const n=ah(t,uC).getImmediate({identifier:e}),r=ak("storage");return r&&_3(n,...r),n}function _3(t,e,n,r={}){v3(t,e,n,r)}function S3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ub(n,r,i,e,gs)}function k3(){ns(new pi(uC,S3,"PUBLIC").setMultipleInstances(!0)),Xn(Nw,jw,""),Xn(Nw,jw,"esm2017")}k3();var C3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D,$b=$b||{},Z=C3||self;function fh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function $l(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function E3(t){return Object.prototype.hasOwnProperty.call(t,Xf)&&t[Xf]||(t[Xf]=++N3)}var Xf="closure_uid_"+(1e9*Math.random()>>>0),N3=0;function j3(t,e,n){return t.call.apply(t.bind,arguments)}function T3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Rt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Rt=j3:Rt=T3,Rt.apply(null,arguments)}function Oc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function _i(){this.s=this.s,this.o=this.o}var I3=0;_i.prototype.s=!1;_i.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),I3!=0)&&E3(this)};_i.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Vb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Tw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(fh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function Ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var R3=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Z.addEventListener("test",n,e),Z.removeEventListener("test",n,e)}catch{}return t}();function ll(t){return/^[\s\xa0]*$/.test(t)}function ph(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function Wn(t){return ph().indexOf(t)!=-1}function zb(t){return zb[" "](t),t}zb[" "]=function(){};function O3(t,e){var n=CM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var A3=Wn("Opera"),pa=Wn("Trident")||Wn("MSIE"),hC=Wn("Edge"),Nm=hC||pa,fC=Wn("Gecko")&&!(ph().toLowerCase().indexOf("webkit")!=-1&&!Wn("Edge"))&&!(Wn("Trident")||Wn("MSIE"))&&!Wn("Edge"),P3=ph().toLowerCase().indexOf("webkit")!=-1&&!Wn("Edge");function pC(){var t=Z.document;return t?t.documentMode:void 0}var jm;e:{var Zf="",ep=function(){var t=ph();if(fC)return/rv:([^\);]+)(\)|;)/.exec(t);if(hC)return/Edge\/([\d\.]+)/.exec(t);if(pa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(P3)return/WebKit\/(\S+)/.exec(t);if(A3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ep&&(Zf=ep?ep[1]:""),pa){var tp=pC();if(tp!=null&&tp>parseFloat(Zf)){jm=String(tp);break e}}jm=Zf}var Tm;if(Z.document&&pa){var D3=pC();Tm=D3||parseInt(jm,10)||void 0}else Tm=void 0;var L3=Tm;function cl(t,e){if(Ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fC){e:{try{zb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:M3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&cl.$.h.call(this)}}dt(cl,Ot);var M3={2:"touch",3:"pen",4:"mouse"};cl.prototype.h=function(){cl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vl="closure_listenable_"+(1e6*Math.random()|0),F3=0;function U3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++F3,this.fa=this.ia=!1}function mh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Bb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $3(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function mC(t){const e={};for(const n in t)e[n]=t[n];return e}const Iw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Iw.length;s++)n=Iw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gh(t){this.src=t,this.g={},this.h=0}gh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=Rm(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new U3(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Im(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=dC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(mh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Rm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Hb="closure_lm_"+(1e6*Math.random()|0),np={};function bC(t,e,n,r,i){if(r&&r.once)return yC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)bC(t,e[s],n,r,i);return null}return n=Gb(n),t&&t[Vl]?t.O(e,n,$l(r)?!!r.capture:!!r,i):vC(t,e,n,!1,r,i)}function vC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=$l(i)?!!i.capture:!!i,c=Wb(t);if(c||(t[Hb]=c=new gh(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=V3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)R3||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function V3(){function t(n){return e.call(t.src,t.listener,n)}const e=z3;return t}function yC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yC(t,e[s],n,r,i);return null}return n=Gb(n),t&&t[Vl]?t.P(e,n,$l(r)?!!r.capture:!!r,i):vC(t,e,n,!0,r,i)}function wC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)wC(t,e[s],n,r,i);else r=$l(r)?!!r.capture:!!r,n=Gb(n),t&&t[Vl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Rm(s,n,r,i),-1<n&&(mh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Wb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Rm(e,n,r,i)),(n=-1<t?e[t]:null)&&qb(n))}function qb(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Vl])Im(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wb(e))?(Im(n,t),n.h==0&&(n.src=null,e[Hb]=null)):mh(t)}}}function xC(t){return t in np?np[t]:np[t]="on"+t}function z3(t,e){if(t.fa)t=!0;else{e=new cl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&qb(t),t=n.call(r,e)}return t}function Wb(t){return t=t[Hb],t instanceof gh?t:null}var rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gb(t){return typeof t=="function"?t:(t[rp]||(t[rp]=function(e){return t.handleEvent(e)}),t[rp])}function ut(){_i.call(this),this.i=new gh(this),this.S=this,this.J=null}dt(ut,_i);ut.prototype[Vl]=!0;ut.prototype.removeEventListener=function(t,e,n,r){wC(this,t,e,n,r)};function wt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ot(e,t);else if(e instanceof Ot)e.target=e.target||t;else{var i=e;e=new Ot(r,t),gC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=Ac(a,r,!0,e)&&i}if(a=e.g=t,i=Ac(a,r,!0,e)&&i,i=Ac(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.g=n[s],i=Ac(a,r,!1,e)&&i}ut.prototype.N=function(){if(ut.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mh(n[r]);delete t.g[e],t.h--}}this.J=null};ut.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ut.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ac(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var c=a.listener,o=a.la||a.src;a.ia&&Im(t.i,a),i=c.call(o,r)!==!1&&i}}return i&&!r.defaultPrevented}var Kb=Z.JSON.stringify;class B3{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function H3(){var t=Qb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class q3{constructor(){this.h=this.g=null}add(e,n){const r=_C.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _C=new B3(()=>new W3,t=>t.reset());class W3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function G3(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function K3(t){Z.setTimeout(()=>{throw t},0)}let ul,dl=!1,Qb=new q3,SC=()=>{const t=Z.Promise.resolve(void 0);ul=()=>{t.then(Q3)}};var Q3=()=>{for(var t;t=H3();){try{t.h.call(t.g)}catch(n){K3(n)}var e=_C;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}dl=!1};function bh(t,e){ut.call(this),this.h=t||1,this.g=e||Z,this.j=Rt(this.qb,this),this.l=Date.now()}dt(bh,ut);D=bh.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wt(this,"tick"),this.ga&&(Yb(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Yb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}D.N=function(){bh.$.N.call(this),Yb(this),delete this.g};function Jb(t,e,n){if(typeof t=="function")n&&(t=Rt(t,n));else if(t&&typeof t.handleEvent=="function")t=Rt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function kC(t){t.g=Jb(()=>{t.g=null,t.i&&(t.i=!1,kC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Y3 extends _i{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kC(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hl(t){_i.call(this),this.h=t,this.g={}}dt(hl,_i);var Rw=[];function CC(t,e,n,r){Array.isArray(n)||(n&&(Rw[0]=n.toString()),n=Rw);for(var i=0;i<n.length;i++){var s=bC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function EC(t){Bb(t.g,function(e,n){this.g.hasOwnProperty(n)&&qb(e)},t),t.g={}}hl.prototype.N=function(){hl.$.N.call(this),EC(this)};hl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vh(){this.g=!0}vh.prototype.Ea=function(){this.g=!1};function J3(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",c=s.split("&"),o=0;o<c.length;o++){var u=c[o].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");a=2<=h.length&&h[1]=="type"?a+(d+"="+u+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function X3(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function Ws(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+eM(t,n)+(r?" "+r:"")})}function Z3(t,e){t.info(function(){return"TIMEOUT: "+e})}vh.prototype.info=function(){};function eM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return Kb(n)}catch{return e}}var bs={},Ow=null;function yh(){return Ow=Ow||new ut}bs.Ta="serverreachability";function NC(t){Ot.call(this,bs.Ta,t)}dt(NC,Ot);function fl(t){const e=yh();wt(e,new NC(e))}bs.STAT_EVENT="statevent";function jC(t,e){Ot.call(this,bs.STAT_EVENT,t),this.stat=e}dt(jC,Ot);function Ft(t){const e=yh();wt(e,new jC(e,t))}bs.Ua="timingevent";function TC(t,e){Ot.call(this,bs.Ua,t),this.size=e}dt(TC,Ot);function zl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var wh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},IC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xb(){}Xb.prototype.h=null;function Aw(t){return t.h||(t.h=t.i())}function RC(){}var Bl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zb(){Ot.call(this,"d")}dt(Zb,Ot);function ev(){Ot.call(this,"c")}dt(ev,Ot);var Om;function xh(){}dt(xh,Xb);xh.prototype.g=function(){return new XMLHttpRequest};xh.prototype.i=function(){return{}};Om=new xh;function Hl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new hl(this),this.P=tM,t=Nm?125:void 0,this.V=new bh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new OC}function OC(){this.i=null,this.g="",this.h=!1}var tM=45e3,AC={},Am={};D=Hl.prototype;D.setTimeout=function(t){this.P=t};function Pm(t,e,n){t.L=1,t.A=Sh(Nr(e)),t.u=n,t.S=!0,PC(t,null)}function PC(t,e){t.G=Date.now(),ql(t),t.B=Nr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),zC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new OC,t.g=cE(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Y3(Rt(t.Pa,t,t.g),t.O)),CC(t.U,t.g,"readystatechange",t.nb),e=t.I?mC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),fl(),J3(t.j,t.v,t.B,t.m,t.W,t.u)}D.nb=function(t){t=t.target;const e=this.M;e&&Kn(t)==3?e.l():this.Pa(t)};D.Pa=function(t){try{if(t==this.g)e:{const d=Kn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||Nm||this.g&&(this.h.h||this.g.ja()||Mw(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?fl(3):fl(2)),_h(this);var n=this.g.da();this.ca=n;t:if(DC(this)){var r=Mw(this.g);t="";var i=r.length,s=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mi(this),To(this);var a="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,X3(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,o=this.g;if((c=o.g?o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ll(c)){var u=c;break t}}u=null}if(n=u)Ws(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dm(this,n);else{this.i=!1,this.s=3,Ft(12),Mi(this),To(this);break e}}this.S?(LC(this,d,a),Nm&&this.i&&d==3&&(CC(this.U,this.V,"tick",this.mb),this.V.start())):(Ws(this.j,this.m,a,null),Dm(this,a)),d==4&&Mi(this),this.i&&!this.J&&(d==4?sE(this.l,this):(this.i=!1,ql(this)))}else _M(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),Mi(this),To(this)}}}catch{}finally{}};function DC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function LC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=nM(t,n),i==Am){e==4&&(t.s=4,Ft(14),r=!1),Ws(t.j,t.m,null,"[Incomplete Response]");break}else if(i==AC){t.s=4,Ft(15),Ws(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ws(t.j,t.m,i,null),Dm(t,i);DC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ft(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),av(e),e.M=!0,Ft(11))):(Ws(t.j,t.m,n,"[Invalid Chunked Response]"),Mi(t),To(t))}D.mb=function(){if(this.g){var t=Kn(this.g),e=this.g.ja();this.o<e.length&&(_h(this),LC(this,t,e),this.i&&t!=4&&ql(this))}};function nM(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Am:(n=Number(e.substring(n,r)),isNaN(n)?AC:(r+=1,r+n>e.length?Am:(e=e.slice(r,r+n),t.o=r+n,e)))}D.cancel=function(){this.J=!0,Mi(this)};function ql(t){t.Y=Date.now()+t.P,MC(t,t.P)}function MC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=zl(Rt(t.lb,t),e)}function _h(t){t.C&&(Z.clearTimeout(t.C),t.C=null)}D.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(Z3(this.j,this.B),this.L!=2&&(fl(),Ft(17)),Mi(this),this.s=2,To(this)):MC(this,this.Y-t)};function To(t){t.l.H==0||t.J||sE(t.l,t)}function Mi(t){_h(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Yb(t.V),EC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Dm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Lm(n.i,t))){if(!t.K&&Lm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)md(n),Nh(n);else break e;sv(n),Ft(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=zl(Rt(n.ib,n),6e3));if(1>=qC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Fi(n,11)}else if((t.K||n.g==t)&&md(n),!ll(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(tv(s,s.h),s.h=null))}if(r.F){const b=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,Re(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=lE(r,r.J?r.pa:null,r.Y),a.K){WC(r.i,a);var c=a,o=r.L;o&&c.setTimeout(o),c.C&&(_h(c),ql(c)),r.g=a}else rE(r);0<n.j.length&&jh(n)}else u[0]!="stop"&&u[0]!="close"||Fi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Fi(n,7):iv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}fl(4)}catch{}}function rM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(fh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function iM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(fh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function FC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(fh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iM(t),r=rM(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var UC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wi){this.h=t.h,fd(this,t.j),this.s=t.s,this.g=t.g,pd(this,t.m),this.l=t.l;var e=t.i,n=new pl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Pw(this,n),this.o=t.o}else t&&(e=String(t).match(UC))?(this.h=!1,fd(this,e[1]||"",!0),this.s=ho(e[2]||""),this.g=ho(e[3]||"",!0),pd(this,e[4]),this.l=ho(e[5]||"",!0),Pw(this,e[6]||"",!0),this.o=ho(e[7]||"")):(this.h=!1,this.i=new pl(null,this.h))}Wi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fo(e,Dw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fo(e,Dw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fo(n,n.charAt(0)=="/"?lM:oM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fo(n,uM)),t.join("")};function Nr(t){return new Wi(t)}function fd(t,e,n){t.j=n?ho(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Pw(t,e,n){e instanceof pl?(t.i=e,dM(t.i,t.h)):(n||(e=fo(e,cM)),t.i=new pl(e,t.h))}function Re(t,e,n){t.i.set(e,n)}function Sh(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ho(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,aM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function aM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Dw=/[#\/\?@]/g,oM=/[#\?:]/g,lM=/[#\?]/g,cM=/[#\?@]/g,uM=/#/g;function pl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Si(t){t.g||(t.g=new Map,t.h=0,t.i&&sM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}D=pl.prototype;D.add=function(t,e){Si(this),this.i=null,t=Aa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $C(t,e){Si(t),e=Aa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function VC(t,e){return Si(t),e=Aa(t,e),t.g.has(e)}D.forEach=function(t,e){Si(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};D.ta=function(){Si(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};D.Z=function(t){Si(this);let e=[];if(typeof t=="string")VC(this,t)&&(e=e.concat(this.g.get(Aa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};D.set=function(t,e){return Si(this),this.i=null,t=Aa(this,t),VC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};D.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function zC(t,e,n){$C(t,e),0<n.length&&(t.i=null,t.g.set(Aa(t,e),Vb(n)),t.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};function Aa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dM(t,e){e&&!t.j&&(Si(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($C(this,r),zC(this,i,n))},t)),t.j=e}var hM=class{constructor(t,e){this.g=t,this.map=e}};function BC(t){this.l=t||fM,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fM=10;function HC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function qC(t){return t.h?1:t.g?t.g.size:0}function Lm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function tv(t,e){t.g?t.g.add(e):t.h=e}function WC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}BC.prototype.cancel=function(){if(this.i=GC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function GC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Vb(t.i)}var pM=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function mM(){this.g=new pM}function gM(t,e,n){const r=n||"";try{FC(t,function(i,s){let a=i;$l(i)&&(a=Kb(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function bM(t,e){const n=new vh;if(Z.Image){const r=new Image;r.onload=Oc(Pc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Oc(Pc,n,r,"TestLoadImage: error",!1,e),r.onabort=Oc(Pc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Oc(Pc,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Pc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function kh(t){this.l=t.ec||null,this.j=t.ob||!1}dt(kh,Xb);kh.prototype.g=function(){return new Ch(this.l,this.j)};kh.prototype.i=function(t){return function(){return t}}({});function Ch(t,e){ut.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=nv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(Ch,ut);var nv=0;D=Ch.prototype;D.open=function(t,e){if(this.readyState!=nv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ml(this)};D.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wl(this)),this.readyState=nv};D.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ml(this)),this.g&&(this.readyState=3,ml(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function KC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}D.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wl(this):ml(this),this.readyState==3&&KC(this)}};D.Za=function(t){this.g&&(this.response=this.responseText=t,Wl(this))};D.Ya=function(t){this.g&&(this.response=t,Wl(this))};D.ka=function(){this.g&&Wl(this)};function Wl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ml(t)}D.setRequestHeader=function(t,e){this.v.append(t,e)};D.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ml(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var vM=Z.JSON.parse;function Be(t){ut.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QC,this.L=this.M=!1}dt(Be,ut);var QC="",yM=/^https?$/i,wM=["POST","PUT"];D=Be.prototype;D.Oa=function(t){this.M=t};D.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Om.g(),this.C=this.u?Aw(this.u):Aw(Om),this.g.onreadystatechange=Rt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Lw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=dC(wM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{XC(this),0<this.B&&((this.L=xM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rt(this.ua,this)):this.A=Jb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Lw(this,s)}};function xM(t){return pa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}D.ua=function(){typeof $b<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wt(this,"timeout"),this.abort(8))};function Lw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,YC(t),Eh(t)}function YC(t){t.F||(t.F=!0,wt(t,"complete"),wt(t,"error"))}D.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,wt(this,"complete"),wt(this,"abort"),Eh(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eh(this,!0)),Be.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?JC(this):this.kb())};D.kb=function(){JC(this)};function JC(t){if(t.h&&typeof $b<"u"&&(!t.C[1]||Kn(t)!=4||t.da()!=2)){if(t.v&&Kn(t)==4)Jb(t.La,0,t);else if(wt(t,"readystatechange"),Kn(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(UC)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!yM.test(i?i.toLowerCase():"")}n=r}if(n)wt(t,"complete"),wt(t,"success");else{t.m=6;try{var s=2<Kn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",YC(t)}}finally{Eh(t)}}}}function Eh(t,e){if(t.g){XC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||wt(t,"ready");try{n.onreadystatechange=r}catch{}}}function XC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}D.isActive=function(){return!!this.g};function Kn(t){return t.g?t.g.readyState:0}D.da=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),vM(e)}};function Mw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case QC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function _M(t){const e={};t=(t.g&&2<=Kn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ll(t[r]))continue;var n=G3(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}$3(e,function(r){return r.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ZC(t){let e="";return Bb(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function rv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Re(t,e,n))}function to(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eE(t){this.Ga=0,this.j=[],this.l=new vh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=to("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=to("baseRetryDelayMs",5e3,t),this.hb=to("retryDelaySeedMs",1e4,t),this.eb=to("forwardChannelMaxRetries",2,t),this.xa=to("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new BC(t&&t.concurrentRequestLimit),this.Ja=new mM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=eE.prototype;D.ra=8;D.H=1;function iv(t){if(tE(t),t.H==3){var e=t.W++,n=Nr(t.I);if(Re(n,"SID",t.K),Re(n,"RID",e),Re(n,"TYPE","terminate"),Gl(t,n),e=new Hl(t,t.l,e),e.L=2,e.A=Sh(Nr(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Z.Image&&(new Image().src=e.A,n=!0),n||(e.g=cE(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ql(e)}oE(t)}function Nh(t){t.g&&(av(t),t.g.cancel(),t.g=null)}function tE(t){Nh(t),t.u&&(Z.clearTimeout(t.u),t.u=null),md(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function jh(t){if(!HC(t.i)&&!t.m){t.m=!0;var e=t.Na;ul||SC(),dl||(ul(),dl=!0),Qb.add(e,t),t.C=0}}function SM(t,e){return qC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=zl(Rt(t.Na,t,e),aE(t,t.C)),t.C++,!0)}D.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Hl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=mC(s),gC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nE(this,i,e),n=Nr(this.I),Re(n,"RID",t),Re(n,"CVER",22),this.F&&Re(n,"X-HTTP-Session-Id",this.F),Gl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ZC(s)))+"&"+e:this.o&&rv(n,this.o,s)),tv(this.i,i),this.bb&&Re(n,"TYPE","init"),this.P?(Re(n,"$req",e),Re(n,"SID","null"),i.aa=!0,Pm(i,n,null)):Pm(i,n,e),this.H=2}}else this.H==3&&(t?Fw(this,t):this.j.length==0||HC(this.i)||Fw(this))};function Fw(t,e){var n;e?n=e.m:n=t.W++;const r=Nr(t.I);Re(r,"SID",t.K),Re(r,"RID",n),Re(r,"AID",t.V),Gl(t,r),t.o&&t.s&&rv(r,t.o,t.s),n=new Hl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),tv(t.i,n),Pm(n,r,e)}function Gl(t,e){t.na&&Bb(t.na,function(n,r){Re(e,r,n)}),t.h&&FC({},function(n,r){Re(e,r,n)})}function nE(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Rt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let o=0;o<n;o++){let u=i[o].g;const d=i[o].map;if(u-=s,0>u)s=Math.max(0,i[o].g-100),c=!1;else try{gM(d,a,"req"+u+"_")}catch{r&&r(d)}}if(c){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ul||SC(),dl||(ul(),dl=!0),Qb.add(e,t),t.A=0}}function sv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=zl(Rt(t.Ma,t),aE(t,t.A)),t.A++,!0)}D.Ma=function(){if(this.u=null,iE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=zl(Rt(this.jb,this),t)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ft(10),Nh(this),iE(this))};function av(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function iE(t){t.g=new Hl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Nr(t.wa);Re(e,"RID","rpc"),Re(e,"SID",t.K),Re(e,"AID",t.V),Re(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Re(e,"TO",t.qa),Re(e,"TYPE","xmlhttp"),Gl(t,e),t.o&&t.s&&rv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Sh(Nr(e)),n.u=null,n.S=!0,PC(n,t)}D.ib=function(){this.v!=null&&(this.v=null,Nh(this),sv(this),Ft(19))};function md(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function sE(t,e){var n=null;if(t.g==e){md(t),av(t),t.g=null;var r=2}else if(Lm(t.i,e))n=e.F,WC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=yh(),wt(r,new TC(r,n)),jh(t)}else rE(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&SM(t,e)||r==2&&sv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Fi(t,5);break;case 4:Fi(t,10);break;case 3:Fi(t,6);break;default:Fi(t,2)}}}function aE(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Fi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Rt(t.pb,t);n||(n=new Wi("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||fd(n,"https"),Sh(n)),bM(n.toString(),r)}else Ft(2);t.H=0,t.h&&t.h.za(e),oE(t),tE(t)}D.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ft(2)):(this.l.info("Failed to ping google.com"),Ft(1))};function oE(t){if(t.H=0,t.ma=[],t.h){const e=GC(t.i);(e.length!=0||t.j.length!=0)&&(Tw(t.ma,e),Tw(t.ma,t.j),t.i.i.length=0,Vb(t.j),t.j.length=0),t.h.ya()}}function lE(t,e,n){var r=n instanceof Wi?Nr(n):new Wi(n);if(r.g!="")e&&(r.g=e+"."+r.g),pd(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Wi(null);r&&fd(s,r),e&&(s.g=e),i&&pd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Re(r,n,e),Re(r,"VER",t.ra),Gl(t,r),r}function cE(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Be(new kh({ob:n})):new Be(t.va),e.Oa(t.J),e}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function uE(){}D=uE.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function gd(){if(pa&&!(10<=Number(L3)))throw Error("Environmental error: no available transport.")}gd.prototype.g=function(t,e){return new un(t,e)};function un(t,e){ut.call(this),this.g=new eE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ll(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ll(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Pa(this)}dt(un,ut);un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ft(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lE(t,null,t.Y),jh(t)};un.prototype.close=function(){iv(this.g)};un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Kb(t),t=n);e.j.push(new hM(e.fb++,t)),e.H==3&&jh(e)};un.prototype.N=function(){this.g.h=null,delete this.j,iv(this.g),delete this.g,un.$.N.call(this)};function dE(t){Zb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dt(dE,Zb);function hE(){ev.call(this),this.status=1}dt(hE,ev);function Pa(t){this.g=t}dt(Pa,uE);Pa.prototype.Ba=function(){wt(this.g,"a")};Pa.prototype.Aa=function(t){wt(this.g,new dE(t))};Pa.prototype.za=function(t){wt(this.g,new hE)};Pa.prototype.ya=function(){wt(this.g,"b")};function kM(){this.blockSize=-1}function Fn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dt(Fn,kM);Fn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ip(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],a=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Fn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)ip(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ip(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ip(this,r),i=0;break}}this.h=i,this.i+=e};Fn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ke(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var CM={};function ov(t){return-128<=t&&128>t?O3(t,function(e){return new ke([e|0],0>e?-1:0)}):new ke([t|0],0>t?-1:0)}function Qn(t){if(isNaN(t)||!isFinite(t))return na;if(0>t)return gt(Qn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Mm;return new ke(e,0)}function fE(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return gt(fE(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qn(Math.pow(e,8)),r=na,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=Qn(Math.pow(e,s)),r=r.R(s).add(Qn(a))):(r=r.R(n),r=r.add(Qn(a)))}return r}var Mm=4294967296,na=ov(0),Fm=ov(1),Uw=ov(16777216);D=ke.prototype;D.ea=function(){if(bn(this))return-gt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Mm+r)*e,e*=Mm}return t};D.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(vr(this))return"0";if(bn(this))return"-"+gt(this).toString(t);for(var e=Qn(Math.pow(t,6)),n=this,r="";;){var i=vd(n,e).g;n=bd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,vr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};D.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function vr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function bn(t){return t.h==-1}D.X=function(t){return t=bd(this,t),bn(t)?-1:vr(t)?0:1};function gt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ke(n,~t.h).add(Fm)}D.abs=function(){return bn(this)?gt(this):this};D.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new ke(n,n[n.length-1]&-2147483648?-1:0)};function bd(t,e){return t.add(gt(e))}D.R=function(t){if(vr(this)||vr(t))return na;if(bn(this))return bn(t)?gt(this).R(gt(t)):gt(gt(this).R(t));if(bn(t))return gt(this.R(gt(t)));if(0>this.X(Uw)&&0>t.X(Uw))return Qn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=this.D(r)&65535,c=t.D(i)>>>16,o=t.D(i)&65535;n[2*r+2*i]+=a*o,Dc(n,2*r+2*i),n[2*r+2*i+1]+=s*o,Dc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*c,Dc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*c,Dc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ke(n,0)};function Dc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function no(t,e){this.g=t,this.h=e}function vd(t,e){if(vr(e))throw Error("division by zero");if(vr(t))return new no(na,na);if(bn(t))return e=vd(gt(t),e),new no(gt(e.g),gt(e.h));if(bn(e))return e=vd(t,gt(e)),new no(gt(e.g),e.h);if(30<t.g.length){if(bn(t)||bn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Fm,r=e;0>=r.X(t);)n=$w(n),r=$w(r);var i=js(n,1),s=js(r,1);for(r=js(r,2),n=js(n,2);!vr(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=js(r,1),n=js(n,1)}return e=bd(t,i.R(e)),new no(i,e)}for(i=na;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Qn(n),a=s.R(e);bn(a)||0<a.X(t);)n-=r,s=Qn(n),a=s.R(e);vr(s)&&(s=Fm),i=i.add(s),t=bd(t,a)}return new no(i,t)}D.gb=function(t){return vd(this,t).h};D.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ke(n,this.h&t.h)};D.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ke(n,this.h|t.h)};D.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ke(n,this.h^t.h)};function $w(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ke(n,t.h)}function js(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ke(i,t.h)}gd.prototype.createWebChannel=gd.prototype.g;un.prototype.send=un.prototype.u;un.prototype.open=un.prototype.m;un.prototype.close=un.prototype.close;wh.NO_ERROR=0;wh.TIMEOUT=8;wh.HTTP_ERROR=6;IC.COMPLETE="complete";RC.EventType=Bl;Bl.OPEN="a";Bl.CLOSE="b";Bl.ERROR="c";Bl.MESSAGE="d";ut.prototype.listen=ut.prototype.O;Be.prototype.listenOnce=Be.prototype.P;Be.prototype.getLastError=Be.prototype.Sa;Be.prototype.getLastErrorCode=Be.prototype.Ia;Be.prototype.getStatus=Be.prototype.da;Be.prototype.getResponseJson=Be.prototype.Wa;Be.prototype.getResponseText=Be.prototype.ja;Be.prototype.send=Be.prototype.ha;Be.prototype.setWithCredentials=Be.prototype.Oa;Fn.prototype.digest=Fn.prototype.l;Fn.prototype.reset=Fn.prototype.reset;Fn.prototype.update=Fn.prototype.j;ke.prototype.add=ke.prototype.add;ke.prototype.multiply=ke.prototype.R;ke.prototype.modulo=ke.prototype.gb;ke.prototype.compare=ke.prototype.X;ke.prototype.toNumber=ke.prototype.ea;ke.prototype.toString=ke.prototype.toString;ke.prototype.getBits=ke.prototype.D;ke.fromNumber=Qn;ke.fromString=fE;var EM=function(){return new gd},NM=function(){return yh()},sp=wh,jM=IC,TM=bs,Vw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Lc=RC,IM=Be,RM=Fn,ra=ke;const zw="@firebase/firestore";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Da="10.8.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const as=new _b("@firebase/firestore");function ro(){return as.logLevel}function P(t,...e){if(as.logLevel<=pe.DEBUG){const n=e.map(lv);as.debug(`Firestore (${Da}): ${t}`,...n)}}function sr(t,...e){if(as.logLevel<=pe.ERROR){const n=e.map(lv);as.error(`Firestore (${Da}): ${t}`,...n)}}function ma(t,...e){if(as.logLevel<=pe.WARN){const n=e.map(lv);as.warn(`Firestore (${Da}): ${t}`,...n)}}function lv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ee(t="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+t;throw sr(e),new Error(e)}function Ne(t,e){t||ee()}function re(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class AM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PM{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=o=>this.i!==r?(r=this.i,n(o)):Promise.resolve();let s=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new tr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const o=s;e.enqueueRetryable(async()=>{await o.promise,await i(this.currentUser)})},c=o=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(o=>c(o)),setTimeout(()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?c(o):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new tr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new pE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new Nt(e)}}class DM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,P("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new MM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function UM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=UM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class be{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new be(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new be(0,0))}static max(){return new te(new be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends gl{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const $M=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends gl{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return $M.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new F(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new F(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[i+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new F(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=o,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new F(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B{constructor(e){this.path=e}static fromPath(e){return new B(Oe.fromString(e))}static fromName(e){return new B(Oe.fromString(e).popFirst(5))}static empty(){return new B(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new Oe(e.slice()))}}function VM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new be(n+1,0):new be(n,r));return new mi(i,B.empty(),e)}function zM(t){return new mi(t.readTime,t.key,-1)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(te.min(),B.empty(),-1)}static max(){return new mi(te.max(),B.empty(),-1)}}function BM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Kl(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==HM)throw t;P("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&n()},o=>r(o))}),a=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new I((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let o=0;o<s;o++){const u=o;n(e[u]).next(d=>{a[u]=d,++c,c===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new I((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new tr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Io(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=uv(r.target.error);this.V.reject(new Io(e,i))}}static open(e,n,r,i){try{return new cv(n,e.transaction(i,r))}catch(s){throw new Io(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(P("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new GM(n)}}class Ui{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ui.S(Je())===12.2&&sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return P("SimpleDb","Removing database:",e),Ai(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!uk())return!1;if(Ui.C())return!0;const e=Je(),n=Ui.S(e),r=0<n&&n<10,i=Ui.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(P("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new Io(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new F(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new F(j.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Io(e,a))},i.onupgradeneeded=s=>{P("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.N(a,i.transaction,s.oldVersion,this.version).next(()=>{P("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const c=cv.open(this.db,e,s?"readonly":"readwrite",r),o=i(c).next(u=>(c.g(),u)).catch(u=>(c.abort(u),I.reject(u))).toPromise();return o.catch(()=>{}),await c.m,o}catch(c){const o=c,u=o.name!=="FirebaseError"&&a<3;if(P("SimpleDb","Transaction failed with error:",o.message,"Retrying:",u),this.close(),!u)return Promise.reject(o)}}}close(){this.db&&this.db.close(),this.db=void 0}}class WM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ai(this.k.delete())}}class Io extends F{constructor(e,n){super(j.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ql(t){return t.name==="IndexedDbTransactionError"}class GM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(P("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ai(r)}add(e){return P("SimpleDb","ADD",this.store.name,e,e),Ai(this.store.add(e))}get(e){return Ai(this.store.get(e)).next(n=>(n===void 0&&(n=null),P("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return P("SimpleDb","DELETE",this.store.name,e),Ai(this.store.delete(e))}count(){return P("SimpleDb","COUNT",this.store.name),Ai(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new I((a,c)=>{s.onerror=o=>{c(o.target.error)},s.onsuccess=o=>{a(o.target.result)}})}{const s=this.cursor(r),a=[];return this.G(s,(c,o)=>{a.push(o)}).next(()=>a)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new I((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}H(e,n){P("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,a,c)=>c.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new I((r,i)=>{n.onerror=s=>{const a=uv(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(c=>{c?a.continue():r()}):r()}})}G(e,n){const r=[];return new I((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void i();const o=new WM(c),u=n(c.primaryKey,c.value,o);if(u instanceof I){const d=u.catch(h=>(o.done(),I.reject(h)));r.push(d)}o.isDone?i():o.$===null?c.continue():c.continue(o.$)}}).next(()=>I.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ai(t){return new I((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=uv(r.target.error);n(i)}})}let Bw=!1;function uv(t){const e=Ui.S(Je());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bw||(Bw=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}dv._e=-1;function Th(t){return t==null}function yd(t){return t===0&&1/t==-1/0}function KM(t){return typeof t=="number"&&Number.isInteger(t)&&!yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Hw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fe{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mt.RED,this.left=i??mt.EMPTY,this.right=s??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(t,e,n,r,i){return this}insert(t,e,n){return new mt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qw(this.data.getIterator())}getIteratorFrom(e){return new qw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class qw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new sn([])}unionWith(e){let n=new xt(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bE("Invalid base64 string: "+i):i}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const QM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=QM.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function os(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fv(t){const e=t.mapValue.fields.__previous_value__;return hv(e)?fv(e):e}function bl(t){const e=gi(t.mapValue.fields.__local_write_time__.timestampValue);return new be(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YM{constructor(e,n,r,i,s,a,c,o,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=o,this.useFetchStreams=u}}class vl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hv(t)?4:JM(t)?9007199254740991:10:ee()}function ar(t,e){if(t===e)return!0;const n=ls(t);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=gi(r.timestampValue),a=gi(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return os(r.bytesValue).isEqual(os(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ge(r.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ge(r.integerValue)===Ge(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ge(r.doubleValue),a=Ge(i.doubleValue);return s===a?yd(s)===yd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:return function(r,i){const s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(Hw(s)!==Hw(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!ar(s[c],a[c])))return!1;return!0}(t,e);default:return ee()}}function yl(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function ba(t,e){if(t===e)return 0;const n=ls(t),r=ls(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=Ge(i.integerValue||i.doubleValue),c=Ge(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Ww(t.timestampValue,e.timestampValue);case 4:return Ww(bl(t),bl(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(i,s){const a=os(i),c=os(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),c=s.split("/");for(let o=0;o<a.length&&o<c.length;o++){const u=we(a[o],c[o]);if(u!==0)return u}return we(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=we(Ge(i.latitude),Ge(s.latitude));return a!==0?a:we(Ge(i.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],c=s.values||[];for(let o=0;o<a.length&&o<c.length;++o){const u=ba(a[o],c[o]);if(u)return u}return we(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Fc.mapValue&&s===Fc.mapValue)return 0;if(i===Fc.mapValue)return 1;if(s===Fc.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),o=s.fields||{},u=Object.keys(o);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const h=we(c[d],u[d]);if(h!==0)return h;const f=ba(a[c[d]],o[u[d]]);if(f!==0)return f}return we(c.length,u.length)}(t.mapValue,e.mapValue);default:throw ee()}}function Ww(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=gi(t),r=gi(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function va(t){return Um(t)}function Um(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){const n=gi(e);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(e){return os(e).toBase64()}(t.bytesValue):"referenceValue"in t?function(e){return B.fromName(e).toString()}(t.referenceValue):"geoPointValue"in t?function(e){return`geo(${e.latitude},${e.longitude})`}(t.geoPointValue):"arrayValue"in t?function(e){let n="[",r=!0;for(const i of e.values||[])r?r=!1:n+=",",n+=Um(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(e){const n=Object.keys(e.fields||{}).sort();let r="{",i=!0;for(const s of n)i?i=!1:r+=",",r+=`${s}:${Um(e.fields[s])}`;return r+"}"}(t.mapValue):ee()}function Gw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $m(t){return!!t&&"integerValue"in t}function pv(t){return!!t&&"arrayValue"in t}function Kw(t){return!!t&&"nullValue"in t}function Qw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hu(t){return!!t&&"mapValue"in t}function Ro(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ro(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ro(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ro(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const o=this.getFieldsMap(n);this.applyChanges(o,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=Ro(a):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gt(Ro(this.value))}}function vE(t){const e=[];return vs(t.fields,(n,r)=>{const i=new vt([n]);if(hu(r)){const s=vE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new sn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tt{constructor(e,n,r,i,s,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Tt(e,0,te.min(),te.min(),te.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new Tt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,te.min(),te.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,te.min(),te.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wd{constructor(e,n){this.position=e,this.inclusive=n}}function Yw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=B.comparator(B.fromName(a.referenceValue),n.key):r=ba(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xd{constructor(e,n="asc"){this.field=e,this.dir=n}}function XM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yE{}class Ye extends yE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new e5(e,n,r):n==="array-contains"?new r5(e,r):n==="in"?new i5(e,r):n==="not-in"?new s5(e,r):n==="array-contains-any"?new a5(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new t5(e,r):new n5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ba(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends yE{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Un(e,n)}matches(e){return wE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function wE(t){return t.op==="and"}function xE(t){return ZM(t)&&wE(t)}function ZM(t){for(const e of t.filters)if(e instanceof Un)return!1;return!0}function Vm(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+va(t.value);if(xE(t))return t.filters.map(e=>Vm(e)).join(",");{const e=t.filters.map(n=>Vm(n)).join(",");return`${t.op}(${e})`}}function _E(t,e){return t instanceof Ye?function(n,r){return r instanceof Ye&&n.op===r.op&&n.field.isEqual(r.field)&&ar(n.value,r.value)}(t,e):t instanceof Un?function(n,r){return r instanceof Un&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,a)=>i&&_E(s,r.filters[a]),!0):!1}(t,e):void ee()}function SE(t){return t instanceof Ye?function(e){return`${e.field.canonicalString()} ${e.op} ${va(e.value)}`}(t):t instanceof Un?function(e){return e.op.toString()+" {"+e.getFilters().map(SE).join(" ,")+"}"}(t):"Filter"}class e5 extends Ye{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){const n=B.comparator(e.key,this.key);return this.matchesComparison(n)}}class t5 extends Ye{constructor(e,n){super(e,"in",n),this.keys=kE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class n5 extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=kE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}class r5 extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pv(n)&&yl(n.arrayValue,this.value)}}class i5 extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yl(this.value.arrayValue,n)}}class s5 extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yl(this.value.arrayValue,n)}}class a5 extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yl(this.value.arrayValue,r))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o5{constructor(e,n=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ce=null}}function Xw(t,e=null,n=[],r=[],i=null,s=null,a=null){return new o5(t,e,n,r,i,s,a)}function mv(t){const e=re(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>va(r)).join(",")),e.ce=n}return e.ce}function gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_E(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jw(t.startAt,e.startAt)&&Jw(t.endAt,e.endAt)}function zm(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yl{constructor(e,n=null,r=[],i=[],s=null,a="F",c=null,o=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function l5(t,e,n,r,i,s,a,c){return new Yl(t,e,n,r,i,s,a,c)}function bv(t){return new Yl(t)}function Zw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CE(t){return t.collectionGroup!==null}function Oo(t){const e=re(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let s=new xt(vt.comparator);return i.filters.forEach(a=>{a.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new xd(i,r))}),n.has(vt.keyField().canonicalString())||e.le.push(new xd(vt.keyField(),r))}return e.le}function nr(t){const e=re(t);return e.he||(e.he=c5(e,Oo(t))),e.he}function c5(t,e){if(t.limitType==="F")return Xw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new xd(i.field,s)});const n=t.endAt?new wd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wd(t.startAt.position,t.startAt.inclusive):null;return Xw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bm(t,e){const n=t.filters.concat([e]);return new Yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hm(t,e,n){return new Yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return gv(nr(t),nr(e))&&t.limitType===e.limitType}function EE(t){return`${mv(nr(t))}|lt:${t.limitType}`}function Is(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>SE(r)).join(", ")}]`),Th(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>va(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>va(r)).join(",")),`Target(${n})`}(nr(t))}; limitType=${t.limitType})`}function Rh(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):B.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Oo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,a){const c=Yw(i,s,a);return i.inclusive?c<=0:c<0}(n.startAt,Oo(n),r)||n.endAt&&!function(i,s,a){const c=Yw(i,s,a);return i.inclusive?c>=0:c>0}(n.endAt,Oo(n),r))}(t,e)}function u5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NE(t){return(e,n)=>{let r=!1;for(const i of Oo(t)){const s=d5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function d5(t,e,n){const r=t.field.isKeyField()?B.comparator(e.key,n.key):function(i,s,a){const c=s.data.field(i),o=a.data.field(i);return c!==null&&o!==null?ba(c,o):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h5=new Fe(B.comparator);function jr(){return h5}const jE=new Fe(B.comparator);function po(...t){let e=jE;for(const n of t)e=e.insert(n.key,n);return e}function TE(t){let e=jE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $i(){return Ao()}function IE(){return Ao()}function Ao(){return new La(t=>t.toString(),(t,e)=>t.isEqual(e))}const f5=new Fe(B.comparator),p5=new xt(B.comparator);function le(...t){let e=p5;for(const n of t)e=e.add(n);return e}const m5=new xt(we);function g5(){return m5}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function RE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yd(e)?"-0":e}}function OE(t){return{integerValue:""+t}}function b5(t,e){return KM(e)?OE(e):RE(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oh{constructor(){this._=void 0}}function v5(t,e,n){return t instanceof _d?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&hv(i)&&(i=fv(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof wl?PE(t,e):t instanceof xl?DE(t,e):function(r,i){const s=AE(r,i),a=e1(s)+e1(r.Ie);return $m(s)&&$m(r.Ie)?OE(a):RE(r.serializer,a)}(t,e)}function y5(t,e,n){return t instanceof wl?PE(t,e):t instanceof xl?DE(t,e):n}function AE(t,e){return t instanceof Sd?function(n){return $m(n)||function(r){return!!r&&"doubleValue"in r}(n)}(e)?e:{integerValue:0}:null}class _d extends Oh{}class wl extends Oh{constructor(e){super(),this.elements=e}}function PE(t,e){const n=LE(e);for(const r of t.elements)n.some(i=>ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class xl extends Oh{constructor(e){super(),this.elements=e}}function DE(t,e){let n=LE(e);for(const r of t.elements)n=n.filter(i=>!ar(i,r));return{arrayValue:{values:n}}}class Sd extends Oh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function e1(t){return Ge(t.integerValue||t.doubleValue)}function LE(t){return pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function w5(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof wl&&r instanceof wl||n instanceof xl&&r instanceof xl?ga(n.elements,r.elements,ar):n instanceof Sd&&r instanceof Sd?ar(n.Ie,r.Ie):n instanceof _d&&r instanceof _d}(t.transform,e.transform)}class x5{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ah{}function ME(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vv(t.key,wn.none()):new Jl(t.key,t.data,wn.none());{const n=t.data,r=Gt.empty();let i=new xt(vt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ki(t.key,r,new sn(i.toArray()),wn.none())}}function _5(t,e,n){t instanceof Jl?function(r,i,s){const a=r.value.clone(),c=n1(r.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ki?function(r,i,s){if(!fu(r.precondition,i))return void i.convertToUnknownDocument(s.version);const a=n1(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(FE(r)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Po(t,e,n,r){return t instanceof Jl?function(i,s,a,c){if(!fu(i.precondition,s))return a;const o=i.value.clone(),u=r1(i.fieldTransforms,c,s);return o.setAll(u),s.convertToFoundDocument(s.version,o).setHasLocalMutations(),null}(t,e,n,r):t instanceof ki?function(i,s,a,c){if(!fu(i.precondition,s))return a;const o=r1(i.fieldTransforms,c,s),u=s.data;return u.setAll(FE(i)),u.setAll(o),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,s,a){return fu(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function S5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=AE(r.transform,i||null);s!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function t1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ga(n,r,(i,s)=>w5(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends Ah{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ki extends Ah{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function FE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n1(t,e,n){const r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,y5(a,c,n[i]))}return r}function r1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,v5(s,a,e))}return r}class vv extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k5 extends Ah{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Po(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Po(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IE();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(i.key)?null:c;const o=ME(a,c);o!==null&&r.set(i.key,o),a.isValidDocument()||a.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(n,r)=>t1(n,r))&&ga(this.baseMutations,e.baseMutations,(n,r)=>t1(n,r))}}class yv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return f5}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new yv(e,n,r,i)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class N5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var We,ge;function j5(t){switch(t){default:return ee();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function UE(t){if(t===void 0)return sr("GRPC error has no .code"),j.UNKNOWN;switch(t){case We.OK:return j.OK;case We.CANCELLED:return j.CANCELLED;case We.UNKNOWN:return j.UNKNOWN;case We.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case We.INTERNAL:return j.INTERNAL;case We.UNAVAILABLE:return j.UNAVAILABLE;case We.UNAUTHENTICATED:return j.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case We.NOT_FOUND:return j.NOT_FOUND;case We.ALREADY_EXISTS:return j.ALREADY_EXISTS;case We.PERMISSION_DENIED:return j.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case We.ABORTED:return j.ABORTED;case We.OUT_OF_RANGE:return j.OUT_OF_RANGE;case We.UNIMPLEMENTED:return j.UNIMPLEMENTED;case We.DATA_LOSS:return j.DATA_LOSS;default:return ee()}}(ge=We||(We={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function T5(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const I5=new ra([4294967295,4294967295],0);function i1(t){const e=T5().encode(t),n=new RM;return n.update(e),new Uint8Array(n.digest())}function s1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ra([n,r],0),new ra([i,s],0)]}class wv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mo(`Invalid padding: ${n}`);if(r<0)throw new mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ra.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ra.fromNumber(r)));return i.compare(I5)===1&&(i=new ra([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=i1(e),[r,i]=s1(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);if(!this.Ae(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new wv(s,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Te===0)return;const n=i1(e),[r,i]=s1(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);this.Re(a)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ph{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(te.min(),i,new Fe(we),jr(),le())}}class Xl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xl(r,n,le(),le(),le())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class $E{constructor(e,n){this.targetId=e,this.fe=n}}class VE{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class a1{constructor(){this.ge=0,this.pe=l1(),this.ye=Pt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=le(),n=le(),r=le();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Xl(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=l1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ne(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class R5{constructor(e){this.Le=e,this.ke=new Map,this.qe=jr(),this.Qe=o1(),this.Ke=new Fe(we)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(zm(s))if(r===0){const a=new B(s.path);this.We(n,a,Tt.newNoDocument(a,te.min()))}else Ne(r===1);else{const a=this.Ze(n);if(a!==r){const c=this.Xe(e),o=c?this.et(c,e,a):1;if(o!==0){this.He(n);const u=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,c;try{a=os(r).toUint8Array()}catch(o){if(o instanceof bE)return ma("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{c=new wv(a,i,s)}catch(o){return ma(o instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return c.Te===0?null:c}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,a)=>{const c=this.Ye(a);if(c){if(s.current&&zm(c.target)){const o=new B(c.target.path);this.qe.get(o)!==null||this.st(a,o)||this.We(a,o,Tt.newNoDocument(o,e))}s.De&&(n.set(a,s.ve()),s.Fe())}});let r=le();this.Qe.forEach((s,a)=>{let c=!0;a.forEachWhile(o=>{const u=this.Ye(o);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.qe.forEach((s,a)=>a.setReadTime(e));const i=new Ph(e,n,this.Ke,this.qe,r);return this.qe=jr(),this.Qe=o1(),this.Ke=new Fe(we),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new a1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new xt(we),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||P("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new a1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function o1(){return new Fe(B.comparator)}function l1(){return new Fe(B.comparator)}const O5={asc:"ASCENDING",desc:"DESCENDING"},A5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P5={and:"AND",or:"OR"};class D5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L5(t,e){return kd(t,e.toTimestamp())}function rr(t){return Ne(!!t),te.fromTimestamp(function(e){const n=gi(e);return new be(n.seconds,n.nanos)}(t))}function xv(t,e){return Wm(t,e).canonicalString()}function Wm(t,e){const n=function(r){return new Oe(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BE(t){const e=Oe.fromString(t);return Ne(KE(e)),e}function Gm(t,e){return xv(t.databaseId,e.path)}function ap(t,e){const n=BE(e);if(n.get(1)!==t.databaseId.projectId)throw new F(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(qE(n))}function HE(t,e){return xv(t.databaseId,e)}function M5(t){const e=BE(t);return e.length===4?Oe.emptyPath():qE(e)}function Km(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qE(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function c1(t,e,n){return{name:Gm(t,e),fields:n.value.mapValue.fields}}function F5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(o){return o==="NO_CHANGE"?0:o==="ADD"?1:o==="REMOVE"?2:o==="CURRENT"?3:o==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(o,u){return o.useProto3Json?(Ne(u===void 0||typeof u=="string"),Pt.fromBase64String(u||"")):(Ne(u===void 0||u instanceof Uint8Array),Pt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(o){const u=o.code===void 0?j.UNKNOWN:UE(o.code);return new F(u,o.message||"")}(a);n=new VE(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ap(t,r.document.name),s=rr(r.document.updateTime),a=r.document.createTime?rr(r.document.createTime):te.min(),c=new Gt({mapValue:{fields:r.document.fields}}),o=Tt.newFoundDocument(i,s,a,c),u=r.targetIds||[],d=r.removedTargetIds||[];n=new pu(u,d,o.key,o)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ap(t,r.document),s=r.readTime?rr(r.readTime):te.min(),a=Tt.newNoDocument(i,s),c=r.removedTargetIds||[];n=new pu([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ap(t,r.document),s=r.removedTargetIds||[];n=new pu([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new N5(i,s),c=r.targetId;n=new $E(c,a)}}return n}function U5(t,e){let n;if(e instanceof Jl)n={update:c1(t,e.key,e.value)};else if(e instanceof vv)n={delete:Gm(t,e.key)};else if(e instanceof ki)n={update:c1(t,e.key,e.data),updateMask:K5(e.fieldMask)};else{if(!(e instanceof k5))return ee();n={verify:Gm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof _d)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sd)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:L5(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee()}(t,e.precondition)),n}function $5(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?rr(r.updateTime):rr(i);return s.isEqual(te.min())&&(s=rr(i)),new x5(s,r.transformResults||[])}(n,e))):[]}function V5(t,e){return{documents:[HE(t,e.path)]}}function z5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HE(t,i);const s=function(o){if(o.length!==0)return GE(Un.create(o,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(o){if(o.length!==0)return o.map(u=>function(d){return{field:Rs(d.field),direction:q5(d.dir)}}(u))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=qm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(o){return{before:o.inclusive,values:o.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(o){return{before:!o.inclusive,values:o.position}}(e.endAt)),{ut:n,parent:i}}function B5(t){let e=M5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(d){const h=WE(d);return h instanceof Un&&xE(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(h=>function(f){return new xd(Os(f.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(h))}(n.orderBy));let c=null;n.limit&&(c=function(d){let h;return h=typeof d=="object"?d.value:d,Th(h)?null:h}(n.limit));let o=null;n.startAt&&(o=function(d){const h=!!d.before,f=d.values||[];return new wd(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new wd(f,h)}(n.endAt)),l5(e,i,a,s,c,"F",o,u)}function H5(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WE(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Os(e.unaryFilter.field);return Ye.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Os(e.unaryFilter.field);return Ye.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Os(e.unaryFilter.field);return Ye.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Os(e.unaryFilter.field);return Ye.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(e){return Ye.create(Os(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Un.create(e.compositeFilter.filters.map(n=>WE(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ee()}}(e.compositeFilter.op))}(t):ee()}function q5(t){return O5[t]}function W5(t){return A5[t]}function G5(t){return P5[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Os(t){return vt.fromServerFormat(t.fieldPath)}function GE(t){return t instanceof Ye?function(e){if(e.op==="=="){if(Qw(e.value))return{unaryFilter:{field:Rs(e.field),op:"IS_NAN"}};if(Kw(e.value))return{unaryFilter:{field:Rs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Qw(e.value))return{unaryFilter:{field:Rs(e.field),op:"IS_NOT_NAN"}};if(Kw(e.value))return{unaryFilter:{field:Rs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(e.field),op:W5(e.op),value:e.value}}}(t):t instanceof Un?function(e){const n=e.getFilters().map(r=>GE(r));return n.length===1?n[0]:{compositeFilter:{op:G5(e.op),filters:n}}}(t):ee()}function K5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qr{constructor(e,n,r,i,s=te.min(),a=te.min(),c=Pt.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=o}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q5{constructor(e){this.ct=e}}function Y5(t){const e=B5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hm(e,e.limit,"L"):e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J5{constructor(){this._n=new X5}addToCollectionParentIndex(e,n){return this._n.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(mi.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class X5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Oe.comparator)).toArray()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ya{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ya(0)}static Bn(){return new ya(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z5{constructor(){this.changes=new La(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class e6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Po(r.mutation,i,sn.empty(),be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=$i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=po();return s.forEach((c,o)=>{a=a.insert(c,o.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=$i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let s=jr();const a=Ao(),c=function(){return Ao()}();return n.forEach((o,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ki)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Po(d.mutation,u,d.mutation.getFieldMask(),be.now())):a.set(u.key,sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(o=>(o.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var h;return c.set(u,new e6(d,(h=a.get(u))!==null&&h!==void 0?h:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Ao();let i=new Fe((a,c)=>a-c),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(o=>{const u=n.get(o);if(u===null)return;let d=r.get(o)||sn.empty();d=c.applyToLocalView(u,d),r.set(o,d);const h=(i.get(c.batchId)||le()).add(o);i=i.insert(c.batchId,h)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const o=c.getNext(),u=o.key,d=o.value,h=IE();d.forEach(f=>{if(!s.has(f)){const g=ME(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return I.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):I.resolve($i());let c=-1,o=s;return a.next(u=>I.forEach(u,(d,h)=>(c<h.largestBatchId&&(c=h.largestBatchId),s.get(d)?I.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{o=o.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,o,u,le())).next(d=>({batchId:c,changes:TE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=po();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=po();return this.indexManager.getCollectionParents(e,s).next(c=>I.forEach(c,o=>{const u=function(d,h){return new Yl(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,o.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((o,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Tt.newInvalidDocument(d)))});let c=po();return a.forEach((o,u)=>{const d=s.get(o);d!==void 0&&Po(d.mutation,u,sn.empty(),be.now()),Rh(n,u)&&(c=c.insert(o,u))}),c})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class n6{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return I.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:rr(r.createTime)}}(n)),I.resolve()}getNamedQuery(e,n){return I.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:Y5(r.bundledQuery),readTime:rr(r.readTime)}}(n)),I.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r6{constructor(){this.overlays=new Fe(B.comparator),this.hr=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$i();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const i=$i(),s=n.length+1,a=new B(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const o=c.getNext().value,u=o.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&o.largestBatchId>r&&i.set(o.getKey(),o)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fe((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=$i(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const c=$i(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((u,d)=>c.set(u,d)),!(c.size()>=i)););return I.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new E5(n,r));let s=this.hr.get(n);s===void 0&&(s=le(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _v{constructor(){this.Pr=new xt(at.Ir),this.Tr=new xt(at.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new at(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new at(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new B(new Oe([])),r=new at(n,e),i=new at(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new B(new Oe([])),r=new at(n,e),i=new at(n,e+1);let s=le();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new at(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return B.comparator(e.key,n.key)||we(e.pr,n.pr)}static Er(e,n){return we(e.pr,n.pr)||B.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class i6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xt(at.Ir)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new C5(s,n,r,i);this.mutationQueue.push(a);for(const c of i)this.wr=this.wr.add(new at(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return I.resolve(a)}lookupMutationBatch(e,n){return I.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const c=this.Sr(a.pr);s.push(c)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(we);return n.forEach(i=>{const s=new at(i,0),a=new at(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],c=>{r=r.add(c.pr)})}),I.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;B.isDocumentKey(s)||(s=s.child(""));const a=new at(new B(s),0);let c=new xt(we);return this.wr.forEachWhile(o=>{const u=o.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(c=c.add(o.pr)),!0)},a),I.resolve(this.Dr(c))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return I.forEach(n.mutations,i=>{const s=new at(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new at(n,0),i=this.wr.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class s6{constructor(e){this.vr=e,this.docs=function(){return new Fe(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jr();const a=n.path,c=new B(a.child("")),o=this.docs.getIteratorFrom(c);for(;o.hasNext();){const{key:u,value:{document:d}}=o.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||BM(zM(d),r)<=0||(i.has(d.key)||Rh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}Fr(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new a6(this)}getSize(e){return I.resolve(this.size)}}class a6 extends Z5{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o6{constructor(e){this.persistence=e,this.Mr=new La(n=>mv(n),gv),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new _v,this.targetCount=0,this.Br=ya.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),I.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ya(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.qn(n),I.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Nr.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l6{constructor(e,n){this.Lr={},this.overlays={},this.kr=new dv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new o6(this),this.indexManager=new J5,this.remoteDocumentCache=function(r){return new s6(r)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Q5(n),this.$r=new n6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new i6(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){P("MemoryPersistence","Starting transaction:",e);const i=new c6(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return I.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class c6 extends qM{constructor(e){super(),this.currentSequenceNumber=e}}class Sv{constructor(e){this.persistence=e,this.zr=new _v,this.jr=null}static Hr(e){return new Sv(e)}get Jr(){if(this.jr)return this.jr;throw ee()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),I.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Jr,r=>{const i=B.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return I.or([()=>I.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kv(e,n.fromCache,r,i)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class u6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class d6{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return jA()?8:Ui.v(Je())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new u6;return this.Ji(e,n,a).next(c=>{if(s.result=c,this.Ui)return this.Yi(e,n,a,c.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ro()<=pe.DEBUG&&P("QueryEngine","SDK will not create cache indexes for query:",Is(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),I.resolve()):(ro()<=pe.DEBUG&&P("QueryEngine","Query:",Is(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ro()<=pe.DEBUG&&P("QueryEngine","The SDK decides to create cache indexes for query:",Is(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):I.resolve())}ji(e,n){if(Zw(n))return I.resolve(null);let r=nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hm(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=le(...s);return this.zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(o=>{const u=this.Zi(n,c);return this.Xi(n,u,a,o.readTime)?this.ji(e,Hm(n,null,"F")):this.es(e,u,n,o)}))})))}Hi(e,n,r,i){return Zw(n)||i.isEqual(te.min())?I.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?I.resolve(null):(ro()<=pe.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Is(n)),this.es(e,a,n,VM(i,-1)).next(c=>c))})}Zi(e,n){let r=new xt(NE(e));return n.forEach((i,s)=>{Rh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ro()<=pe.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Is(n)),this.zi.getDocumentsMatchingQuery(e,n,mi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h6{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Fe(we),this.rs=new La(s=>mv(s),gv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t6(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function f6(t,e,n,r){return new h6(t,e,n,r)}async function QE(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let o=le();for(const u of i){a.push(u.batchId);for(const d of u.mutations)o=o.add(d.key)}for(const u of s){c.push(u.batchId);for(const d of u.mutations)o=o.add(d.key)}return n.localDocuments.getDocuments(r,o).next(u=>({us:u,removedBatchIds:a,addedBatchIds:c}))})})}function p6(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,o,u){const d=o.batch,h=d.keys();let f=I.resolve();return h.forEach(g=>{f=f.next(()=>u.getEntry(c,g)).next(w=>{const b=o.docVersions.get(g);Ne(b!==null),w.version.compareTo(b)<0&&(d.applyToRemoteDocument(w,o),w.isValidDocument()&&(w.setReadTime(o.commitVersion),u.addEntry(w)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=le();for(let o=0;o<a.mutationResults.length;++o)a.mutationResults[o].transformResults.length>0&&(c=c.add(a.batch.mutations[o].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YE(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function m6(t,e){const n=re(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const c=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;c.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Pt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(w,b,x){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,g,d)&&c.push(n.Qr.updateTargetData(s,g))});let o=jr(),u=le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(g6(s,a,e.documentUpdates).next(d=>{o=d.cs,u=d.ls})),!r.isEqual(te.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(d)}return I.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,o,u)).next(()=>o)}).then(s=>(n.ns=i,s))}function g6(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=jr();return n.forEach((c,o)=>{const u=s.get(c);o.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(c)),o.isNoDocument()&&o.version.isEqual(te.min())?(e.removeEntry(c,o.readTime),a=a.insert(c,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||o.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(o),a=a.insert(c,o)):P("LocalStore","Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",o.version)}),{cs:a,ls:i}})}function b6(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function v6(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new Qr(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Qm(t,e,n){const r=re(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Ql(a))throw a;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function u1(t,e,n){const r=re(t);let i=te.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,o,u){const d=re(c),h=d.rs.get(u);return h!==void 0?I.resolve(d.ns.get(h)):d.Qr.getTargetData(o,u)}(r,a,nr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,c.targetId).next(o=>{s=o})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:te.min(),n?s:le())).next(c=>(y6(r,u5(e),c),{documents:c,hs:s})))}function y6(t,e,n){let r=t.ss.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class d1{constructor(){this.activeTargetIds=g5()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w6{constructor(){this.no=new d1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new d1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x6{io(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Uc=null;function op(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S6{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Et="WebChannelConnection";class k6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+e.host,this.po=`projects/${r}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${i}`}get wo(){return!1}So(e,n,r,i,s){const a=op(),c=this.bo(e,n.toUriEncodedString());P("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,i,s),this.Co(e,c,o,r).then(u=>(P("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw ma("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}vo(e,n,r,i,s,a){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Da}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=_6[e];return`${this.fo}/v1/${n}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=op();return new Promise((a,c)=>{const o=new IM;o.setWithCredentials(!0),o.listenOnce(jM.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case sp.NO_ERROR:const d=o.getResponseJson();P(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case sp.TIMEOUT:P(Et,`RPC '${e}' ${s} timed out`),c(new F(j.DEADLINE_EXCEEDED,"Request time out"));break;case sp.HTTP_ERROR:const h=o.getStatus();if(P(Et,`RPC '${e}' ${s} failed with status:`,h,"response text:",o.getResponseText()),h>0){let f=o.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const w=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(x)>=0?x:j.UNKNOWN}(g.status);c(new F(w,g.message))}else c(new F(j.UNKNOWN,"Server responded with status "+o.getStatus()))}else c(new F(j.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{P(Et,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);P(Et,`RPC '${e}' ${s} sending request:`,i),o.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=op(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=EM(),c=NM(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const d=s.join("");P(Et,`Creating RPC '${e}' stream ${i}: ${d}`,o);const h=a.createWebChannel(d,o);let f=!1,g=!1;const w=new S6({lo:x=>{g?P(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(P(Et,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),P(Et,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},ho:()=>h.close()}),b=(x,m,p)=>{x.listen(m,v=>{try{p(v)}catch(_){setTimeout(()=>{throw _},0)}})};return b(h,Lc.EventType.OPEN,()=>{g||P(Et,`RPC '${e}' stream ${i} transport opened.`)}),b(h,Lc.EventType.CLOSE,()=>{g||(g=!0,P(Et,`RPC '${e}' stream ${i} transport closed`),w.Vo())}),b(h,Lc.EventType.ERROR,x=>{g||(g=!0,ma(Et,`RPC '${e}' stream ${i} transport errored:`,x),w.Vo(new F(j.UNAVAILABLE,"The operation could not be completed")))}),b(h,Lc.EventType.MESSAGE,x=>{var m;if(!g){const p=x.data[0];Ne(!!p);const v=p,_=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(_){P(Et,`RPC '${e}' stream ${i} received error:`,_);const k=_.status;let C=function(E){const T=We[E];if(T!==void 0)return UE(T)}(k),S=_.message;C===void 0&&(C=j.INTERNAL,S="Unknown error status: "+k+" with message "+_.message),g=!0,w.Vo(new F(C,S)),h.close()}else P(Et,`RPC '${e}' stream ${i} received:`,p),w.mo(p)}}),b(c,TM.STAT_EVENT,x=>{x.stat===Vw.PROXY?P(Et,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Vw.NOPROXY&&P(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}}function lp(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dh(t){return new D5(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class XE{constructor(e,n,r,i,s,a,c,o){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new JE(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new F(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C6 extends XE{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=F5(this.serializer,e),r=function(i){if(!("targetChange"in i))return te.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?rr(s.readTime):te.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Km(this.serializer),n.addTarget=function(i,s){let a;const c=s.target;if(a=zm(c)?{documents:V5(i,c)}:{query:z5(i,c).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=zE(i,s.resumeToken);const o=qm(i,s.expectedCount);o!==null&&(a.expectedCount=o)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=kd(i,s.snapshotVersion.toTimestamp());const o=qm(i,s.expectedCount);o!==null&&(a.expectedCount=o)}return a}(this.serializer,e);const r=H5(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.t_(n)}}class E6 extends XE{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=$5(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.T_(r,n)}return Ne(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Km(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>U5(this.serializer,r))};this.t_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class N6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new F(j.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(e,Wm(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(j.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,Wm(n,r),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(j.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class j6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(sr(n),this.g_=!1):P("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget(async()=>{ys(this)&&(P("RemoteStore","Restarting streams for network reachability change."),await async function(c){const o=re(c);o.v_.add(4),await Zl(o),o.x_.set("Unknown"),o.v_.delete(4),await Lh(o)}(this))})}),this.x_=new j6(r,i)}}async function Lh(t){if(ys(t))for(const e of t.F_)await e(!0)}async function Zl(t){for(const e of t.F_)await e(!1)}function ZE(t,e){const n=re(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Nv(n)?Ev(n):Ma(n).Jo()&&Cv(n,e))}function eN(t,e){const n=re(t),r=Ma(n);n.C_.delete(e),r.Jo()&&tN(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ys(n)&&n.x_.set("Unknown"))}function Cv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ma(t).c_(e)}function tN(t,e){t.O_.Oe(e),Ma(t).l_(e)}function Ev(t){t.O_=new R5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ma(t).start(),t.x_.p_()}function Nv(t){return ys(t)&&!Ma(t).Ho()&&t.C_.size>0}function ys(t){return re(t).v_.size===0}function nN(t){t.O_=void 0}async function I6(t){t.C_.forEach((e,n)=>{Cv(t,e)})}async function R6(t,e){nN(t),Nv(t)?(t.x_.S_(e),Ev(t)):t.x_.set("Unknown")}async function O6(t,e,n){if(t.x_.set("Online"),e instanceof VE&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const a of i.targetIds)r.C_.has(a)&&(await r.remoteSyncer.rejectListen(a,s),r.C_.delete(a),r.O_.removeTarget(a))}(t,e)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cd(t,r)}else if(e instanceof pu?t.O_.$e(e):e instanceof $E?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(te.min()))try{const r=await YE(t.localStore);n.compareTo(r)>=0&&await function(i,s){const a=i.O_.it(s);return a.targetChanges.forEach((c,o)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.C_.get(o);u&&i.C_.set(o,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,o)=>{const u=i.C_.get(c);if(!u)return;i.C_.set(c,u.withResumeToken(Pt.EMPTY_BYTE_STRING,u.snapshotVersion)),tN(i,c);const d=new Qr(u.target,c,o,u.sequenceNumber);Cv(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){P("RemoteStore","Failed to raise snapshot:",r),await Cd(t,r)}}async function Cd(t,e,n){if(!Ql(e))throw e;t.v_.add(1),await Zl(t),t.x_.set("Offline"),n||(n=()=>YE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{P("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Lh(t)})}function rN(t,e){return e().catch(n=>Cd(t,n,e))}async function Mh(t){const e=re(t),n=bi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;A6(e);)try{const i=await b6(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,P6(e,i)}catch(i){await Cd(e,i)}iN(e)&&sN(e)}function A6(t){return ys(t)&&t.D_.length<10}function P6(t,e){t.D_.push(e);const n=bi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function iN(t){return ys(t)&&!bi(t).Ho()&&t.D_.length>0}function sN(t){bi(t).start()}async function D6(t){bi(t).d_()}async function L6(t){const e=bi(t);for(const n of t.D_)e.I_(n.mutations)}async function M6(t,e,n){const r=t.D_.shift(),i=yv.from(r,e,n);await rN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Mh(t)}async function F6(t,e){e&&bi(t).P_&&await async function(n,r){if(function(i){return j5(i)&&i!==j.ABORTED}(r.code)){const i=n.D_.shift();bi(n).Zo(),await rN(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Mh(n)}}(t,e),iN(t)&&sN(t)}async function f1(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const r=ys(n);n.v_.add(3),await Zl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Lh(n)}async function U6(t,e){const n=re(t);e?(n.v_.delete(2),await Lh(n)):e||(n.v_.add(2),await Zl(n),n.x_.set("Unknown"))}function Ma(t){return t.N_||(t.N_=function(e,n,r){const i=re(e);return i.R_(),new C6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Po:I6.bind(null,t),To:R6.bind(null,t),u_:O6.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Nv(t)?Ev(t):t.x_.set("Unknown")):(await t.N_.stop(),nN(t))})),t.N_}function bi(t){return t.B_||(t.B_=function(e,n,r){const i=re(e);return i.R_(),new E6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Po:D6.bind(null,t),To:F6.bind(null,t),E_:L6.bind(null,t),T_:M6.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Mh(t)):(await t.B_.stop(),t.D_.length>0&&(P("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new jv(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(t,e){if(sr("AsyncQueue",`${e}: ${t}`),Ql(t))return new F(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ia{constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=po(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new ia(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p1{constructor(){this.L_=new Fe(B.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ee():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wa{constructor(e,n,r,i,s,a,c,o,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=o,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new wa(e,n,ia.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $6{constructor(){this.q_=void 0,this.Q_=[]}}class V6{constructor(){this.queries=new La(e=>EE(e),Ih),this.onlineState="Unknown",this.K_=new Set}}async function aN(t,e){const n=re(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new $6),i)try{s.q_=await n.onListen(r)}catch(a){const c=Tv(a,`Initialization of query '${Is(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&Iv(n)}async function oN(t,e){const n=re(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const a=s.Q_.indexOf(e);a>=0&&(s.Q_.splice(a,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function z6(t,e){const n=re(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const c of a.Q_)c.W_(i)&&(r=!0);a.q_=i}}r&&Iv(n)}function B6(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function Iv(t){t.K_.forEach(e=>{e.next()})}class lN{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cN{constructor(e){this.key=e}}class uN{constructor(e){this.key=e}}class H6{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=le(),this.mutatedKeys=le(),this.ua=NE(e),this.ca=new ia(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new p1,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const o=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),g=Rh(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;f&&g?f.data.isEqual(g.data)?w!==b&&(r.track({type:3,doc:g}),x=!0):this.Ia(f,g)||(r.track({type:2,doc:g}),x=!0,(o&&this.ua(g,o)>0||u&&this.ua(g,u)<0)&&(c=!0)):!f&&g?(r.track({type:0,doc:g}),x=!0):f&&!g&&(r.track({type:1,doc:f}),x=!0,(o||u)&&(c=!0)),x&&(g?(a=a.add(g),s=b?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ca:a,Pa:r,Xi:c,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const a=e.Pa.k_();a.sort((d,h)=>function(f,g){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return w(f)-w(g)}(d.type,h.type)||this.ua(d.doc,h.doc)),this.Ta(r),i=i!=null&&i;const c=n&&!i?this.Ea():[],o=this.aa.size===0&&this.current&&!i?1:0,u=o!==this._a;return this._a=o,a.length!==0||u?{snapshot:new wa(this.query,e.ca,s,a,e.mutatedKeys,o===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:c}:{da:c}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new p1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=le(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new uN(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new cN(r))}),n}Ra(e){this.oa=e.hs,this.aa=le();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return wa.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class q6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class W6{constructor(e){this.key=e,this.ma=!1}}class G6{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new La(c=>EE(c),Ih),this.pa=new Map,this.ya=new Set,this.wa=new Fe(B.comparator),this.Sa=new Map,this.ba=new _v,this.Da={},this.Ca=new Map,this.va=ya.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function K6(t,e){const n=iF(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const a=await v6(n.localStore,nr(e)),c=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=await Q6(n,e,r,c==="current",a.resumeToken),n.isPrimaryClient&&ZE(n.remoteStore,a)}return i}async function Q6(t,e,n,r,i){t.Ma=(h,f,g)=>async function(w,b,x,m){let p=b.view.ha(x);p.Xi&&(p=await u1(w.localStore,b.query,!1).then(({documents:C})=>b.view.ha(C,p)));const v=m&&m.targetChanges.get(b.targetId),_=m&&m.targetMismatches.get(b.targetId)!=null,k=b.view.applyChanges(p,w.isPrimaryClient,v,_);return g1(w,b.targetId,k.da),k.snapshot}(t,h,f,g);const s=await u1(t.localStore,e,!0),a=new H6(e,s.hs),c=a.ha(s.documents),o=Xl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(c,t.isPrimaryClient,o);g1(t,n,u.da);const d=new q6(e,n,a);return t.ga.set(e,d),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function Y6(t,e){const n=re(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Ih(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Qm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),eN(n.remoteStore,r.targetId),Ym(n,r.targetId)}).catch(Kl)):(Ym(n,r.targetId),await Qm(n.localStore,r.targetId,!0))}async function J6(t,e,n){const r=sF(t);try{const i=await function(s,a){const c=re(s),o=be.now(),u=a.reduce((f,g)=>f.add(g.key),le());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=jr(),w=le();return c.os.getEntries(f,u).next(b=>{g=b,g.forEach((x,m)=>{m.isValidDocument()||(w=w.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(b=>{d=b;const x=[];for(const m of a){const p=S5(m,d.get(m.key).overlayedDocument);p!=null&&x.push(new ki(m.key,p,vE(p.value.mapValue),wn.exists(!0)))}return c.mutationQueue.addMutationBatch(f,o,x,a)}).next(b=>{h=b;const x=b.applyToLocalDocumentSet(d,w);return c.documentOverlayCache.saveOverlays(f,b.batchId,x)})}).then(()=>({batchId:h.batchId,changes:TE(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let o=s.Da[s.currentUser.toKey()];o||(o=new Fe(we)),o=o.insert(a,c),s.Da[s.currentUser.toKey()]=o}(r,i.batchId,n),await ec(r,i.changes),await Mh(r.remoteStore)}catch(i){const s=Tv(i,"Failed to persist write");n.reject(s)}}async function dN(t,e){const n=re(t);try{const r=await m6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Sa.get(s);a&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.ma=!0:i.modifiedDocuments.size>0?Ne(a.ma):i.removedDocuments.size>0&&(Ne(a.ma),a.ma=!1))}),await ec(n,r,e)}catch(r){await Kl(r)}}function m1(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,a)=>{const c=a.view.U_(e);c.snapshot&&i.push(c.snapshot)}),function(s,a){const c=re(s);c.onlineState=a;let o=!1;c.queries.forEach((u,d)=>{for(const h of d.Q_)h.U_(a)&&(o=!0)}),o&&Iv(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function X6(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let a=new Fe(B.comparator);a=a.insert(s,Tt.newNoDocument(s,te.min()));const c=le().add(s),o=new Ph(te.min(),new Map,new Fe(we),a,c);await dN(r,o),r.wa=r.wa.remove(s),r.Sa.delete(e),Rv(r)}else await Qm(r.localStore,e,!1).then(()=>Ym(r,e,n)).catch(Kl)}async function Z6(t,e){const n=re(t),r=e.batch.batchId;try{const i=await p6(n.localStore,e);fN(n,r,null),hN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ec(n,i)}catch(i){await Kl(i)}}async function eF(t,e,n){const r=re(t);try{const i=await function(s,a){const c=re(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",o=>{let u;return c.mutationQueue.lookupMutationBatch(o,a).next(d=>(Ne(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(o,d))).next(()=>c.mutationQueue.performConsistencyCheck(o)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(o,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,u)).next(()=>c.localDocuments.getDocuments(o,u))})}(r.localStore,e);fN(r,e,n),hN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ec(r,i)}catch(i){await Kl(i)}}function hN(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function fN(t,e,n){const r=re(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Ym(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||pN(t,r)})}function pN(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(eN(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Rv(t))}function g1(t,e,n){for(const r of n)r instanceof cN?(t.ba.addReference(r.key,e),tF(t,r)):r instanceof uN?(P("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||pN(t,r.key)):ee()}function tF(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(P("SyncEngine","New document in limbo: "+n),t.ya.add(r),Rv(t))}function Rv(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new B(Oe.fromString(e)),r=t.va.next();t.Sa.set(r,new W6(n)),t.wa=t.wa.insert(n,r),ZE(t.remoteStore,new Qr(nr(bv(n.path)),r,"TargetPurposeLimboResolution",dv._e))}}async function ec(t,e,n){const r=re(t),i=[],s=[],a=[];r.ga.isEmpty()||(r.ga.forEach((c,o)=>{a.push(r.Ma(o,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=kv.Ki(o.targetId,u);s.push(d)}}))}),await Promise.all(a),r.fa.u_(i),await async function(c,o){const u=re(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(o,h=>I.forEach(h.qi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>I.forEach(h.Qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ql(d))throw d;P("LocalStore","Failed to update sequence numbers: "+d)}for(const d of o){const h=d.targetId;if(!d.fromCache){const f=u.ns.get(h),g=f.snapshotVersion,w=f.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(h,w)}}}(r.localStore,s))}async function nF(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const r=await QE(n.localStore,e);n.currentUser=e,function(i,s){i.Ca.forEach(a=>{a.forEach(c=>{c.reject(new F(j.CANCELLED,s))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ec(n,r.us)}}function rF(t,e){const n=re(t),r=n.Sa.get(e);if(r&&r.ma)return le().add(r.key);{let i=le();const s=n.pa.get(e);if(!s)return i;for(const a of s){const c=n.ga.get(a);i=i.unionWith(c.view.la)}return i}}function iF(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X6.bind(null,e),e.fa.u_=z6.bind(null,e.eventManager),e.fa.xa=B6.bind(null,e.eventManager),e}function sF(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eF.bind(null,e),e}class b1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return f6(this.persistence,new d6,e.initialUser,this.serializer)}createPersistence(e){return new l6(Sv.Hr,this.serializer)}createSharedClientState(e){return new w6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class aF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nF.bind(null,this.syncEngine),await U6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V6}()}createDatastore(e){const n=Dh(e.databaseInfo.databaseId),r=function(i){return new k6(i)}(e.databaseInfo);return function(i,s,a,c){return new N6(i,s,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(n,r,i,s,a){return new T6(n,r,i,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>m1(this.syncEngine,n,0),function(){return h1.D()?new h1:new x6}())}createSyncEngine(e,n){return function(r,i,s,a,c,o,u){const d=new G6(r,i,s,a,c,o);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(n){const r=re(n);P("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await Zl(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=mE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{P("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(P("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cp(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cF(t);P("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>f1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>f1(e.remoteStore,i)),t._onlineComponents=e}function lF(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function cF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){P("FirestoreClient","Using user provided OfflineComponentProvider");try{await cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!lF(n))throw n;ma("Error using user provided cache. Falling back to memory cache: "+n),await cp(t,new b1)}}else P("FirestoreClient","Using default OfflineComponentProvider"),await cp(t,new b1);return t._offlineComponents}async function gN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(P("FirestoreClient","Using user provided OnlineComponentProvider"),await v1(t,t._uninitializedComponentsProvider._online)):(P("FirestoreClient","Using default OnlineComponentProvider"),await v1(t,new aF))),t._onlineComponents}function uF(t){return gN(t).then(e=>e.syncEngine)}async function bN(t){const e=await gN(t),n=e.eventManager;return n.onListen=K6.bind(null,e.syncEngine),n.onUnlisten=Y6.bind(null,e.syncEngine),n}function dF(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,c,o){const u=new mN({next:h=>{s.enqueueAndForget(()=>oN(i,d));const f=h.docs.has(a);!f&&h.fromCache?o.reject(new F(j.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?o.reject(new F(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(h)},error:h=>o.reject(h)}),d=new lN(bv(a.path),u,{includeMetadataChanges:!0,Z_:!0});return aN(i,d)}(await bN(t),t.asyncQueue,e,n,r)),r.promise}function hF(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,c,o){const u=new mN({next:h=>{s.enqueueAndForget(()=>oN(i,d)),h.fromCache&&c.source==="server"?o.reject(new F(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(h)},error:h=>o.reject(h)}),d=new lN(a,u,{includeMetadataChanges:!0,Z_:!0});return aN(i,d)}(await bN(t),t.asyncQueue,e,n,r)),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y1=new Map;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yN(t,e,n){if(!n)throw new F(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fF(t,e,n,r){if(e===!0&&r===!0)throw new F(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w1(t){if(!B.isDocumentKey(t))throw new F(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x1(t){if(B.isDocumentKey(t))throw new F(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(t);throw new F(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _1(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new OM;switch(n.type){case"firstParty":return new LM(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new F(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=y1.get(e);n&&(P("ComponentProvider","Removing Datastore"),y1.delete(e),n.terminate())}(this),Promise.resolve()}}function pF(t,e,n,r={}){var i;const s=(t=$n(t,Uh))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,o;if(typeof r.mockUserToken=="string")c=r.mockUserToken,o=Nt.MOCK_USER;else{c=ck(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new F(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new Nt(u)}t._authCredentials=new AM(new pE(c,o))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fa(this.firestore,e,this._query)}}class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class oi extends Fa{constructor(e,n,r){super(e,n,bv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new B(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function Ua(t,e,...n){if(t=Ve(t),yN("collection","path",e),t instanceof Uh){const r=Oe.fromString(e,...n);return x1(r),new oi(t,null,r)}{if(!(t instanceof $t||t instanceof oi))throw new F(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return x1(r),new oi(t.firestore,null,r)}}function tc(t,e,...n){if(t=Ve(t),arguments.length===1&&(e=mE.newId()),yN("doc","path",e),t instanceof Uh){const r=Oe.fromString(e,...n);return w1(r),new $t(t,null,new B(r))}{if(!(t instanceof $t||t instanceof oi))throw new F(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return w1(r),new $t(t.firestore,t instanceof oi?t.converter:null,new B(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mF{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new JE(this,"async_queue_retry"),this._u=()=>{const n=lp();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=lp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new tr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Ql(e))throw e;P("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw sr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=jv.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&ee()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class ws extends Uh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new mF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wN(this),this._firestoreClient.terminate()}}function gF(t,e){const n=typeof t=="object"?t:kb(),r=typeof t=="string"?t:e||"(default)",i=ah(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ak("firestore");s&&pF(i,...s)}return i}function Ov(t){return t._firestoreClient||wN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wN(t){var e,n,r;const i=t._freezeSettings(),s=function(a,c,o,u){return new YM(a,c,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,vN(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new oF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xa(Pt.fromBase64String(e))}catch(n){throw new F(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xa(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Av{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bF=/^__.*__$/;class vF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}class xN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ki(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _N(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Dv{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Ed(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(_N(this.du)&&bF.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class yF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dh(e)}Su(e,n,r,i=!1){return new Dv({du:e,methodName:n,wu:r,path:vt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vh(t){const e=t._freezeSettings(),n=Dh(t._databaseId);return new yF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SN(t,e,n,r,i,s={}){const a=t.Su(s.merge||s.mergeFields?2:0,e,n,i);Lv("Data must be an object, but it was:",a,r);const c=kN(r,a);let o,u;if(s.merge)o=new sn(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Jm(e,h,n);if(!a.contains(f))throw new F(j.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);EN(d,f)||d.push(f)}o=new sn(d),u=a.fieldTransforms.filter(h=>o.covers(h.field))}else o=null,u=a.fieldTransforms;return new vF(new Gt(c),o,u)}class zh extends Av{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function wF(t,e,n,r){const i=t.Su(1,e,n);Lv("Data must be an object, but it was:",i,r);const s=[],a=Gt.empty();vs(r,(o,u)=>{const d=Mv(e,o,n);u=Ve(u);const h=i.fu(d);if(u instanceof zh)s.push(d);else{const f=nc(u,h);f!=null&&(s.push(d),a.set(d,f))}});const c=new sn(s);return new xN(a,c,i.fieldTransforms)}function xF(t,e,n,r,i,s){const a=t.Su(1,e,n),c=[Jm(e,r,n)],o=[i];if(s.length%2!=0)throw new F(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)c.push(Jm(e,s[f])),o.push(s[f+1]);const u=[],d=Gt.empty();for(let f=c.length-1;f>=0;--f)if(!EN(u,c[f])){const g=c[f];let w=o[f];w=Ve(w);const b=a.fu(g);if(w instanceof zh)u.push(g);else{const x=nc(w,b);x!=null&&(u.push(g),d.set(g,x))}}const h=new sn(u);return new xN(d,h,a.fieldTransforms)}function _F(t,e,n,r=!1){return nc(n,t.Su(r?4:3,e))}function nc(t,e){if(CN(t=Ve(t)))return Lv("Unsupported field value:",e,t),kN(t,e);if(t instanceof Av)return function(n,r){if(!_N(r.du))throw r.pu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const a of n){let c=nc(a,r.gu(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ve(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return b5(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=be.fromDate(n);return{timestampValue:kd(r.serializer,i)}}if(n instanceof be){const i=new be(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:kd(r.serializer,i)}}if(n instanceof Pv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof xa)return{bytesValue:zE(r.serializer,n._byteString)};if(n instanceof $t){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.pu(`Unsupported field value: ${Fh(n)}`)}(t,e)}function kN(t,e){const n={};return gE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(t,(r,i)=>{const s=nc(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof be||t instanceof Pv||t instanceof xa||t instanceof $t||t instanceof Av)}function Lv(t,e,n){if(!CN(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Fh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Jm(t,e,n){if((e=Ve(e))instanceof $h)return e._internalPath;if(typeof e=="string")return Mv(t,e);throw Ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const SF=new RegExp("[~\\*/\\[\\]]");function Mv(t,e,n){if(e.search(SF)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ed(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let o="";return(s||a)&&(o+=" (found",s&&(o+=` in field ${r}`),a&&(o+=` in document ${i}`),o+=")"),new F(j.INVALID_ARGUMENT,c+t+o)}function EN(t,e){return t.some(n=>n.isEqual(e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kF extends NN{data(){return super.data()}}function Fv(t,e){return typeof e=="string"?Mv(t,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uv{}class EF extends Uv{}function jN(t,e,...n){let r=[];e instanceof Uv&&r.push(e),r=r.concat(n),function(i){const s=i.filter(c=>c instanceof $v).length,a=i.filter(c=>c instanceof Bh).length;if(s>1||s>0&&a>0)throw new F(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Bh extends EF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bh(e,n,r)}_apply(e){const n=this._parse(e);return IN(e._query,n),new Fa(e.firestore,e.converter,Bm(e._query,n))}_parse(e){const n=Vh(e.firestore);return function(r,i,s,a,c,o,u){let d;if(c.isKeyField()){if(o==="array-contains"||o==="array-contains-any")throw new F(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if(o==="in"||o==="not-in"){k1(u,o);const h=[];for(const f of u)h.push(S1(a,r,f));d={arrayValue:{values:h}}}else d=S1(a,r,u)}else o!=="in"&&o!=="not-in"&&o!=="array-contains-any"||k1(u,o),d=_F(s,i,u,o==="in"||o==="not-in");return Ye.create(c,o,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function TN(t,e,n){const r=e,i=Fv("where",t);return Bh._create(i,r,n)}class $v extends Uv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $v(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Un.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const a=i.getFlattenedFilters();for(const c of a)IN(s,c),s=Bm(s,c)}(e._query,n),new Fa(e.firestore,e.converter,Bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function S1(t,e,n){if(typeof(n=Ve(n))=="string"){if(n==="")throw new F(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CE(e)&&n.indexOf("/")!==-1)throw new F(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!B.isDocumentKey(r))throw new F(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gw(t,new B(r))}if(n instanceof $t)return Gw(t,n._key);throw new F(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function k1(t,e){if(!Array.isArray(t)||t.length===0)throw new F(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IN(t,e){const n=function(r,i){for(const s of r)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NF{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Pv(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const n=gi(e);return new be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);Ne(KE(r));const i=new vl(r.get(1),r.get(3)),s=new B(r.popFirst(5));return i.isEqual(n)||sr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function RN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ON extends NN{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mu extends ON{data(e={}){return super.data(e)}}class jF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mu(this._firestore,this._userDataWriter,r.key,r,new go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{const c=new mu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new go(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new mu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new go(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let o=-1,u=-1;return a.type!==0&&(o=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:TF(a.type),doc:c,oldIndex:o,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function IF(t){t=$n(t,$t);const e=$n(t.firestore,ws);return dF(Ov(e),t._key).then(n=>PF(e,t,n))}class AN extends NF{constructor(e){super(),this.firestore=e}convertBytes(e){return new xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function Hh(t){t=$n(t,Fa);const e=$n(t.firestore,ws),n=Ov(e),r=new AN(e);return CF(t._query),hF(n,t._query).then(i=>new jF(e,r,t,i))}function RF(t,e,n){t=$n(t,$t);const r=$n(t.firestore,ws),i=RN(t.converter,e,n);return qh(r,[SN(Vh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wn.none())])}function OF(t,e,n,...r){t=$n(t,$t);const i=$n(t.firestore,ws),s=Vh(i);let a;return a=typeof(e=Ve(e))=="string"||e instanceof $h?xF(s,"updateDoc",t._key,e,n,r):wF(s,"updateDoc",t._key,e),qh(i,[a.toMutation(t._key,wn.exists(!0))])}function AF(t){return qh($n(t.firestore,ws),[new vv(t._key,wn.none())])}function PN(t,e){const n=$n(t.firestore,ws),r=tc(t),i=RN(t.converter,e);return qh(n,[SN(Vh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then(()=>r)}function qh(t,e){return function(n,r){const i=new tr;return n.asyncQueue.enqueueAndForget(async()=>J6(await uF(n),r,i)),i.promise}(Ov(t),e)}function PF(t,e,n){const r=n.docs.get(e._key),i=new AN(t);return new ON(t,i,e._key,r,new go(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Da=n})(gs),ns(new pi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),a=new ws(new PM(n.getProvider("auth-internal")),new FM(n.getProvider("app-check-internal")),function(c,o){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new F(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(c.options.projectId,o)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xn(zw,"4.4.2",t),Xn(zw,"4.4.2","esm2017")})();const DF={apiKey:"AIzaSyCYLJeEfFs7lQUJbczLFP87sLr7oDGK73Y",authDomain:"acguatuso-sys.firebaseapp.com",projectId:"acguatuso-sys",storageBucket:"acguatuso-sys.appspot.com",messagingSenderId:"148217571881",appId:"1:148217571881:web:5b959afe3352b16dae0a38"},Vv=fk(DF),or=gF(Vv),zv=cL(Vv),rc=x3(Vv),LF={notification:null,emailVerified:!1,loggedIn:!1,user:null,error:null},DN=ps({name:"auth",initialState:LF,reducers:{loginSuccess:(t,e)=>{t.loggedIn=!0,t.user=e.payload,t.emailVerified=!0,t.error=null},loginFailure:(t,e)=>{t.loggedIn=!1,t.user=null,t.error=e.payload},signupSuccess:(t,e)=>{t.notification=e.payload.msg,t.emailVerified=e.payload.emailVerified,t.error=null},signupFailure:(t,e)=>{t.error=e.payload},logOut:t=>{t.loggedIn=!1,t.user=null},editInfo:(t,e)=>{t.user=e.payload}}}),{loginSuccess:MF,loginFailure:C1,signupSuccess:FF,signupFailure:Xm,logOut:UF,editInfo:$F}=DN.actions,VF=DN.reducer,zF=(t,e)=>async n=>{try{if(!(await K4(zv,t,e)).user.emailVerified)throw new Error("Por favor, verifica tu dirección de correo electrónico antes de iniciar sesión.");const r=await LN(t);r!==null&&(r.user_type==0?n(C1("No tienes permiso para iniciar sesión.")):(console.log(r.user_type),n(MF(r))))}catch(r){const i=r.message.replace("Firebase: ","");n(C1(i))}},LN=async t=>{const e=Ua(or,"Usuarios");try{const n=jN(e,TN("correo","==",t)),r=(await Hh(n)).docs[0];if(r){const i=r.data(),s=i.fechaNacimiento instanceof be?i.fechaNacimiento.toDate().toDateString():i.fechaNacimiento.toString();return{nombre:i.nombre,correo:i.correo,cedula:i.cedula,telefono:i.telefono,provincia:i.provincia,canton:i.canton,distrito:i.distrito,direccion:i.direccion,fechaNacimiento:s,genero:i.genero,user_type:i.user_type,estado:i.estado}}else return console.log("No se encontró el documento del usuario"),null}catch(n){return console.error("Error al obtener el documento del usuario: ",n),null}},BF=t=>async e=>{try{const n=await G4(zv,t.correo,t.password);await HF(t),await Q4(n.user),e(FF({msg:"Cuenta creada con éxito!",emailVerified:n.user.emailVerified}))}catch(n){n.message==="Firebase: Error (auth/email-already-in-use)."?e(Xm("El correo electrónico ya se encuentra en uso, inténte con otro porfavor.")):e(Xm("El correo electrónico está en un formato no permitido, revíselo porfavor."))}},HF=async t=>{const e={nombre:t.nombre,correo:t.correo,cedula:t.cedula,telefono:t.telefono,provincia:t.provincia,canton:t.canton,distrito:t.distrito,direccion:t.direccion,fechaNacimiento:be.fromDate(new Date(t.fechaNacimiento)),genero:t.genero,user_type:0,estado:0},n=Ua(or,"Usuarios");try{await PN(n,e)}catch{}},qF=(t,e,n)=>async r=>{const i=Ua(or,"Usuarios");try{const s=jN(i,TN("correo","==",e)),a=await Hh(s);if(!a.empty){const c=a.docs[0],o=tc(or,"Usuarios",c.id);await RF(o,t);const u=await LN(e);n||r($F(u))}}catch{}},WF=async t=>{try{await W4(zv,t),alert("Se ha enviado un correo electrónico para restablecer tu contraseña.")}catch{}},GF={dataEmpresa:null},MN=ps({name:"empresa",initialState:GF,reducers:{setEmpresaData(t,e){t.dataEmpresa=e.payload}}}),KF=()=>async t=>{try{const e=await Ua(or,"Empresa"),n=(await Hh(e)).docs[0].data();if(n){const r={correo:n.correo,facebookUrl:n.redes[0].red_url,titulo_footer:n.titulo_principal,subtitulo_footer:n.subtitulo_principal,direccionCorta:n.direccion_corta,telefonos:[n.telefonos[0],n.telefonos[1]],horarios:[n.horarios[0],n.horarios[1],n.horarios[2],n.horarios[3],n.horarios[4],n.horarios[5],n.horarios[6]]};t(FN(r))}}catch(e){console.error("Error al obtener los datos de la empresa:",e)}},QF=t=>t.empresa.dataEmpresa,{setEmpresaData:FN}=MN.actions,YF=MN.reducer,Wh=async t=>{try{const e=tc(or,t);return(await IF(e)).data()}catch(e){console.log(e)}},xs=async t=>(await Hh(Ua(or,t))).docs.map(e=>({...e.data(),id:e.id})),gu=fs("about/fetchMainSection",async()=>{const t=await Wh("/Empresa/ZktZQqsBnqVVoL4dfRHv");return{image_principal_url:t.image_principal_url,subtitulo_principal:t.subtitulo_principal,titulo_principal:t.titulo_principal,download_url_principal:t.download_url_principal}}),bu=fs("about/fetchSections",async()=>await xs("/Empresa/ZktZQqsBnqVVoL4dfRHv/secciones")),JF={head:{image_principal_url:"",subtitulo_principal:"",titulo_principal:"",download_url_principal:""},sections:[],loading:!1,error:void 0},UN=ps({name:"about",initialState:JF,reducers:{mainSection(t,e){t.head=e.payload},adsSections(t,e){t.sections=e.payload},addSection(t,e){t.sections=[...t.sections,e.payload]},editSection(t,e){const n=t.sections.map(r=>r.id==e.payload.id?e.payload:r);t.sections=n},deleteSection(t,e){const n=t.sections.filter(r=>r.id!=e.payload.id);t.sections=n}},extraReducers:t=>{t.addCase(gu.pending,e=>{e.loading=!0}),t.addCase(gu.fulfilled,(e,n)=>{e.loading=!1,e.head=n.payload}),t.addCase(gu.rejected,(e,n)=>{e.loading=!1,e.head={},e.error=n.error.message}),t.addCase(bu.pending,e=>{e.loading=!0}),t.addCase(bu.fulfilled,(e,n)=>{e.loading=!1,e.sections=n.payload}),t.addCase(bu.rejected,(e,n)=>{e.loading=!1,e.sections=[],e.error=n.error.message})}}),$N=t=>t.about,{mainSection:XF,adsSections:dz,addSection:ZF,editSection:e9,deleteSection:t9}=UN.actions,n9=UN.reducer,r9={datosPais:null,loading:!1,error:null},Nd=ps({name:"paisInfo",initialState:r9,reducers:{fetchDataStart(t){t.loading=!0,t.error=null},fetchDataSuccess(t,e){t.loading=!1,t.datosPais=e.payload},fetchDataFailure(t,e){t.loading=!1,t.error=e.payload}}});Nd.actions;const i9=Nd.reducer,s9=async()=>{const t=await(await fetch("https://gist.githubusercontent.com/josuenoel/80daca657b71bc1cfd95a4e27d547abe/raw")).json();localStorage.setItem("data-paises",JSON.stringify(t))},a9=()=>JSON.parse(localStorage.getItem("data-paises")),VN=()=>async t=>{try{await s9();const e=await a9(),n={};Object.values(e.provincias).forEach(r=>{const i={};Object.values(r.cantones).forEach(s=>{i[s.nombre]=s}),n[r.nombre]={...r,cantones:i}}),t(Nd.actions.fetchDataSuccess(n))}catch(e){console.error("Ocurrió un error al obtener el JSON:",e),t(Nd.actions.fetchDataFailure(e.message||"Ha ocurrido un error"))}};function Zm(t){return Object.keys(t)}function vu(t,e){if(!e||!e[t]||!e[t].cantones)return[];const n=e[t];return Object.keys(n.cantones)}function yu(t){return Object.values(t)}const o9={loading:!1,cursos:[],numSolicitantes:{},error:void 0},ir=fs("users/fetchCursos",async()=>{const t=await xs("Cursos"),e={};return t.forEach(n=>{n.id&&(e[n.id]=n.postulados.length)}),{cursos:t.filter(n=>n.fechaCreacion!==void 0).sort((n,r)=>r.fechaCreacion.toMillis()-n.fechaCreacion.toMillis()),numSolicitantes:e}});function zN(t){switch(t){case 0:return"Presencial";case 1:return"Virtual";case 2:return"Mixta";default:return"No Definida"}}const BN=ps({name:"cursos",initialState:o9,extraReducers:t=>{t.addCase(ir.pending,e=>{e.loading=!0}),t.addCase(ir.fulfilled,(e,n)=>{e.loading=!1,e.cursos=n.payload.cursos,e.numSolicitantes=n.payload.numSolicitantes}),t.addCase(ir.rejected,(e,n)=>{e.loading=!1,e.cursos=[],e.error=n.error.message})},reducers:{addCurso:(t,e)=>{t.cursos.unshift(e.payload),t.numSolicitantes[e.payload.id]=0},editCurso(t,e){const n=t.cursos.map(r=>r.id===e.payload.id?{...e.payload,fechaCreacion:r.fechaCreacion}:r);t.cursos=n},deleteCurso(t,e){const n=t.cursos.filter(r=>(console.log(r.id,e.payload.id,"deletecurso"),r.id!=e.payload.id));t.cursos=n},changeCursoEstado:(t,e)=>{const n=e.payload,r=t.cursos.find(i=>i.id===n);r&&(r.estado=r.estado===0?1:0)},changeCursoVisible:(t,e)=>{const{cursoId:n,visible:r}=e.payload,i=t.cursos.find(s=>s.id===n);i&&(i.visible=r)}}}),{addCurso:l9,deleteCurso:c9,editCurso:u9,changeCursoEstado:d9,changeCursoVisible:E1}=BN.actions,h9=t=>t.cursos,f9=BN.reducer,wu=fs("ads/fetchMainAds",async()=>await Wh("/Avisos/1x9cYIlY1FaQcw9jZhf6")),xu=fs("ads/fetchAds",async()=>await xs("/Avisos/1x9cYIlY1FaQcw9jZhf6/Anuncios")),p9={loading:!1,error:void 0,adsList:[],main:{estado:1,titulo:"",subtitulo:"",image_url:"",download_url:""}},HN=ps({name:"ads",initialState:p9,reducers:{mainAds(t,e){t.main=e.payload},ads(t,e){t.adsList=e.payload},addAds(t,e){t.adsList=[...t.adsList,e.payload]},editAds(t,e){const n=t.adsList.map(r=>r.id==e.payload.id?e.payload:r);t.adsList=n},deleteAds(t,e){const n=t.adsList.filter(r=>r.id!=e.payload.id);t.adsList=n}},extraReducers:t=>{t.addCase(wu.pending,e=>{e.loading=!0}),t.addCase(wu.fulfilled,(e,n)=>{e.loading=!1,e.main=n.payload}),t.addCase(wu.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message}),t.addCase(xu.pending,e=>{e.loading=!0}),t.addCase(xu.fulfilled,(e,n)=>{e.loading=!1,e.adsList=n.payload}),t.addCase(xu.rejected,(e,n)=>{e.loading=!1,e.adsList=[],e.error=n.error.message})}}),qN=t=>t.avisos,{mainAds:m9,addAds:g9,deleteAds:b9,editAds:v9}=HN.actions,y9=HN.reducer,_u=fs("Service/fetchMainService",async()=>await Wh("/Servicios/xsc94XcgZ4Agn9IisLop")),Su=fs("Service/fetchService",async()=>await xs("/Servicios/xsc94XcgZ4Agn9IisLop/Lista_servicios")),w9={loading:!1,error:void 0,ServiceList:[],main:{estado:1,titulo:"",subtitulo:"",image_url:"",download_url:""}},WN=ps({name:"Service",initialState:w9,reducers:{mainService(t,e){t.main=e.payload},Service(t,e){t.ServiceList=e.payload},addService(t,e){t.ServiceList=[...t.ServiceList,e.payload]},editService(t,e){const n=t.ServiceList.map(r=>r.id==e.payload.id?e.payload:r);t.ServiceList=n},deleteService(t,e){const n=t.ServiceList.filter(r=>r.id!=e.payload.id);t.ServiceList=n}},extraReducers:t=>{t.addCase(_u.pending,e=>{e.loading=!0}),t.addCase(_u.fulfilled,(e,n)=>{e.loading=!1,e.main=n.payload}),t.addCase(_u.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message}),t.addCase(Su.pending,e=>{e.loading=!0}),t.addCase(Su.fulfilled,(e,n)=>{e.loading=!1,e.ServiceList=n.payload}),t.addCase(Su.rejected,(e,n)=>{e.loading=!1,e.ServiceList=[],e.error=n.error.message})}}),GN=t=>t.servicios,{mainService:x9,addService:_9,deleteService:S9,editService:k9}=WN.actions,C9=WN.reducer,_s={key:"root",storage:tk},E9=ms(_s,VF),N9=ms(_s,YF),j9=ms(_s,n9),T9=ms(_s,i9),I9=ms(_s,f9),R9=ms(_s,y9),O9=ms(_s,C9),KN=gO({reducer:{auth:E9,empresa:N9,about:j9,paisInfo:T9,cursos:I9,avisos:R9,servicios:O9},middleware:t=>t({serializableCheck:{ignoredActions:[mb,ih,gb,bb,vb,yb]}})}),A9=sA(KN);/**
* @remix-run/router v1.15.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}var Yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yr||(Yr={}));const N1="popstate";function P9(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:c}=r.location;return eg("",{pathname:s,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jd(i)}return L9(e,n,null,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D9(){return Math.random().toString(36).substr(2,8)}function j1(t,e){return{usr:t.state,key:t.key,idx:e}}function eg(t,e,n,r){return n===void 0&&(n=null),_l({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$a(e):e,{state:n,key:e&&e.key||r||D9()})}function jd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function L9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,c=Yr.Pop,o=null,u=d();u==null&&(u=0,a.replaceState(_l({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){c=Yr.Pop;let x=d(),m=x==null?null:x-u;u=x,o&&o({action:c,location:b.location,delta:m})}function f(x,m){c=Yr.Push;let p=eg(b.location,x,m);n&&n(p,x),u=d()+1;let v=j1(p,u),_=b.createHref(p);try{a.pushState(v,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(_)}s&&o&&o({action:c,location:b.location,delta:1})}function g(x,m){c=Yr.Replace;let p=eg(b.location,x,m);n&&n(p,x),u=d();let v=j1(p,u),_=b.createHref(p);a.replaceState(v,"",_),s&&o&&o({action:c,location:b.location,delta:0})}function w(x){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof x=="string"?x:jd(x);return $e(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let b={get action(){return c},get location(){return t(i,a)},listen(x){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(N1,h),o=x,()=>{i.removeEventListener(N1,h),o=null}},createHref(x){return e(i,x)},createURL:w,encodeLocation(x){let m=w(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(x){return a.go(x)}};return b}var T1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T1||(T1={}));function M9(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?$a(e):e,i=_a(r.pathname||"/",n);if(i==null)return null;let s=QN(t);F9(s);let a=null;for(let c=0;a==null&&c<s.length;++c)a=G9(s[c],Q9(i));return a}function QN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,c)=>{let o={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};o.relativePath.startsWith("/")&&($e(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let u=li([r,o.relativePath]),d=n.concat(o);s.children&&s.children.length>0&&($e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QN(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:q9(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,a);else for(let o of YN(s.path))i(s,a,o)}),e}function YN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=YN(r.join("/")),c=[];return c.push(...a.map(o=>o===""?s:[s,o].join("/"))),i&&c.push(...a),c.map(o=>t.startsWith("/")&&o===""?"/":o)}function F9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U9=/^:[\w-]+$/,$9=3,V9=2,z9=1,B9=10,H9=-2,I1=t=>t==="*";function q9(t,e){let n=t.split("/"),r=n.length;return n.some(I1)&&(r+=H9),e&&(r+=V9),n.filter(i=>!I1(i)).reduce((i,s)=>i+(U9.test(s)?$9:s===""?z9:B9),r)}function W9(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function G9(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let c=n[a],o=a===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=tg({path:c.relativePath,caseSensitive:c.caseSensitive,end:o},u);if(!d)return null;Object.assign(r,d.params);let h=c.route;s.push({params:r,pathname:li([i,d.pathname]),pathnameBase:eU(li([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=li([i,d.pathnameBase]))}return s}function tg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=K9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((o,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let w=c[d]||"";a=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const g=c[d];return f&&!g?o[h]=void 0:o[h]=Y9(g||"",h),o},{}),pathname:s,pathnameBase:a,pattern:t}}function K9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Q9(t){try{return decodeURI(t)}catch(e){return Bv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Y9(t,e){try{return decodeURIComponent(t)}catch(n){return Bv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function _a(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function J9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$a(t):t;return{pathname:n?n.startsWith("/")?n:X9(n,e):e,search:tU(r),hash:nU(i)}}function X9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function up(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JN(t,e){let n=Z9(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function XN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$a(t):(i=_l({},t),$e(!i.pathname||!i.pathname.includes("?"),up("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),up("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),up("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,c;if(a==null)c=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}c=h>=0?e[h]:"/"}let o=J9(i,c),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||d)&&(o.pathname+="/"),o}const li=t=>t.join("/").replace(/\/\/+/g,"/"),eU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZN=["post","put","patch","delete"];new Set(ZN);const iU=["get",...ZN];new Set(iU);/**
* React Router v6.22.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(this,arguments)}const Gh=y.createContext(null),ej=y.createContext(null),Ci=y.createContext(null),Kh=y.createContext(null),Ss=y.createContext({outlet:null,matches:[],isDataRoute:!1}),tj=y.createContext(null);function sU(t,e){let{relative:n}=e===void 0?{}:e;ic()||$e(!1);let{basename:r,navigator:i}=y.useContext(Ci),{hash:s,pathname:a,search:c}=Qh(t,{relative:n}),o=a;return r!=="/"&&(o=a==="/"?r:li([r,a])),i.createHref({pathname:o,search:c,hash:s})}function ic(){return y.useContext(Kh)!=null}function sc(){return ic()||$e(!1),y.useContext(Kh).location}function nj(t){y.useContext(Ci).static||y.useLayoutEffect(t)}function fn(){let{isDataRoute:t}=y.useContext(Ss);return t?vU():aU()}function aU(){ic()||$e(!1);let t=y.useContext(Gh),{basename:e,future:n,navigator:r}=y.useContext(Ci),{matches:i}=y.useContext(Ss),{pathname:s}=sc(),a=JSON.stringify(JN(i,n.v7_relativeSplatPath)),c=y.useRef(!1);return nj(()=>{c.current=!0}),y.useCallback(function(o,u){if(u===void 0&&(u={}),!c.current)return;if(typeof o=="number"){r.go(o);return}let d=XN(o,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:li([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,a,s,t])}function Qh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Ci),{matches:i}=y.useContext(Ss),{pathname:s}=sc(),a=JSON.stringify(JN(i,r.v7_relativeSplatPath));return y.useMemo(()=>XN(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function oU(t,e){return lU(t,e)}function lU(t,e,n,r){ic()||$e(!1);let{navigator:i}=y.useContext(Ci),{matches:s}=y.useContext(Ss),a=s[s.length-1],c=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let u=sc(),d;if(e){var h;let x=typeof e=="string"?$a(e):e;o==="/"||(h=x.pathname)!=null&&h.startsWith(o)||$e(!1),d=x}else d=u;let f=d.pathname||"/",g=o==="/"?f:f.slice(o.length)||"/",w=M9(t,{pathname:g}),b=fU(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:li([o,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?o:li([o,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&b?y.createElement(Kh.Provider,{value:{location:Sl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yr.Pop}},b):b}function cU(){let t=bU(),e=rU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:r},n):null,null)}const uU=y.createElement(cU,null);class dU extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Ss.Provider,{value:this.props.routeContext},y.createElement(tj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hU(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(Gh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Ss.Provider,{value:e},r)}function fU(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let d=a.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id]));d>=0||$e(!1),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let g,w=!1,b=null,x=null;n&&(g=c&&h.route.id?c[h.route.id]:void 0,b=h.route.errorElement||uU,o&&(u<0&&f===0?(yU("route-fallback",!1),w=!0,x=null):u===f&&(w=!0,x=h.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),p=()=>{let v;return g?v=b:w?v=x:h.route.Component?v=y.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,y.createElement(hU,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(dU,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var rj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rj||{}),Td=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Td||{});function pU(t){let e=y.useContext(Gh);return e||$e(!1),e}function mU(t){let e=y.useContext(ej);return e||$e(!1),e}function gU(t){let e=y.useContext(Ss);return e||$e(!1),e}function ij(t){let e=gU(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function bU(){var t;let e=y.useContext(tj),n=mU(Td.UseRouteError),r=ij(Td.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vU(){let{router:t}=pU(rj.UseNavigateStable),e=ij(Td.UseNavigateStable),n=y.useRef(!1);return nj(()=>{n.current=!0}),y.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Sl({fromRouteId:e},i)))},[t,e])}const R1={};function yU(t,e,n){!e&&!R1[t]&&(R1[t]=!0)}function qt(t){$e(!1)}function wU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yr.Pop,navigator:s,static:a=!1,future:c}=t;ic()&&$e(!1);let o=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:o,navigator:s,static:a,future:Sl({v7_relativeSplatPath:!1},c)}),[o,c,s,a]);typeof r=="string"&&(r=$a(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:w="default"}=r,b=y.useMemo(()=>{let x=_a(d,o);return x==null?null:{location:{pathname:x,search:h,hash:f,state:g,key:w},navigationType:i}},[o,d,h,f,g,w,i]);return b==null?null:y.createElement(Ci.Provider,{value:u},y.createElement(Kh.Provider,{children:n,value:b}))}function xU(t){let{children:e,location:n}=t;return oU(ng(e),n)}new Promise(()=>{});function ng(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let s=[...e,i];if(r.type===y.Fragment){n.push.apply(n,ng(r.props.children,s));return}r.type!==qt&&$e(!1),!r.props.index||!r.props.children||$e(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ng(r.props.children,s)),n.push(a)}),n}/**
* React Router DOM v6.22.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Id.apply(this,arguments)}function sj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _U(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SU(t,e){return t.button===0&&(!e||e==="_self")&&!_U(t)}const kU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],CU=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],EU="6";try{window.__reactRouterVersion=EU}catch{}const NU=y.createContext({isTransitioning:!1}),jU="startTransition",O1=vp[jU];function TU(t){let{basename:e,children:n,future:r,window:i}=t,s=y.useRef();s.current==null&&(s.current=P9({window:i,v5Compat:!0}));let a=s.current,[c,o]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&O1?O1(()=>o(h)):o(h)},[o,u]);return y.useLayoutEffect(()=>a.listen(d),[a,d]),y.createElement(wU,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const IU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sa=y.forwardRef(function(t,e){let{onClick:n,relative:r,reloadDocument:i,replace:s,state:a,target:c,to:o,preventScrollReset:u,unstable_viewTransition:d}=t,h=sj(t,kU),{basename:f}=y.useContext(Ci),g,w=!1;if(typeof o=="string"&&RU.test(o)&&(g=o,IU))try{let p=new URL(window.location.href),v=o.startsWith("//")?new URL(p.protocol+o):new URL(o),_=_a(v.pathname,f);v.origin===p.origin&&_!=null?o=_+v.search+v.hash:w=!0}catch{}let b=sU(o,{relative:r}),x=AU(o,{replace:s,state:a,target:c,preventScrollReset:u,relative:r,unstable_viewTransition:d});function m(p){n&&n(p),p.defaultPrevented||x(p)}return y.createElement("a",Id({},h,{href:g||b,onClick:w||i?n:m,ref:e,target:c}))}),ur=y.forwardRef(function(t,e){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:s=!1,style:a,to:c,unstable_viewTransition:o,children:u}=t,d=sj(t,CU),h=Qh(c,{relative:d.relative}),f=sc(),g=y.useContext(ej),{navigator:w,basename:b}=y.useContext(Ci),x=g!=null&&PU(h)&&o===!0,m=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,p=f.pathname,v=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(p=p.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase()),v&&b&&(v=_a(v,b)||v);const _=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let k=p===m||!s&&p.startsWith(m)&&p.charAt(_)==="/",C=v!=null&&(v===m||!s&&v.startsWith(m)&&v.charAt(m.length)==="/"),S={isActive:k,isPending:C,isTransitioning:x},E=k?n:void 0,T;typeof i=="function"?T=i(S):T=[i,k?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(S):a;return y.createElement(sa,Id({},d,{"aria-current":E,className:T,ref:e,style:N,to:c,unstable_viewTransition:o}),typeof u=="function"?u(S):u)});var rg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rg||(rg={}));var A1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(A1||(A1={}));function OU(t){let e=y.useContext(Gh);return e||$e(!1),e}function AU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c}=e===void 0?{}:e,o=fn(),u=sc(),d=Qh(t,{relative:a});return y.useCallback(h=>{if(SU(h,n)){h.preventDefault();let f=r!==void 0?r:jd(u)===jd(d);o(t,{replace:f,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:c})}},[u,o,d,r,i,n,t,s,a,c])}function PU(t,e){e===void 0&&(e={});let n=y.useContext(NU);n==null&&$e(!1);let{basename:r}=OU(rg.useViewTransitionState),i=Qh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=_a(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=_a(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tg(i.pathname,a)!=null||tg(i.pathname,s)!=null}var aj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P1=Y.createContext&&Y.createContext(aj),DU=["attr","size","title"];function LU(t,e){if(t==null)return{};var n=MU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rd.apply(this,arguments)}function D1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Od(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(n),!0).forEach(function(r){FU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FU(t,e,n){return e=UU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UU(t){var e=$U(t,"string");return typeof e=="symbol"?e:String(e)}function $U(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oj(t){return t&&t.map((e,n)=>Y.createElement(e.tag,Od({key:n},e.attr),oj(e.child)))}function Cn(t){return e=>Y.createElement(VU,Rd({attr:Od({},t.attr)},e),oj(t.child))}function VU(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=LU(t,DU),c=i||n.size||"1em",o;return n.className&&(o=n.className),t.className&&(o=(o?o+" ":"")+t.className),Y.createElement("svg",Rd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:o,style:Od(Od({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&Y.createElement("title",null,s),t.children)};return P1!==void 0?Y.createElement(P1.Consumer,null,n=>e(n)):e(aj)}function zU(t){return Cn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-352 96c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H86.4C74 384 64 375.4 64 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2zM512 312c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function lj(t){return Cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function BU(t){return Cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(t)}function cj(t){return Cn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function uj(t){return Cn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function HU(t){return Cn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function dj(t){return Cn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function qU(t){return Cn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function hj(t){return Cn({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function WU(t){return Cn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const GU=({isOpen:t,onClose:e})=>{const[n,r]=y.useState(""),i=()=>{WF(n),e()};return l.jsx(l.Fragment,{children:t&&l.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:-1,role:"dialog",children:l.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:"Enviar Correo Electrónico para Cambiar Contraseña"}),l.jsx("button",{title:"Cerrar",type:"button",className:"btn-close",onClick:e})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"Correo Electrónico:"}),l.jsx("input",{id:"email",type:"email",className:"form-control",value:n,onChange:s=>r(s.target.value),required:!0})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-primary",onClick:i,children:"Enviar Correo"}),l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cerrar"})]})]})})})})},L1=()=>{const t=fn(),[e,n]=y.useState(""),[r,i]=y.useState(""),[s,a]=y.useState(!1),[c,o]=y.useState(!1),u=ob(),d=me(_=>_.auth.loggedIn),h=me(_=>_.auth.user),f=me(_=>_.auth.error),g=me(_=>_.auth.emailVerified),w=_=>{_.preventDefault(),setTimeout(()=>{u(zF(e,r))},1e3)},b=_=>{n(_.target.value)},x=_=>{i(_.target.value)},m=()=>{a(!s)},[p,v]=y.useState("");return y.useEffect(()=>{(async()=>{const _=Ul(rc,"Empresa/Logo/logo");hh(_).then(k=>{v(k)}).catch(k=>{console.error("Error descargando el logo:",k)})})()},[]),y.useEffect(()=>{if(d&&h&&g){const _=setTimeout(()=>{t("/ucag-admin/home")},3e3);return()=>clearTimeout(_)}},[d,h,g]),l.jsx(l.Fragment,{children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"row justify-content-center",children:l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"card shadow-lg",children:[f&&l.jsx("div",{className:"alert-popup",children:l.jsx("div",{className:"alert-message alert alert-danger",children:l.jsx("span",{children:f})})}),!h&&l.jsxs("form",{onSubmit:w,children:[l.jsxs("div",{children:[l.jsx("img",{ref:p,alt:"Logo",width:"200",height:"150"}),l.jsx("h3",{children:"Bienvenido!"}),l.jsx("h3",{children:"Inicio de Sesión"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"email",className:"form-label text-start text-muted",children:"Correo:"}),l.jsx("input",{type:"email",id:"email",value:e,onChange:b,className:"form-control",placeholder:"Ej: correo@example.com"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"password",className:"form-label text-start text-muted",children:"Contraseña:"}),l.jsxs("div",{className:"input-group",children:[l.jsx("input",{type:s?"text":"password",id:"password",value:r,onChange:x,className:"form-control",placeholder:"Ej: contraseña123"}),l.jsxs("button",{className:"btn btn-outline-secondary",type:"button",onClick:m,children:[s?l.jsx(dj,{}):l.jsx(HU,{})," "]})]})]}),l.jsx("button",{type:"submit",className:"btn btn-primary",children:"Iniciar Sesión"}),l.jsxs("div",{children:[l.jsx("br",{}),l.jsx("label",{children:"¿No tiene cuenta?"}),l.jsx(sa,{to:"/crear-cuenta",children:"Crear Cuenta"})]}),l.jsxs("div",{children:[l.jsx("span",{children:"¿Olvidaste tu contraseña? "}),l.jsx("span",{className:"link-style",onClick:()=>o(!0),children:"Haz clic aquí"}),l.jsx(GU,{isOpen:c,onClose:()=>o(!1)})]})]}),h&&l.jsxs("div",{children:[l.jsxs("div",{children:[l.jsx("img",{ref:p,alt:"Bootstrap",width:"200",height:"150"}),l.jsx("h3",{children:"Bienvenido!"})]}),l.jsx("label",{children:"Credenciales Correctas!"}),l.jsxs("label",{children:["Hola ",h.nombre,"!"]})]})]})})})})})},je=()=>ob(),Ei=me,KU={nombre:"",correo:"",password:"",cedula:"",telefono:"",provincia:"",canton:"",distrito:"",direccion:"",fechaNacimiento:"",genero:""},fj=()=>{const[t,e]=y.useState([]),[n,r]=y.useState([]),[i,s]=y.useState([]),[a,c]=y.useState(""),o=je(),u=me(v=>v.auth.emailVerified),d=me(v=>v.auth.notification),h=me(v=>v.auth.error),f=me(v=>v.paisInfo.datosPais),g=me(v=>v.auth.loggedIn),w=me(v=>v.auth.user),[b,x]=y.useState(KU);y.useEffect(()=>{if(o(VN()),f){const v=Zm(f);e(v)}},[]);const m=v=>{const{name:_,value:k}=v.target;if(_==="provincia"){c(k);const C=vu(k,f);r(C),s([]),x({...b,[_]:k})}else if(_==="canton"){x({...b,[_]:k,distrito:""});const C=yu(f[a].cantones[k].distritos);s(C)}else x({...b,[_]:k})},p=v=>{if(v.preventDefault(),!Object.values(b).every(_=>_.trim()!=="")){o(Xm("Porfavor llene todos los campos."));return}o(BF(b))};return l.jsxs("div",{children:[l.jsxs("div",{className:"container",children:[l.jsxs("div",{children:[l.jsx("img",{src:"/src/assets/LogoUCAG.png",alt:"Bootstrap",width:"200",height:"150"}),!w&&!g&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{children:"Bienvenido!"}),l.jsx("h2",{children:"Crear Cuenta de Usuario "})]})]}),!u&&d&&l.jsx("div",{children:l.jsxs("p",{children:[d,", Debes confirmar tu correo electrónico! "]})}),!d&&l.jsx("div",{className:"card shadow-lg",children:l.jsxs("form",{onSubmit:p,className:"signup-form",children:[h&&l.jsx("div",{className:"alert-popup",children:l.jsx("div",{className:"alert-message alert alert-danger",children:l.jsx("span",{children:h})})}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"nombre",children:"Nombre Completo:"}),l.jsx("input",{type:"text",id:"nombre",name:"nombre",value:b.nombre,onChange:m,className:"form-control",placeholder:"Ej: Juan Pérez"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"fechaNacimiento",children:"Fecha de Nacimiento:"}),l.jsx("input",{type:"date",id:"fechaNacimiento",name:"fechaNacimiento",value:b.fechaNacimiento,onChange:m,className:"form-control"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"provincia",children:"Provincia:"}),l.jsxs("select",{id:"provincia",name:"provincia",value:b.provincia,onChange:m,className:"form-control",children:[l.jsx("option",{value:"",children:"Seleccione una provincia..."}),t.map((v,_)=>l.jsx("option",{value:v,children:v},_))]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"direccion",children:"Dirección Exacta:"}),l.jsx("input",{type:"text",id:"direccion",name:"direccion",value:b.direccion,onChange:m,className:"form-control",placeholder:"Ej: 123 Calle Principal, Barrio Los Ángeles",required:!0})]})]}),l.jsxs("div",{className:"col",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"correo",children:"Correo:"}),l.jsx("input",{type:"correo",id:"correo",name:"correo",value:b.correo,onChange:m,className:"form-control",placeholder:"Ej: correo@example.com"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"telefono",children:"Teléfono:"}),l.jsx("input",{type:"text",id:"telefono",name:"telefono",value:b.telefono,onChange:m,className:"form-control",placeholder:"Ej: 8888-8888",pattern:"\\d*",title:"Solo se permiten números."})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"canton",children:"Cantón:"}),l.jsxs("select",{id:"canton",name:"canton",value:b.canton,onChange:m,className:"form-control",children:[l.jsx("option",{value:"",children:"Seleccione un cantón..."}),n.map((v,_)=>l.jsx("option",{value:v,children:v},_))]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"genero",children:"Género:"}),l.jsxs("select",{id:"genero",name:"genero",value:b.genero,onChange:m,className:"form-control",children:[l.jsx("option",{value:"",children:"Seleccione un género..."}),l.jsx("option",{value:"M",children:"Masculino"}),l.jsx("option",{value:"F",children:"Femenino"}),l.jsx("option",{value:"O",children:"Otro"})]})]})]}),l.jsxs("div",{className:"col",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"password",children:"Contraseña:"}),l.jsx("input",{type:"password",id:"password",name:"password",value:b.password,onChange:m,className:"form-control",placeholder:"Ej: contraseña123"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"cedula",children:"Cédula:"}),l.jsx("input",{type:"text",id:"cedula",name:"cedula",value:b.cedula,onChange:m,className:"form-control",placeholder:"Ej: 123456789",pattern:"\\d*",title:"Solo se permiten números"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{htmlFor:"distrito",children:"Distrito:"}),l.jsxs("select",{id:"distrito",name:"distrito",value:b.distrito,onChange:m,className:"form-control",children:[l.jsx("option",{value:"",children:"Seleccione un distrito..."}),i.map((v,_)=>l.jsx("option",{value:v,children:v},_))]})]})]})]}),l.jsx("button",{type:"submit",className:"btn btn-primary",children:"Crear Cuenta"})]})})]}),l.jsx("br",{}),!w&&!g&&l.jsx(l.Fragment,{children:l.jsxs("div",{children:[l.jsx("label",{children:"¿Ya tiene cuenta?"}),l.jsx(sa,{to:"/iniciar-sesion",children:"Iniciar Sesión"})]})})]})};function QU(){const t=fn(),e=me(r=>r.auth.user),n=me(r=>r.auth.loggedIn);return y.useEffect(()=>{!n&&!e&&t("/")},[n,e,t]),l.jsxs(l.Fragment,{children:[l.jsx("h2",{children:"Gestión del Sistema de Matrícula"}),l.jsx("div",{children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx(sa,{to:"/matriculaAdmin",className:"card my-3 custom-card",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h5",{className:"card-title",children:"Gestión de Matrícula"}),l.jsx("p",{className:"card-text text-secondary",children:"Administre las solicitudes de matrícula."}),l.jsx(WU,{style:{fontSize:"48px",color:"#4dd46d"}})]})}),l.jsx(sa,{to:"/evaluacionEstudiantes",className:"card my-3 custom-card",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h5",{className:"card-title",children:"Gestión de Aprobaciones"}),l.jsx("p",{className:"card-text text-secondary",children:"Apruebe o repruebe estudiantes en los cursos."}),l.jsx(qU,{style:{fontSize:"48px",color:"#4dd46d"}})]})})]}),l.jsx("div",{className:"col-md-6",children:l.jsx(sa,{to:"/gestionar-cursos",className:"card my-3 custom-card",children:l.jsxs("div",{className:"card-body",children:[l.jsx("h5",{className:"card-title",children:" Gestión de Cursos"}),l.jsx("p",{className:"card-text text-secondary",children:"Administre la oferta de cursos disponibles."}),l.jsx(BU,{style:{fontSize:"48px",color:"#4dd46d"}})]})})})]})})]})}const Yh=async(t,e)=>{try{const n=Ua(or,t),r=await PN(n,e);return console.log("Nuevo documento agregado con ID:",r.id),r}catch(n){console.error("Error al agregar el nuevo documento:",n)}},rt=async(t,e)=>{const n=tc(or,t);try{await OF(n,e),console.log("Doc updated")}catch(r){console.log(r)}},Sn=async(t,e)=>{const n=Ul(rc,e);try{let r="";return await y3(n,t).then(i=>hh(i.ref).then(s=>r=s)),console.log("Imagen subida",n.fullPath),r}catch(r){console.log(r)}},Vt=t=>{const e=new Date,n=`${e.getHours()}:${e.getMinutes()}`;return l.jsx(l.Fragment,{children:l.jsx("div",{className:"position-fixed bottom-0 end-0 p-3",style:{zIndex:11},children:l.jsxs("div",{id:t.id,className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-delay":"10000",children:[l.jsxs("div",{className:"toast-header",children:[l.jsx("img",{src:"../../assets/LogoUCAG.png",className:"rounded me-2",alt:"..."}),l.jsx("strong",{className:"me-auto",children:t.title}),l.jsx("small",{children:n}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})]}),l.jsx("div",{className:"toast-body",children:t.message})]})})})};function Hv(t){return Cn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}const kl=({texto:t,mostrar:e,onClose:n,onConfirm:r,segundos:i})=>(y.useEffect(()=>{if(i){const s=setTimeout(()=>{n&&n()},i*1e3);return()=>clearTimeout(s)}},[i,n]),l.jsx("div",{className:`modal ${e?"show":""}`,style:{display:e?"block":"none"},children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:"Notificación"}),n&&l.jsx("button",{title:"btn-close",type:"button",className:"btn-close",onClick:n})," "]}),l.jsx("div",{className:"modal-body",children:l.jsx("p",{children:t})}),l.jsxs("div",{className:"modal-footer",children:[n&&l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Cancelar"})," ",r&&l.jsx("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Aceptar"})," "]})]})})})),zt=t=>{const e=document.getElementById(t);new bootstrap.Toast(e).show()},M1=t=>{const[e,n]=y.useState(""),[r,i]=y.useState(""),[s,a]=y.useState(-1),[c,o]=y.useState(null),[u,d]=y.useState(null),[h,f]=y.useState(""),[g,w]=y.useState([{dia:"",hora:""}]),[b,x]=y.useState(null),[m,p]=y.useState(!1),[v,_]=y.useState(!1),[k,C]=y.useState(!1),[S,E]=y.useState(!1),T=je();y.useEffect(()=>{t.curso!==null&&(n(t.curso.nombre),i(t.curso.descripcion),a(t.curso.modalidad),o(t.curso.fecha_inicio instanceof be?t.curso.fecha_inicio.toDate():null),d(t.curso.fecha_finalizacion instanceof be?t.curso.fecha_finalizacion.toDate():null),f(t.curso.link_plataforma),w(t.curso.horario),C(!0),E(!0))},[t.curso]);const N=()=>{t.curso!==null&&(n(t.curso.nombre),i(t.curso.descripcion),a(t.curso.modalidad),o(t.curso.fecha_inicio instanceof be?t.curso.fecha_inicio.toDate():null),d(t.curso.fecha_finalizacion instanceof be?t.curso.fecha_finalizacion.toDate():null),f(t.curso.link_plataforma),w(t.curso.horario),C(!0),E(!0),x(null))},L=W=>{a(parseInt(W.target.value))},z=W=>{n(W.target.value)},se=W=>{i(W.target.value)},H=W=>{f(W.target.value)},Ce=W=>{C(!1);const he=W.target.value;o(new Date(he))},st=W=>{E(!1);const he=W.target.value;d(new Date(he))},Xe=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],A=(W,he)=>{const fe=g.map((_e,Or)=>Or===W?{..._e,dia:he.target.value}:_e);w(fe)},V=(W,he)=>{const fe=g.map((_e,Or)=>Or===W?{..._e,hora:he.target.value}:_e);w(fe)},K=()=>{w([...g,{dia:"",hora:""}])},ue=W=>{if(g.length!==1){const he=[...g];he.splice(W,1),w(he)}},ne=()=>{n(""),i(""),a(-1),o(null),d(null),f(""),x(null),p(!1),w([{dia:"",hora:""}])},M=async()=>{let W;b!=null&&(W=await Sn(b,`/Cursos/${e}/image1`));let he={nombre:e,descripcion:r,modalidad:s,fecha_inicio:be.fromDate(c),fecha_finalizacion:be.fromDate(u),link_plataforma:h,horario:g,fechaCreacion:be.now(),image_url:`/Cursos/${e}/image1`,aprobados:[],reprobados:[],matriculados:[],postulados:[],estado:0,visible:0,download_url:W};console.log(he);const fe=await Yh("Cursos",he);console.log(fe),he={...he,id:fe.id},T(l9(he)),$(`#${t.id}`).modal("hide"),ne(),setTimeout(()=>{zt("toast-form-cursos-add")},1e3)},G=async()=>{var W;let he;if(b!=null?he=await Sn(b,`/Cursos/${e}/image1`):he=(W=t.curso)==null?void 0:W.download_url,t.curso!==null){let fe={nombre:e,descripcion:r,modalidad:s,fecha_inicio:be.fromDate(c),fecha_finalizacion:be.fromDate(u),link_plataforma:h,horario:g,image_url:`/Cursos/${e}/image1`,estado:0,download_url:he};await rt(`/Cursos/${t.curso.id}`,fe),fe={...fe,id:t.curso.id},T(u9(fe)),$(`#${t.id}`).modal("hide"),x(null),p(!1),_(!1),setTimeout(()=>{zt("toast-form-cursos-edit")},1e3)}},de=()=>{_(!1)},q=()=>{if(p(!0),!(e===""||r===""||s===-1||c===null||u===null||t.id.startsWith("course-section-modal-add")&&b===void 0||(s===1||s===2)&&h===""||g.length>0&&(g[g.length-1].dia===""||g[g.length-1].hora===""))){switch(!0){case t.id.startsWith("course-section-modal-add"):M();break;case t.id.startsWith("course-section-modal-edit"):_(!0);break;default:console.error("ID de modal no reconocido:",t.id)}x(null)}};function ae(W,he){var fe;if(!he&&W)return W?W.toISOString().substring(0,10):void 0;if(W){const _e=(fe=W.toLocaleDateString())==null?void 0:fe.split("/");if(_e)return _e[2]+"-"+pn(_e[1])+"-"+pn(_e[0])}}function pn(W){return W.length<2?"0"+W:W}return l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:t.styleButton,"data-bs-toggle":"modal","data-bs-target":`#${t.id}`,children:t.nombreButton}),l.jsx("div",{className:"modal fade",id:t.id,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-lg",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header border-0",children:[l.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:t.titulo}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t.id.startsWith("course-section-modal-add")?ne:N})]}),l.jsx("div",{className:"modal-body text-start",children:l.jsx("form",{id:"form-modal-cursos",children:l.jsxs("div",{className:"accordion",id:"accordionExample",children:[l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"informacionHeading",children:l.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#informacionCollapse","aria-expanded":"true","aria-controls":"informacionCollapse",children:"Información"})}),l.jsx("div",{id:"informacionCollapse",className:"accordion-collapse collapse","aria-labelledby":"informacionHeading",children:l.jsxs("div",{className:"accordion-body",children:[l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col",children:[l.jsxs("label",{className:"form-label",htmlFor:"nombre",children:["Nombre ",l.jsx("span",{className:"required-indicator text-danger",children:"*"})]}),l.jsx("input",{type:"text",className:`form-control ${m&&e===""?"is-invalid":""}`,id:"nombre",name:"nombre",value:e,onChange:z,placeholder:"Nombre del curso",required:!0})]}),l.jsxs("div",{className:"col",children:[l.jsxs("label",{className:"form-label",htmlFor:"descripcion",children:["Descripción ",l.jsx("span",{className:"required-indicator text-danger",children:"*"})]}),l.jsx("input",{type:"text",className:`form-control ${m&&r===""?"is-invalid":""}`,id:"descripcion",name:"descripcion",value:r,onChange:se,placeholder:"Descripción del curso",required:!0})]}),l.jsxs("div",{className:"col",children:[l.jsxs("label",{className:"form-label",htmlFor:"modalidad",children:["Modalidad ",l.jsx("span",{className:"required-indicator text-danger",children:"*"})]}),l.jsxs("select",{id:"modalidad",className:`form-select ${m&&s===-1?"is-invalid":""}`,name:"modalidad",value:s,onChange:L,required:!0,children:[l.jsx("option",{disabled:!0,value:-1,children:"Selecciona una modalidad"}),l.jsx("option",{value:0,children:"Presencial"}),l.jsx("option",{value:1,children:"Virtual"}),l.jsx("option",{value:2,children:"Mixta"})]})]})]}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col",children:[l.jsxs("label",{className:"form-label",htmlFor:"fechaInicio",children:["Fecha de Inicio ",l.jsx("span",{className:"required-indicator text-danger",children:"*"})]}),l.jsx("input",{type:"date",className:`form-control ${m&&c===null?"is-invalid":""}`,id:"fechaInicio",name:"fechaInicio",value:c?ae(c,k):"",onChange:Ce,required:!0})]}),l.jsxs("div",{className:"col",children:[l.jsxs("label",{className:"form-label",htmlFor:"fechaFin",children:["Fecha de Fin ",l.jsx("span",{className:"required-indicator text-danger",children:"*"})]}),l.jsx("input",{type:"date",className:`form-control ${m&&u===null?"is-invalid":""}`,id:"fechaFin",name:"fechaFin",value:u?ae(u,S):"",onChange:st,required:!0})]})]}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col",children:[l.jsxs("label",{className:"form-label",htmlFor:"linkClase",children:["Link de Clase ",s===1||s===2?l.jsx("span",{className:" required-indicator text-danger",children:"*"}):null]}),l.jsx("input",{type:"url",className:`form-control ${m&&(s===1||s===2)&&h===""?"is-invalid":""}`,id:"linkClase",name:"linkClase",value:h,onChange:H,required:s===1||s===2})]}),l.jsxs("div",{className:"col",children:[l.jsxs("label",{className:"form-label",htmlFor:"imagen",children:["Imagen Ilustrativa  ",t.id.startsWith("course-section-modal-add")?l.jsx("span",{className:"required-indicator text-danger",children:"*"}):null," "]}),l.jsx("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",className:`form-control ${m&&t.id.startsWith("course-section-modal-add")&&b===null?"is-invalid":""}`,id:"imagen",name:"imagen",value:b?void 0:"",onChange:W=>x(W.target.files[0])})]})]})]})})]}),l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"horariosHeading",children:l.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#horariosCollapse","aria-expanded":"false","aria-controls":"horariosCollapse",children:["Horarios ",l.jsx("span",{className:"required-indicator text-danger",children:" *"})]})}),l.jsx("div",{id:"horariosCollapse",className:"accordion-collapse collapse","aria-labelledby":"horariosHeading",children:l.jsx("div",{className:"accordion-body",children:l.jsxs("div",{children:[g.map((W,he)=>l.jsxs("div",{className:"input-group mb-3 has-validation",children:[l.jsxs("select",{value:W.dia,className:`form-select input-group-text text-start ${m&&W.dia===""?"is-invalid":""}`,onChange:fe=>A(he,fe),children:[l.jsx("option",{value:"",children:"Seleccione un día"}),Xe.map((fe,_e)=>l.jsx("option",{value:fe,children:fe},_e))]}),l.jsx("input",{type:"text",className:`form-control ${m&&W.hora===""?"is-invalid":""}`,value:W.hora,onChange:fe=>V(he,fe)}),l.jsxs("button",{type:"button",className:"btn btn-danger",onClick:()=>ue(he),children:[" ",l.jsx(Hv,{})," "]})]},he)),l.jsx("div",{className:"text-end",children:l.jsx("button",{type:"button",className:"btn btn-primary",onClick:K,children:"Agregar Día"})})]})})})]})]})})}),l.jsxs("div",{className:"modal-footer border-0",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t.id.startsWith("course-section-modal-add")?ne:N,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary",onClick:q,children:t.submitButton})]})]})})}),l.jsx(kl,{texto:"¿Está seguro que desea guardar los cambios?",mostrar:v,onClose:de,onConfirm:G}),l.jsx(Vt,{id:"toast-form-cursos-add",message:"Curso agregado con éxito!",title:"Seccion de avisos"}),l.jsx(Vt,{id:"toast-form-cursos-edit",message:"Curso editado con éxito!",title:"Seccion de avisos"})]})},Jh=async t=>{const e=tc(or,t);await AF(e),console.log("Se borra el documento")},YU=t=>l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:t.buttonStyle,"data-bs-toggle":"modal","data-bs-target":`#${t.id}`,children:t.buttonName}),l.jsx("div",{className:"modal fade",id:t.id,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:t.modalTitle}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),l.jsx("div",{className:"modal-body",children:t.body}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:t.classSecondaryButton,"data-bs-dismiss":"modal",children:t.secondaryButtonText}),l.jsx("button",{type:"button",className:t.classPrimaryButton,"data-bs-dismiss":"modal",onClick:()=>t.functionButtonOption(),children:t.primaryButtonText})]})]})})})]}),Xh=async t=>{try{const e=Ul(rc,t);w3(e),console.log("Imagen borrada",t)}catch(e){console.log(e)}};function JU(t){const e=je(),n=async()=>{await Jh(`/Cursos/${t.id}`),await Xh(t.image_url),e(c9(t)),setTimeout(()=>{zt("delete-modal-curso")},1e3)};return l.jsxs(l.Fragment,{children:[l.jsx(YU,{id:`course-section-modal-delete-${t.id}`,buttonStyle:"btn btn-danger",modalTitle:"Notificación",buttonName:l.jsx(Hv,{}),modalName:"Eliminar",body:"¿Está seguro que desea eliminar este curso?",secondaryButtonText:"Cancelar",primaryButtonText:"Aceptar",classSecondaryButton:"btn btn-secondary",classPrimaryButton:"btn btn-danger",functionButtonOption:()=>{n()}}),l.jsx(Vt,{id:"delete-modal-curso",message:"¡Curso eliminado con éxito!",title:"Seccion de avisos"})]})}var It=function(){return It=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},It.apply(this,arguments)};function Ad(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Ie="-ms-",Do="-moz-",xe="-webkit-",pj="comm",Zh="rule",qv="decl",XU="@import",mj="@keyframes",ZU="@layer",gj=Math.abs,Wv=String.fromCharCode,ig=Object.assign;function e$(t,e){return lt(t,0)^45?(((e<<2^lt(t,0))<<2^lt(t,1))<<2^lt(t,2))<<2^lt(t,3):0}function bj(t){return t.trim()}function hr(t,e){return(t=e.exec(t))?t[0]:t}function ie(t,e,n){return t.replace(e,n)}function ku(t,e,n){return t.indexOf(e,n)}function lt(t,e){return t.charCodeAt(e)|0}function Sa(t,e,n){return t.slice(e,n)}function Hn(t){return t.length}function vj(t){return t.length}function bo(t,e){return e.push(t),t}function t$(t,e){return t.map(e).join("")}function F1(t,e){return t.filter(function(n){return!hr(n,e)})}var ef=1,ka=1,yj=0,kn=0,Ke=0,Va="";function tf(t,e,n,r,i,s,a,c){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:ef,column:ka,length:a,return:"",siblings:c}}function Mr(t,e){return ig(tf("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Ts(t){for(;t.root;)t=Mr(t.root,{children:[t]});bo(t,t.siblings)}function n$(){return Ke}function r$(){return Ke=kn>0?lt(Va,--kn):0,ka--,Ke===10&&(ka=1,ef--),Ke}function Dn(){return Ke=kn<yj?lt(Va,kn++):0,ka++,Ke===10&&(ka=1,ef++),Ke}function Gi(){return lt(Va,kn)}function Cu(){return kn}function nf(t,e){return Sa(Va,t,e)}function sg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function i$(t){return ef=ka=1,yj=Hn(Va=t),kn=0,[]}function s$(t){return Va="",t}function dp(t){return bj(nf(kn-1,ag(t===91?t+2:t===40?t+1:t)))}function a$(t){for(;(Ke=Gi())&&Ke<33;)Dn();return sg(t)>2||sg(Ke)>3?"":" "}function o$(t,e){for(;--e&&Dn()&&!(Ke<48||Ke>102||Ke>57&&Ke<65||Ke>70&&Ke<97););return nf(t,Cu()+(e<6&&Gi()==32&&Dn()==32))}function ag(t){for(;Dn();)switch(Ke){case t:return kn;case 34:case 39:t!==34&&t!==39&&ag(Ke);break;case 40:t===41&&ag(t);break;case 92:Dn();break}return kn}function l$(t,e){for(;Dn()&&t+Ke!==57&&!(t+Ke===84&&Gi()===47););return"/*"+nf(e,kn-1)+"*"+Wv(t===47?t:Dn())}function c$(t){for(;!sg(Gi());)Dn();return nf(t,kn)}function u$(t){return s$(Eu("",null,null,null,[""],t=i$(t),0,[0],t))}function Eu(t,e,n,r,i,s,a,c,o){for(var u=0,d=0,h=a,f=0,g=0,w=0,b=1,x=1,m=1,p=0,v="",_=i,k=s,C=r,S=v;x;)switch(w=p,p=Dn()){case 40:if(w!=108&&lt(S,h-1)==58){ku(S+=ie(dp(p),"&","&\f"),"&\f",gj(u?c[u-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:S+=dp(p);break;case 9:case 10:case 13:case 32:S+=a$(w);break;case 92:S+=o$(Cu()-1,7);continue;case 47:switch(Gi()){case 42:case 47:bo(d$(l$(Dn(),Cu()),e,n,o),o);break;default:S+="/"}break;case 123*b:c[u++]=Hn(S)*m;case 125*b:case 59:case 0:switch(p){case 0:case 125:x=0;case 59+d:m==-1&&(S=ie(S,/\f/g,"")),g>0&&Hn(S)-h&&bo(g>32?$1(S+";",r,n,h-1,o):$1(ie(S," ","")+";",r,n,h-2,o),o);break;case 59:S+=";";default:if(bo(C=U1(S,e,n,u,d,i,c,v,_=[],k=[],h,s),s),p===123)if(d===0)Eu(S,e,C,C,_,s,h,c,k);else switch(f===99&&lt(S,3)===110?100:f){case 100:case 108:case 109:case 115:Eu(t,C,C,r&&bo(U1(t,C,C,0,0,i,c,v,i,_=[],h,k),k),i,k,h,c,r?_:k);break;default:Eu(S,C,C,C,[""],k,0,c,k)}}u=d=g=0,b=m=1,v=S="",h=a;break;case 58:h=1+Hn(S),g=w;default:if(b<1){if(p==123)--b;else if(p==125&&b++==0&&r$()==125)continue}switch(S+=Wv(p),p*b){case 38:m=d>0?1:(S+="\f",-1);break;case 44:c[u++]=(Hn(S)-1)*m,m=1;break;case 64:Gi()===45&&(S+=dp(Dn())),f=Gi(),d=h=Hn(v=S+=c$(Cu())),p++;break;case 45:w===45&&Hn(S)==2&&(b=0)}}return s}function U1(t,e,n,r,i,s,a,c,o,u,d,h){for(var f=i-1,g=i===0?s:[""],w=vj(g),b=0,x=0,m=0;b<r;++b)for(var p=0,v=Sa(t,f+1,f=gj(x=a[b])),_=t;p<w;++p)(_=bj(x>0?g[p]+" "+v:ie(v,/&\f/g,g[p])))&&(o[m++]=_);return tf(t,e,n,i===0?Zh:c,o,u,d,h)}function d$(t,e,n,r){return tf(t,e,n,pj,Wv(n$()),Sa(t,2,-2),0,r)}function $1(t,e,n,r,i){return tf(t,e,n,qv,Sa(t,0,r),Sa(t,r+1,-1),r,i)}function wj(t,e,n){switch(e$(t,e)){case 5103:return xe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xe+t+t;case 4789:return Do+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return xe+t+Do+t+Ie+t+t;case 5936:switch(lt(t,e+11)){case 114:return xe+t+Ie+ie(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return xe+t+Ie+ie(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return xe+t+Ie+ie(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return xe+t+Ie+t+t;case 6165:return xe+t+Ie+"flex-"+t+t;case 5187:return xe+t+ie(t,/(\w+).+(:[^]+)/,xe+"box-$1$2"+Ie+"flex-$1$2")+t;case 5443:return xe+t+Ie+"flex-item-"+ie(t,/flex-|-self/g,"")+(hr(t,/flex-|baseline/)?"":Ie+"grid-row-"+ie(t,/flex-|-self/g,""))+t;case 4675:return xe+t+Ie+"flex-line-pack"+ie(t,/align-content|flex-|-self/g,"")+t;case 5548:return xe+t+Ie+ie(t,"shrink","negative")+t;case 5292:return xe+t+Ie+ie(t,"basis","preferred-size")+t;case 6060:return xe+"box-"+ie(t,"-grow","")+xe+t+Ie+ie(t,"grow","positive")+t;case 4554:return xe+ie(t,/([^-])(transform)/g,"$1"+xe+"$2")+t;case 6187:return ie(ie(ie(t,/(zoom-|grab)/,xe+"$1"),/(image-set)/,xe+"$1"),t,"")+t;case 5495:case 3959:return ie(t,/(image-set\([^]*)/,xe+"$1$`$1");case 4968:return ie(ie(t,/(.+:)(flex-)?(.*)/,xe+"box-pack:$3"+Ie+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xe+t+t;case 4200:if(!hr(t,/flex-|baseline/))return Ie+"grid-column-align"+Sa(t,e)+t;break;case 2592:case 3360:return Ie+ie(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,hr(r.props,/grid-\w+-end/)})?~ku(t+(n=n[e].value),"span",0)?t:Ie+ie(t,"-start","")+t+Ie+"grid-row-span:"+(~ku(n,"span",0)?hr(n,/\d+/):+hr(n,/\d+/)-+hr(t,/\d+/))+";":Ie+ie(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return hr(r.props,/grid-\w+-start/)})?t:Ie+ie(ie(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ie(t,/(.+)-inline(.+)/,xe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hn(t)-1-e>6)switch(lt(t,e+1)){case 109:if(lt(t,e+4)!==45)break;case 102:return ie(t,/(.+:)(.+)-([^]+)/,"$1"+xe+"$2-$3$1"+Do+(lt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ku(t,"stretch",0)?wj(ie(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ie(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,a,c,o,u){return Ie+i+":"+s+u+(a?Ie+i+"-span:"+(c?o:+o-+s)+u:"")+t});case 4949:if(lt(t,e+6)===121)return ie(t,":",":"+xe)+t;break;case 6444:switch(lt(t,lt(t,14)===45?18:11)){case 120:return ie(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+xe+(lt(t,14)===45?"inline-":"")+"box$3$1"+xe+"$2$3$1"+Ie+"$2box$3")+t;case 100:return ie(t,":",":"+Ie)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ie(t,"scroll-","scroll-snap-")+t}return t}function Pd(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function h$(t,e,n,r){switch(t.type){case ZU:if(t.children.length)break;case XU:case qv:return t.return=t.return||t.value;case pj:return"";case mj:return t.return=t.value+"{"+Pd(t.children,r)+"}";case Zh:if(!Hn(t.value=t.props.join(",")))return""}return Hn(n=Pd(t.children,r))?t.return=t.value+"{"+n+"}":""}function f$(t){var e=vj(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function p$(t){return function(e){e.root||(e=e.return)&&t(e)}}function m$(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case qv:t.return=wj(t.value,t.length,n);return;case mj:return Pd([Mr(t,{value:ie(t.value,"@","@"+xe)})],r);case Zh:if(t.length)return t$(n=t.props,function(i){switch(hr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ts(Mr(t,{props:[ie(i,/:(read-\w+)/,":"+Do+"$1")]})),Ts(Mr(t,{props:[i]})),ig(t,{props:F1(n,r)});break;case"::placeholder":Ts(Mr(t,{props:[ie(i,/:(plac\w+)/,":"+xe+"input-$1")]})),Ts(Mr(t,{props:[ie(i,/:(plac\w+)/,":"+Do+"$1")]})),Ts(Mr(t,{props:[ie(i,/:(plac\w+)/,Ie+"input-$1")]})),Ts(Mr(t,{props:[i]})),ig(t,{props:F1(n,r)});break}return""})}}var g$={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zt={},Ca=typeof process<"u"&&Zt!==void 0&&(Zt.REACT_APP_SC_ATTR||Zt.SC_ATTR)||"data-styled",xj="active",_j="data-styled-version",rf="6.1.8",Gv=`/*!sc*/
`,Kv=typeof window<"u"&&"HTMLElement"in window,b$=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Zt!==void 0&&Zt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Zt.REACT_APP_SC_DISABLE_SPEEDY!==""?Zt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Zt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Zt!==void 0&&Zt.SC_DISABLE_SPEEDY!==void 0&&Zt.SC_DISABLE_SPEEDY!==""&&Zt.SC_DISABLE_SPEEDY!=="false"&&Zt.SC_DISABLE_SPEEDY),sf=Object.freeze([]),Ea=Object.freeze({});function v$(t,e,n){return n===void 0&&(n=Ea),t.theme!==n.theme&&t.theme||e||n.theme}var Sj=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),y$=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,w$=/(^-|-$)/g;function V1(t){return t.replace(y$,"-").replace(w$,"")}var x$=/(a)(d)/gi,$c=52,z1=function(t){return String.fromCharCode(t+(t>25?39:97))};function og(t){var e,n="";for(e=Math.abs(t);e>$c;e=e/$c|0)n=z1(e%$c)+n;return(z1(e%$c)+n).replace(x$,"$1-$2")}var hp,kj=5381,Gs=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Cj=function(t){return Gs(kj,t)};function _$(t){return og(Cj(t)>>>0)}function S$(t){return t.displayName||t.name||"Component"}function fp(t){return typeof t=="string"&&!0}var Ej=typeof Symbol=="function"&&Symbol.for,Nj=Ej?Symbol.for("react.memo"):60115,k$=Ej?Symbol.for("react.forward_ref"):60112,C$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},E$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},N$=((hp={})[k$]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hp[Nj]=jj,hp);function B1(t){return("type"in(e=t)&&e.type.$$typeof)===Nj?jj:"$$typeof"in t?N$[t.$$typeof]:C$;var e}var j$=Object.defineProperty,T$=Object.getOwnPropertyNames,H1=Object.getOwnPropertySymbols,I$=Object.getOwnPropertyDescriptor,R$=Object.getPrototypeOf,q1=Object.prototype;function Tj(t,e,n){if(typeof e!="string"){if(q1){var r=R$(e);r&&r!==q1&&Tj(t,r,n)}var i=T$(e);H1&&(i=i.concat(H1(e)));for(var s=B1(t),a=B1(e),c=0;c<i.length;++c){var o=i[c];if(!(o in E$||n&&n[o]||a&&o in a||s&&o in s)){var u=I$(e,o);try{j$(t,o,u)}catch{}}}}return t}function cs(t){return typeof t=="function"}function Qv(t){return typeof t=="object"&&"styledComponentId"in t}function Vi(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function W1(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Cl(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function lg(t,e,n){if(n===void 0&&(n=!1),!n&&!Cl(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=lg(t[r],e[r]);else if(Cl(e))for(var r in e)t[r]=lg(t[r],e[r]);return t}function Yv(t,e){Object.defineProperty(t,"toString",{value:e})}function us(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var O$=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw us(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(e+1),o=(a=0,n.length);a<o;a++)this.tag.insertRule(c,n[a])&&(this.groupSizes[e]++,c++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,a=i;a<s;a++)n+="".concat(this.tag.getRule(a)).concat(Gv);return n},t}(),Nu=new Map,Dd=new Map,ju=1,Vc=function(t){if(Nu.has(t))return Nu.get(t);for(;Dd.has(ju);)ju++;var e=ju++;return Nu.set(t,e),Dd.set(e,t),e},A$=function(t,e){ju=e+1,Nu.set(t,e),Dd.set(e,t)},P$="style[".concat(Ca,"][").concat(_j,'="').concat(rf,'"]'),D$=new RegExp("^".concat(Ca,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),L$=function(t,e,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&t.registerName(e,r)},M$=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(Gv),i=[],s=0,a=r.length;s<a;s++){var c=r[s].trim();if(c){var o=c.match(D$);if(o){var u=0|parseInt(o[1],10),d=o[2];u!==0&&(A$(d,u),L$(t,d,o[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(c)}}};function F$(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ij=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(c){var o=Array.from(c.querySelectorAll("style[".concat(Ca,"]")));return o[o.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Ca,xj),r.setAttribute(_j,rf);var a=F$();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},U$=function(){function t(e){this.element=Ij(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var a=r[i];if(a.ownerNode===n)return a}throw us(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),$$=function(){function t(e){this.element=Ij(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),V$=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),G1=Kv,z$={isServer:!Kv,useCSSOMInjection:!b$},Rj=function(){function t(e,n,r){e===void 0&&(e=Ea),n===void 0&&(n={});var i=this;this.options=It(It({},z$),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Kv&&G1&&(G1=!1,function(s){for(var a=document.querySelectorAll(P$),c=0,o=a.length;c<o;c++){var u=a[c];u&&u.getAttribute(Ca)!==xj&&(M$(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),Yv(this,function(){return function(s){for(var a=s.getTag(),c=a.length,o="",u=function(h){var f=function(m){return Dd.get(m)}(h);if(f===void 0)return"continue";var g=s.names.get(f),w=a.getGroup(h);if(g===void 0||w.length===0)return"continue";var b="".concat(Ca,".g").concat(h,'[id="').concat(f,'"]'),x="";g!==void 0&&g.forEach(function(m){m.length>0&&(x+="".concat(m,","))}),o+="".concat(w).concat(b,'{content:"').concat(x,'"}').concat(Gv)},d=0;d<c;d++)u(d);return o}(i)})}return t.registerId=function(e){return Vc(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(It(It({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new V$(i):r?new U$(i):new $$(i)}(this.options),new O$(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Vc(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Vc(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Vc(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),B$=/&/g,H$=/^\s*\/\/.*$/gm;function Oj(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Oj(n.children,e)),n})}function q$(t){var e,n,r,i=t===void 0?Ea:t,s=i.options,a=s===void 0?Ea:s,c=i.plugins,o=c===void 0?sf:c,u=function(f,g,w){return w.startsWith(n)&&w.endsWith(n)&&w.replaceAll(n,"").length>0?".".concat(e):f},d=o.slice();d.push(function(f){f.type===Zh&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(B$,n).replace(r,u))}),a.prefix&&d.push(m$),d.push(h$);var h=function(f,g,w,b){g===void 0&&(g=""),w===void 0&&(w=""),b===void 0&&(b="&"),e=b,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var x=f.replace(H$,""),m=u$(w||g?"".concat(w," ").concat(g," { ").concat(x," }"):x);a.namespace&&(m=Oj(m,a.namespace));var p=[];return Pd(m,f$(d.concat(p$(function(v){return p.push(v)})))),p};return h.hash=o.length?o.reduce(function(f,g){return g.name||us(15),Gs(f,g.name)},kj).toString():"",h}var W$=new Rj,cg=q$(),Aj=Y.createContext({shouldForwardProp:void 0,styleSheet:W$,stylis:cg});Aj.Consumer;Y.createContext(void 0);function K1(){return y.useContext(Aj)}var G$=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=cg);var a=r.name+s.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,s(r.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Yv(this,function(){throw us(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=cg),this.name+e.hash},t}(),K$=function(t){return t>="A"&&t<="Z"};function Q1(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;K$(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var Pj=function(t){return t==null||t===!1||t===""},Dj=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!Pj(s)&&(Array.isArray(s)&&s.isCss||cs(s)?r.push("".concat(Q1(i),":"),s,";"):Cl(s)?r.push.apply(r,Ad(Ad(["".concat(i," {")],Dj(s),!1),["}"],!1)):r.push("".concat(Q1(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in g$||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ki(t,e,n,r){if(Pj(t))return[];if(Qv(t))return[".".concat(t.styledComponentId)];if(cs(t)){if(!cs(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ki(i,e,n,r)}var s;return t instanceof G$?n?(t.inject(n,r),[t.getName(r)]):[t]:Cl(t)?Dj(t):Array.isArray(t)?Array.prototype.concat.apply(sf,t.map(function(a){return Ki(a,e,n,r)})):[t.toString()]}function Q$(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(cs(n)&&!Qv(n))return!1}return!0}var Y$=Cj(rf),J$=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Q$(e),this.componentId=n,this.baseHash=Gs(Y$,n),this.baseStyle=r,Rj.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Vi(i,this.staticRulesId);else{var s=W1(Ki(this.rules,e,n,r)),a=og(Gs(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,a)){var c=r(s,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,c)}i=Vi(i,a),this.staticRulesId=a}else{for(var o=Gs(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var h=this.rules[d];if(typeof h=="string")u+=h;else if(h){var f=W1(Ki(h,e,n,r));o=Gs(o,f+d),u+=f}}if(u){var g=og(o>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(u,".".concat(g),void 0,this.componentId)),i=Vi(i,g)}}return i},t}(),Ld=Y.createContext(void 0);Ld.Consumer;function X$(t){var e=Y.useContext(Ld),n=y.useMemo(function(){return function(r,i){if(!r)throw us(14);if(cs(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw us(8);return i?It(It({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?Y.createElement(Ld.Provider,{value:n},t.children):null}var pp={};function Z$(t,e,n){var r=Qv(t),i=t,s=!fp(t),a=e.attrs,c=a===void 0?sf:a,o=e.componentId,u=o===void 0?function(_,k){var C=typeof _!="string"?"sc":V1(_);pp[C]=(pp[C]||0)+1;var S="".concat(C,"-").concat(_$(rf+C+pp[C]));return k?"".concat(k,"-").concat(S):S}(e.displayName,e.parentComponentId):o,d=e.displayName,h=d===void 0?function(_){return fp(_)?"styled.".concat(_):"Styled(".concat(S$(_),")")}(t):d,f=e.displayName&&e.componentId?"".concat(V1(e.displayName),"-").concat(e.componentId):e.componentId||u,g=r&&i.attrs?i.attrs.concat(c).filter(Boolean):c,w=e.shouldForwardProp;if(r&&i.shouldForwardProp){var b=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;w=function(_,k){return b(_,k)&&x(_,k)}}else w=b}var m=new J$(n,f,r?i.componentStyle:void 0);function p(_,k){return function(C,S,E){var T=C.attrs,N=C.componentStyle,L=C.defaultProps,z=C.foldedComponentIds,se=C.styledComponentId,H=C.target,Ce=Y.useContext(Ld),st=K1(),Xe=C.shouldForwardProp||st.shouldForwardProp,A=v$(S,Ce,L)||Ea,V=function(de,q,ae){for(var pn,W=It(It({},q),{className:void 0,theme:ae}),he=0;he<de.length;he+=1){var fe=cs(pn=de[he])?pn(W):pn;for(var _e in fe)W[_e]=_e==="className"?Vi(W[_e],fe[_e]):_e==="style"?It(It({},W[_e]),fe[_e]):fe[_e]}return q.className&&(W.className=Vi(W.className,q.className)),W}(T,S,A),K=V.as||H,ue={};for(var ne in V)V[ne]===void 0||ne[0]==="$"||ne==="as"||ne==="theme"&&V.theme===A||(ne==="forwardedAs"?ue.as=V.forwardedAs:Xe&&!Xe(ne,K)||(ue[ne]=V[ne]));var M=function(de,q){var ae=K1(),pn=de.generateAndInjectStyles(q,ae.styleSheet,ae.stylis);return pn}(N,V),G=Vi(z,se);return M&&(G+=" "+M),V.className&&(G+=" "+V.className),ue[fp(K)&&!Sj.has(K)?"class":"className"]=G,ue.ref=E,y.createElement(K,ue)}(v,_,k)}p.displayName=h;var v=Y.forwardRef(p);return v.attrs=g,v.componentStyle=m,v.displayName=h,v.shouldForwardProp=w,v.foldedComponentIds=r?Vi(i.foldedComponentIds,i.styledComponentId):"",v.styledComponentId=f,v.target=r?i.target:t,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=r?function(k){for(var C=[],S=1;S<arguments.length;S++)C[S-1]=arguments[S];for(var E=0,T=C;E<T.length;E++)lg(k,T[E],!0);return k}({},i.defaultProps,_):_}}),Yv(v,function(){return".".concat(v.styledComponentId)}),s&&Tj(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function Y1(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var J1=function(t){return Object.assign(t,{isCss:!0})};function it(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cs(t)||Cl(t))return J1(Ki(Y1(sf,Ad([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ki(r):J1(Ki(Y1(r,e)))}function ug(t,e,n){if(n===void 0&&(n=Ea),!e)throw us(1,e);var r=function(i){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return t(e,n,it.apply(void 0,Ad([i],s,!1)))};return r.attrs=function(i){return ug(t,e,It(It({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return ug(t,e,It(It({},n),i))},r}var Lj=function(t){return ug(Z$,t)},oe=Lj;Sj.forEach(function(t){oe[t]=Lj(t)});var ci;function Na(t,e){return t[e]}function e8(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function t8(t=[],e,n="id"){const r=t.slice(),i=Na(e,n);return i?r.splice(r.findIndex(s=>Na(s,n)===i),1):r.splice(r.findIndex(s=>s===e),1),r}function X1(t){return t.map((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r})}function Lo(t,e){return Math.ceil(t/e)}function mp(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(ci||(ci={}));const et=()=>null;function Mj(t,e=[],n=[]){let r={},i=[...n];return e.length&&e.forEach(s=>{if(!s.when||typeof s.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');s.when(t)&&(r=s.style||{},s.classNames&&(i=[...i,...s.classNames]),typeof s.style=="function"&&(r=s.style(t)||{}))}),{conditionalStyle:r,classNames:i.join(" ")}}function Tu(t,e=[],n="id"){const r=Na(t,n);return r?e.some(i=>Na(i,n)===r):e.some(i=>i===t)}function zc(t,e){return e?t.findIndex(n=>Mo(n.id,e)):-1}function Mo(t,e){return t==e}function n8(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:i,rowCount:s,mergeSelections:a}=e,c=!t.allSelected,o=!t.toggleOnSelectedRowsChange;if(a){const u=c?[...t.selectedRows,...i.filter(d=>!Tu(d,t.selectedRows,r))]:t.selectedRows.filter(d=>!Tu(d,i,r));return Object.assign(Object.assign({},t),{allSelected:c,selectedCount:u.length,selectedRows:u,toggleOnSelectedRowsChange:o})}return Object.assign(Object.assign({},t),{allSelected:c,selectedCount:c?s:0,selectedRows:c?i:[],toggleOnSelectedRowsChange:o})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:i,isSelected:s,rowCount:a,singleSelect:c}=e;return c?s?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[i],toggleOnSelectedRowsChange:n}):s?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:t8(t.selectedRows,i,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===a,selectedRows:e8(t.selectedRows,i),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:i,totalRows:s,mergeSelections:a}=e;if(a){const c=[...t.selectedRows,...i.filter(o=>!Tu(o,t.selectedRows,r))];return Object.assign(Object.assign({},t),{selectedCount:c.length,allSelected:!1,selectedRows:c,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:i.length,allSelected:i.length===s,selectedRows:i,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:i,clearSelectedOnSort:s}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:i,sortDirection:r,currentPage:1}),s&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:i,visibleOnly:s,persistSelectedOnPageChange:a}=e,c=i&&a,o=i&&!a||s;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),c&&{allSelected:!1}),o&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:i}=e;return Object.assign(Object.assign({},t),{currentPage:i,rowsPerPage:r})}}}const r8=it`
	pointer-events: none;
	opacity: 0.4;
`,i8=oe.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&r8};
	${({theme:t})=>t.table.style};
`,s8=it`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,a8=oe.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&s8};
	${({theme:t})=>t.head.style};
`,o8=oe.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,Fj=(t,...e)=>it`
		@media screen and (max-width: ${599}px) {
			${it(t,...e)}
		}
	`,l8=(t,...e)=>it`
		@media screen and (max-width: ${959}px) {
			${it(t,...e)}
		}
	`,c8=(t,...e)=>it`
		@media screen and (max-width: ${1280}px) {
			${it(t,...e)}
		}
	`,u8=t=>(e,...n)=>it`
			@media screen and (max-width: ${t}px) {
				${it(e,...n)}
			}
		`,za=oe.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,Uj=oe(za)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&it`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&Fj`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&l8`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&c8`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&u8(t)`
    display: none;
  `};
`,d8=it`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,h8=oe(Uj).attrs(t=>({style:t.style}))`
	${({$renderAsCell:t})=>!t&&d8};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var f8=y.memo(function({id:t,column:e,row:n,rowIndex:r,dataTag:i,isDragging:s,onDragStart:a,onDragOver:c,onDragEnd:o,onDragEnter:u,onDragLeave:d}){const{conditionalStyle:h,classNames:f}=Mj(n,e.conditionalCellStyles,["rdt_TableCell"]);return y.createElement(h8,{id:t,"data-column-id":e.id,role:"cell",className:f,"data-tag":i,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:h,$isDragging:s,onDragStart:a,onDragOver:c,onDragEnd:o,onDragEnter:u,onDragLeave:d},!e.cell&&y.createElement("div",{"data-tag":i},function(g,w,b,x){return w?b&&typeof b=="function"?b(g,x):w(g,x):null}(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))});const Z1="input";var $j=y.memo(function({name:t,component:e=Z1,componentOptions:n={style:{}},indeterminate:r=!1,checked:i=!1,disabled:s=!1,onClick:a=et}){const c=e,o=c!==Z1?n.style:(d=>Object.assign(Object.assign({fontSize:"18px"},!d&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(s),u=y.useMemo(()=>function(d,...h){let f;return Object.keys(d).map(g=>d[g]).forEach((g,w)=>{typeof g=="function"&&(f=Object.assign(Object.assign({},d),{[Object.keys(d)[w]]:g(...h)}))}),f||d}(n,r),[n,r]);return y.createElement(c,Object.assign({type:"checkbox",ref:d=>{d&&(d.indeterminate=r)},style:o,onClick:s?et:a,name:t,"aria-label":t,checked:i,disabled:s},u,{onChange:et}))});const p8=oe(za)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function m8({name:t,keyField:e,row:n,rowCount:r,selected:i,selectableRowsComponent:s,selectableRowsComponentProps:a,selectableRowsSingle:c,selectableRowDisabled:o,onSelectedRow:u}){const d=!(!o||!o(n));return y.createElement(p8,{onClick:h=>h.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},y.createElement($j,{name:t,component:s,componentOptions:a,checked:i,"aria-checked":i,onClick:()=>{u({type:"SELECT_SINGLE_ROW",row:n,isSelected:i,keyField:e,rowCount:r,singleSelect:c})},disabled:d}))}const g8=oe.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function b8({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:i,onToggled:s}){const a=e?n.expanded:n.collapsed;return y.createElement(g8,{"aria-disabled":t,onClick:()=>s&&s(i),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},a)}const v8=oe(za)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function y8({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:i,disabled:s=!1}){return y.createElement(v8,{onClick:a=>a.stopPropagation(),$noPadding:!0},y.createElement(b8,{id:r,row:t,expanded:e,expandableIcon:n,disabled:s,onToggled:i}))}const w8=oe.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var x8=y.memo(function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:i}){const s=["rdt_ExpanderRow",...i.split(" ").filter(a=>a!=="rdt_TableRow")].join(" ");return y.createElement(w8,{className:s,$extendedRowStyle:r},y.createElement(e,Object.assign({data:t},n)))});const gp="allowRowEvents";var Md,dg,ex;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(Md||(Md={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"}(dg||(dg={})),function(t){t.SM="sm",t.MD="md",t.LG="lg"}(ex||(ex={}));const _8=it`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,S8=it`
	&:hover {
		cursor: pointer;
	}
`,k8=oe.div.attrs(t=>({style:t.style}))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&_8};
	${({$pointerOnHover:t})=>t&&S8};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function C8({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:i=!1,expandableIcon:s,expandableRows:a=!1,expandableRowsComponent:c,expandableRowsComponentProps:o,expandableRowsHideExpander:u,expandOnRowClicked:d=!1,expandOnRowDoubleClicked:h=!1,highlightOnHover:f=!1,id:g,expandableInheritConditionalStyles:w,keyField:b,onRowClicked:x=et,onRowDoubleClicked:m=et,onRowMouseEnter:p=et,onRowMouseLeave:v=et,onRowExpandToggled:_=et,onSelectedRow:k=et,pointerOnHover:C=!1,row:S,rowCount:E,rowIndex:T,selectableRowDisabled:N=null,selectableRows:L=!1,selectableRowsComponent:z,selectableRowsComponentProps:se,selectableRowsHighlight:H=!1,selectableRowsSingle:Ce=!1,selected:st,striped:Xe=!1,draggingColumnId:A,onDragStart:V,onDragOver:K,onDragEnd:ue,onDragEnter:ne,onDragLeave:M}){const[G,de]=y.useState(n);y.useEffect(()=>{de(n)},[n]);const q=y.useCallback(()=>{de(!G),_(!G,S)},[G,_,S]),ae=C||a&&(d||h),pn=y.useCallback(Ze=>{Ze.target.getAttribute("data-tag")===gp&&(x(S,Ze),!r&&a&&d&&q())},[r,d,a,q,x,S]),W=y.useCallback(Ze=>{Ze.target.getAttribute("data-tag")===gp&&(m(S,Ze),!r&&a&&h&&q())},[r,h,a,q,m,S]),he=y.useCallback(Ze=>{p(S,Ze)},[p,S]),fe=y.useCallback(Ze=>{v(S,Ze)},[v,S]),_e=Na(S,b),{conditionalStyle:Or,classNames:oc}=Mj(S,e,["rdt_TableRow"]),af=H&&st,of=w?Or:{},lf=Xe&&T%2==0;return y.createElement(y.Fragment,null,y.createElement(k8,{id:`row-${g}`,role:"row",$striped:lf,$highlightOnHover:f,$pointerOnHover:!r&&ae,$dense:i,onClick:pn,onDoubleClick:W,onMouseEnter:he,onMouseLeave:fe,className:oc,$selected:af,$conditionalStyle:Or},L&&y.createElement(m8,{name:`select-row-${_e}`,keyField:b,row:S,rowCount:E,selected:st,selectableRowsComponent:z,selectableRowsComponentProps:se,selectableRowDisabled:N,selectableRowsSingle:Ce,onSelectedRow:k}),a&&!u&&y.createElement(y8,{id:_e,expandableIcon:s,expanded:G,row:S,onToggled:q,disabled:r}),t.map(Ze=>Ze.omit?null:y.createElement(f8,{id:`cell-${Ze.id}-${_e}`,key:`cell-${Ze.id}-${_e}`,dataTag:Ze.ignoreRowClick||Ze.button?null:gp,column:Ze,row:S,rowIndex:T,isDragging:Mo(A,Ze.id),onDragStart:V,onDragOver:K,onDragEnd:ue,onDragEnter:ne,onDragLeave:M}))),a&&G&&y.createElement(x8,{key:`expander-${_e}`,data:S,extendedRowStyle:of,extendedClassNames:oc,ExpanderComponent:c,expanderComponentProps:o}))}const E8=oe.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,N8=({sortActive:t,sortDirection:e})=>Y.createElement(E8,{$sortActive:t,$sortDirection:e},"▲"),j8=oe(Uj)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,T8=it`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&it`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,I8=oe.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&T8};
`,R8=oe.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var O8=y.memo(function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:i,sortIcon:s,sortServer:a,pagination:c,paginationServer:o,persistSelectedOnSort:u,selectableRowsVisibleOnly:d,onSort:h,onDragStart:f,onDragOver:g,onDragEnd:w,onDragEnter:b,onDragLeave:x}){y.useEffect(()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)},[]);const[m,p]=y.useState(!1),v=y.useRef(null);if(y.useEffect(()=>{v.current&&p(v.current.scrollWidth>v.current.clientWidth)},[m]),t.omit)return null;const _=()=>{if(!t.sortable&&!t.selector)return;let se=i;Mo(r.id,t.id)&&(se=i===ci.ASC?ci.DESC:ci.ASC),h({type:"SORT_CHANGE",sortDirection:se,selectedColumn:t,clearSelectedOnSort:c&&o&&!u||a||d})},k=se=>y.createElement(N8,{sortActive:se,sortDirection:i}),C=()=>y.createElement("span",{className:[i,"__rdt_custom_sort_icon__"].join(" ")},s),S=!(!t.sortable||!Mo(r.id,t.id)),E=!t.sortable||e,T=t.sortable&&!s&&!t.right,N=t.sortable&&!s&&t.right,L=t.sortable&&s&&!t.right,z=t.sortable&&s&&t.right;return y.createElement(j8,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Mo(t.id,n),onDragStart:f,onDragOver:g,onDragEnd:w,onDragEnter:b,onDragLeave:x},t.name&&y.createElement(I8,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:E?void 0:_,onKeyPress:E?void 0:se=>{se.key==="Enter"&&_()},$sortActive:!E&&S,disabled:E},!E&&z&&C(),!E&&N&&k(S),typeof t.name=="string"?y.createElement(R8,{title:m?t.name:void 0,ref:v,"data-column-id":t.id},t.name):t.name,!E&&L&&C(),!E&&T&&k(S)))});const A8=oe(za)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function P8({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:i,selectedRows:s,selectableRowsComponent:a,selectableRowsComponentProps:c,selectableRowDisabled:o,onSelectAllRows:u}){const d=s.length>0&&!r,h=o?e.filter(w=>!o(w)):e,f=h.length===0,g=Math.min(e.length,h.length);return y.createElement(A8,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},y.createElement($j,{name:"select-all-rows",component:a,componentOptions:c,onClick:()=>{u({type:"SELECT_ALL_ROWS",rows:h,rowCount:g,mergeSelections:i,keyField:n})},checked:r,indeterminate:d,disabled:f}))}function Vj(t=Md.AUTO){const e=typeof window=="object",[n,r]=y.useState(!1);return y.useEffect(()=>{if(e)if(t!=="auto")r(t==="rtl");else{const i=!(!window.document||!window.document.createElement),s=document.getElementsByTagName("BODY")[0],a=document.getElementsByTagName("HTML")[0],c=s.dir==="rtl"||a.dir==="rtl";r(i&&c)}},[t,e]),n}const D8=oe.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,L8=oe.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,tx=oe.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function M8({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:i}){const s=Vj(i),a=r>0;return n?y.createElement(tx,{$visible:a},y.cloneElement(n,{selectedCount:r})):y.createElement(tx,{$visible:a,$rtl:s},y.createElement(D8,null,((c,o,u)=>{if(o===0)return null;const d=o===1?c.singular:c.plural;return u?`${o} ${c.message||""} ${d}`:`${o} ${d} ${c.message||""}`})(t,r,s)),y.createElement(L8,null,e))}const F8=oe.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,U8=oe.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,$8=oe.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,V8=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:i,selectedCount:s,direction:a,showMenu:c=!0})=>y.createElement(F8,{className:"rdt_TableHeader",role:"heading","aria-level":1},y.createElement(U8,null,t),e&&y.createElement($8,null,e),c&&y.createElement(M8,{contextMessage:n,contextActions:r,contextComponent:i,direction:a,selectedCount:s}));function zj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const z8={left:"flex-start",right:"flex-end",center:"center"},B8=oe.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>z8[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,H8=t=>{var{align:e="right",wrapContent:n=!0}=t,r=zj(t,["align","wrapContent"]);return y.createElement(B8,Object.assign({align:e,$wrapContent:n},r))},q8=oe.div`
	display: flex;
	flex-direction: column;
`,W8=oe.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&it`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&it`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,nx=oe.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,G8=oe.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,K8=oe(za)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,Q8=oe.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,Y8=()=>Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Y.createElement("path",{d:"M7 10l5 5 5-5z"}),Y.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),J8=oe.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,X8=oe.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,Z8=t=>{var{defaultValue:e,onChange:n}=t,r=zj(t,["defaultValue","onChange"]);return y.createElement(X8,null,y.createElement(J8,Object.assign({onChange:n,defaultValue:e},r)),y.createElement(Y8,null))},O={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return Y.createElement("div",null,"To add an expander pass in a component instance via ",Y.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:Y.createElement(()=>Y.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),Y.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"})),null),expanded:Y.createElement(()=>Y.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),Y.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"})),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:Y.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:Y.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:dg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:Y.createElement(()=>Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Y.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),Y.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"})),null),paginationIconLastPage:Y.createElement(()=>Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Y.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),Y.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),null),paginationIconNext:Y.createElement(()=>Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Y.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),Y.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),paginationIconPrevious:Y.createElement(()=>Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},Y.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),Y.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:Md.AUTO,onChangePage:et,onChangeRowsPerPage:et,onRowClicked:et,onRowDoubleClicked:et,onRowMouseEnter:et,onRowMouseLeave:et,onRowExpandToggled:et,onSelectedRowsChange:et,onSort:et,onColumnOrderChange:et},eV={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},tV=oe.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,Bc=oe.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,nV=oe.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${Fj`
    width: 100%;
    justify-content: space-around;
  `};
`,Bj=oe.span`
	flex-shrink: 1;
	user-select: none;
`,rV=oe(Bj)`
	margin: 0 24px;
`,iV=oe(Bj)`
	margin: 0 4px;
`;var sV=y.memo(function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=O.direction,paginationRowsPerPageOptions:i=O.paginationRowsPerPageOptions,paginationIconLastPage:s=O.paginationIconLastPage,paginationIconFirstPage:a=O.paginationIconFirstPage,paginationIconNext:c=O.paginationIconNext,paginationIconPrevious:o=O.paginationIconPrevious,paginationComponentOptions:u=O.paginationComponentOptions,onChangeRowsPerPage:d=O.onChangeRowsPerPage,onChangePage:h=O.onChangePage}){const f=(()=>{const se=typeof window=="object";function H(){return{width:se?window.innerWidth:void 0,height:se?window.innerHeight:void 0}}const[Ce,st]=y.useState(H);return y.useEffect(()=>{if(!se)return()=>null;function Xe(){st(H())}return window.addEventListener("resize",Xe),()=>window.removeEventListener("resize",Xe)},[]),Ce})(),g=Vj(r),w=f.width&&f.width>599,b=Lo(e,t),x=n*t,m=x-t+1,p=n===1,v=n===b,_=Object.assign(Object.assign({},eV),u),k=n===b?`${m}-${e} ${_.rangeSeparatorText} ${e}`:`${m}-${x} ${_.rangeSeparatorText} ${e}`,C=y.useCallback(()=>h(n-1),[n,h]),S=y.useCallback(()=>h(n+1),[n,h]),E=y.useCallback(()=>h(1),[h]),T=y.useCallback(()=>h(Lo(e,t)),[h,e,t]),N=y.useCallback(se=>d(Number(se.target.value),n),[n,d]),L=i.map(se=>y.createElement("option",{key:se,value:se},se));_.selectAllRowsItem&&L.push(y.createElement("option",{key:-1,value:e},_.selectAllRowsItemText));const z=y.createElement(Z8,{onChange:N,defaultValue:t,"aria-label":_.rowsPerPageText},L);return y.createElement(tV,{className:"rdt_Pagination"},!_.noRowsPerPage&&w&&y.createElement(y.Fragment,null,y.createElement(iV,null,_.rowsPerPageText),z),w&&y.createElement(rV,null,k),y.createElement(nV,null,y.createElement(Bc,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":p,onClick:E,disabled:p,$isRTL:g},a),y.createElement(Bc,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":p,onClick:C,disabled:p,$isRTL:g},o),!_.noRowsPerPage&&!w&&z,y.createElement(Bc,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":v,onClick:S,disabled:v,$isRTL:g},c),y.createElement(Bc,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":v,onClick:T,disabled:v,$isRTL:g},s)))});const Oi=(t,e)=>{const n=y.useRef(!0);y.useEffect(()=>{n.current?n.current=!1:t()},e)};function aV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oV=function(t){return function(e){return!!e&&typeof e=="object"}(t)&&!function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===lV}(e)}(t)},lV=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function El(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ja((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function cV(t,e,n){return t.concat(e).map(function(r){return El(r,n)})}function rx(t){return Object.keys(t).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return Object.propertyIsEnumerable.call(e,n)}):[]}(t))}function ix(t,e){try{return e in t}catch{return!1}}function uV(t,e,n){var r={};return n.isMergeableObject(t)&&rx(t).forEach(function(i){r[i]=El(t[i],n)}),rx(e).forEach(function(i){(function(s,a){return ix(s,a)&&!(Object.hasOwnProperty.call(s,a)&&Object.propertyIsEnumerable.call(s,a))})(t,i)||(ix(t,i)&&n.isMergeableObject(e[i])?r[i]=function(s,a){if(!a.customMerge)return ja;var c=a.customMerge(s);return typeof c=="function"?c:ja}(i,n)(t[i],e[i],n):r[i]=El(e[i],n))}),r}function ja(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||cV,n.isMergeableObject=n.isMergeableObject||oV,n.cloneUnlessOtherwiseSpecified=El;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):uV(t,e,n):El(e,n)}ja.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return ja(n,r,e)},{})};var dV=aV(ja);const sx={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},ax={default:sx,light:sx,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function hV(t,e,n,r){const[i,s]=y.useState(()=>X1(t)),[a,c]=y.useState(""),o=y.useRef("");Oi(()=>{s(X1(t))},[t]);const u=y.useCallback(x=>{var m,p,v;const{attributes:_}=x.target,k=(m=_.getNamedItem("data-column-id"))===null||m===void 0?void 0:m.value;k&&(o.current=((v=(p=i[zc(i,k)])===null||p===void 0?void 0:p.id)===null||v===void 0?void 0:v.toString())||"",c(o.current))},[i]),d=y.useCallback(x=>{var m;const{attributes:p}=x.target,v=(m=p.getNamedItem("data-column-id"))===null||m===void 0?void 0:m.value;if(v&&o.current&&v!==o.current){const _=zc(i,o.current),k=zc(i,v),C=[...i];C[_]=i[k],C[k]=i[_],s(C),e(C)}},[e,i]),h=y.useCallback(x=>{x.preventDefault()},[]),f=y.useCallback(x=>{x.preventDefault()},[]),g=y.useCallback(x=>{x.preventDefault(),o.current="",c("")},[]),w=function(x=!1){return x?ci.ASC:ci.DESC}(r),b=y.useMemo(()=>i[zc(i,n==null?void 0:n.toString())]||{},[n,i]);return{tableColumns:i,draggingColumnId:a,handleDragStart:u,handleDragEnter:d,handleDragOver:h,handleDragLeave:f,handleDragEnd:g,defaultSortDirection:w,defaultSortColumn:b}}var fV=y.memo(function(t){const{data:e=O.data,columns:n=O.columns,title:r=O.title,actions:i=O.actions,keyField:s=O.keyField,striped:a=O.striped,highlightOnHover:c=O.highlightOnHover,pointerOnHover:o=O.pointerOnHover,dense:u=O.dense,selectableRows:d=O.selectableRows,selectableRowsSingle:h=O.selectableRowsSingle,selectableRowsHighlight:f=O.selectableRowsHighlight,selectableRowsNoSelectAll:g=O.selectableRowsNoSelectAll,selectableRowsVisibleOnly:w=O.selectableRowsVisibleOnly,selectableRowSelected:b=O.selectableRowSelected,selectableRowDisabled:x=O.selectableRowDisabled,selectableRowsComponent:m=O.selectableRowsComponent,selectableRowsComponentProps:p=O.selectableRowsComponentProps,onRowExpandToggled:v=O.onRowExpandToggled,onSelectedRowsChange:_=O.onSelectedRowsChange,expandableIcon:k=O.expandableIcon,onChangeRowsPerPage:C=O.onChangeRowsPerPage,onChangePage:S=O.onChangePage,paginationServer:E=O.paginationServer,paginationServerOptions:T=O.paginationServerOptions,paginationTotalRows:N=O.paginationTotalRows,paginationDefaultPage:L=O.paginationDefaultPage,paginationResetDefaultPage:z=O.paginationResetDefaultPage,paginationPerPage:se=O.paginationPerPage,paginationRowsPerPageOptions:H=O.paginationRowsPerPageOptions,paginationIconLastPage:Ce=O.paginationIconLastPage,paginationIconFirstPage:st=O.paginationIconFirstPage,paginationIconNext:Xe=O.paginationIconNext,paginationIconPrevious:A=O.paginationIconPrevious,paginationComponent:V=O.paginationComponent,paginationComponentOptions:K=O.paginationComponentOptions,responsive:ue=O.responsive,progressPending:ne=O.progressPending,progressComponent:M=O.progressComponent,persistTableHead:G=O.persistTableHead,noDataComponent:de=O.noDataComponent,disabled:q=O.disabled,noTableHead:ae=O.noTableHead,noHeader:pn=O.noHeader,fixedHeader:W=O.fixedHeader,fixedHeaderScrollHeight:he=O.fixedHeaderScrollHeight,pagination:fe=O.pagination,subHeader:_e=O.subHeader,subHeaderAlign:Or=O.subHeaderAlign,subHeaderWrap:oc=O.subHeaderWrap,subHeaderComponent:af=O.subHeaderComponent,noContextMenu:of=O.noContextMenu,contextMessage:lf=O.contextMessage,contextActions:Ze=O.contextActions,contextComponent:n2=O.contextComponent,expandableRows:lc=O.expandableRows,onRowClicked:ty=O.onRowClicked,onRowDoubleClicked:ny=O.onRowDoubleClicked,onRowMouseEnter:ry=O.onRowMouseEnter,onRowMouseLeave:iy=O.onRowMouseLeave,sortIcon:r2=O.sortIcon,onSort:i2=O.onSort,sortFunction:sy=O.sortFunction,sortServer:cf=O.sortServer,expandableRowsComponent:s2=O.expandableRowsComponent,expandableRowsComponentProps:a2=O.expandableRowsComponentProps,expandableRowDisabled:ay=O.expandableRowDisabled,expandableRowsHideExpander:oy=O.expandableRowsHideExpander,expandOnRowClicked:o2=O.expandOnRowClicked,expandOnRowDoubleClicked:l2=O.expandOnRowDoubleClicked,expandableRowExpanded:ly=O.expandableRowExpanded,expandableInheritConditionalStyles:c2=O.expandableInheritConditionalStyles,defaultSortFieldId:u2=O.defaultSortFieldId,defaultSortAsc:d2=O.defaultSortAsc,clearSelectedRows:cy=O.clearSelectedRows,conditionalRowStyles:h2=O.conditionalRowStyles,theme:uy=O.theme,customStyles:dy=O.customStyles,direction:Ha=O.direction,onColumnOrderChange:f2=O.onColumnOrderChange,className:p2}=t,{tableColumns:hy,draggingColumnId:fy,handleDragStart:py,handleDragEnter:my,handleDragOver:gy,handleDragLeave:by,handleDragEnd:vy,defaultSortDirection:m2,defaultSortColumn:g2}=hV(n,f2,u2,d2),[{rowsPerPage:Ar,currentPage:En,selectedRows:uf,allSelected:yy,selectedCount:wy,selectedColumn:Vn,sortDirection:ks,toggleOnSelectedRowsChange:b2},Ni]=y.useReducer(n8,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:g2,toggleOnSelectedRowsChange:!1,sortDirection:m2,currentPage:L,rowsPerPage:se,selectedRowsFlag:!1,contextMessage:O.contextMessage}),{persistSelectedOnSort:xy=!1,persistSelectedOnPageChange:cc=!1}=T,_y=!(!E||!cc&&!xy),v2=fe&&!ne&&e.length>0,y2=V||sV,w2=y.useMemo(()=>((J={},ye="default",Dt="default")=>{const Nn=ax[ye]?ye:Dt;return dV({table:{style:{color:(X=ax[Nn]).text.primary,backgroundColor:X.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:X.text.primary,backgroundColor:X.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:X.background.default,minHeight:"52px"}},head:{style:{color:X.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:X.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:X.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:X.context.background,fontSize:"18px",fontWeight:400,color:X.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:X.text.primary,backgroundColor:X.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:X.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:X.selected.text,backgroundColor:X.selected.default,borderBottomColor:X.background.default}},highlightOnHoverStyle:{color:X.highlightOnHover.text,backgroundColor:X.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:X.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:X.background.default},stripedStyle:{color:X.striped.text,backgroundColor:X.striped.default}},expanderRow:{style:{color:X.text.primary,backgroundColor:X.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:X.button.default,fill:X.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:X.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:X.button.hover},"&:focus":{outline:"none",backgroundColor:X.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:X.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:X.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:X.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:X.button.default,fill:X.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:X.button.disabled,fill:X.button.disabled},"&:hover:not(:disabled)":{backgroundColor:X.button.hover},"&:focus":{outline:"none",backgroundColor:X.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:X.text.primary,backgroundColor:X.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:X.text.primary,backgroundColor:X.background.default}}},J);var X})(dy,uy),[dy,uy]),x2=y.useMemo(()=>Object.assign({},Ha!=="auto"&&{dir:Ha}),[Ha]),St=y.useMemo(()=>{if(cf)return e;if(Vn!=null&&Vn.sortFunction&&typeof Vn.sortFunction=="function"){const J=Vn.sortFunction,ye=ks===ci.ASC?J:(Dt,Nn)=>-1*J(Dt,Nn);return[...e].sort(ye)}return function(J,ye,Dt,Nn){return ye?Nn&&typeof Nn=="function"?Nn(J.slice(0),ye,Dt):J.slice(0).sort((X,df)=>{const Es=ye(X),Pr=ye(df);if(Dt==="asc"){if(Es<Pr)return-1;if(Es>Pr)return 1}if(Dt==="desc"){if(Es>Pr)return-1;if(Es<Pr)return 1}return 0}):J}(e,Vn==null?void 0:Vn.selector,ks,sy)},[cf,Vn,ks,e,sy]),qa=y.useMemo(()=>{if(fe&&!E){const J=En*Ar,ye=J-Ar;return St.slice(ye,J)}return St},[En,fe,E,Ar,St]),_2=y.useCallback(J=>{Ni(J)},[]),S2=y.useCallback(J=>{Ni(J)},[]),k2=y.useCallback(J=>{Ni(J)},[]),C2=y.useCallback((J,ye)=>ty(J,ye),[ty]),E2=y.useCallback((J,ye)=>ny(J,ye),[ny]),N2=y.useCallback((J,ye)=>ry(J,ye),[ry]),j2=y.useCallback((J,ye)=>iy(J,ye),[iy]),Cs=y.useCallback(J=>Ni({type:"CHANGE_PAGE",page:J,paginationServer:E,visibleOnly:w,persistSelectedOnPageChange:cc}),[E,cc,w]),T2=y.useCallback(J=>{const ye=Lo(N||qa.length,J),Dt=mp(En,ye);E||Cs(Dt),Ni({type:"CHANGE_ROWS_PER_PAGE",page:Dt,rowsPerPage:J})},[En,Cs,E,N,qa.length]);if(fe&&!E&&St.length>0&&qa.length===0){const J=Lo(St.length,Ar),ye=mp(En,J);Cs(ye)}Oi(()=>{_({allSelected:yy,selectedCount:wy,selectedRows:uf.slice(0)})},[b2]),Oi(()=>{i2(Vn,ks,St.slice(0))},[Vn,ks]),Oi(()=>{S(En,N||St.length)},[En]),Oi(()=>{C(Ar,En)},[Ar]),Oi(()=>{Cs(L)},[L,z]),Oi(()=>{if(fe&&E&&N>0){const J=Lo(N,Ar),ye=mp(En,J);En!==ye&&Cs(ye)}},[N]),y.useEffect(()=>{Ni({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:cy})},[h,cy]),y.useEffect(()=>{if(!b)return;const J=St.filter(Dt=>b(Dt)),ye=h?J.slice(0,1):J;Ni({type:"SELECT_MULTIPLE_ROWS",keyField:s,selectedRows:ye,totalRows:St.length,mergeSelections:_y})},[e,b]);const I2=w?qa:St,R2=cc||h||g;return y.createElement(X$,{theme:w2},!pn&&(!!r||!!i)&&y.createElement(V8,{title:r,actions:i,showMenu:!of,selectedCount:wy,direction:Ha,contextActions:Ze,contextComponent:n2,contextMessage:lf}),_e&&y.createElement(H8,{align:Or,wrapContent:oc},af),y.createElement(W8,Object.assign({$responsive:ue,$fixedHeader:W,$fixedHeaderScrollHeight:he,className:p2},x2),y.createElement(G8,null,ne&&!G&&y.createElement(nx,null,M),y.createElement(i8,{disabled:q,className:"rdt_Table",role:"table"},!ae&&(!!G||St.length>0&&!ne)&&y.createElement(a8,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:W},y.createElement(o8,{className:"rdt_TableHeadRow",role:"row",$dense:u},d&&(R2?y.createElement(za,{style:{flex:"0 0 48px"}}):y.createElement(P8,{allSelected:yy,selectedRows:uf,selectableRowsComponent:m,selectableRowsComponentProps:p,selectableRowDisabled:x,rowData:I2,keyField:s,mergeSelections:_y,onSelectAllRows:S2})),lc&&!oy&&y.createElement(K8,null),hy.map(J=>y.createElement(O8,{key:J.id,column:J,selectedColumn:Vn,disabled:ne||St.length===0,pagination:fe,paginationServer:E,persistSelectedOnSort:xy,selectableRowsVisibleOnly:w,sortDirection:ks,sortIcon:r2,sortServer:cf,onSort:_2,onDragStart:py,onDragOver:gy,onDragEnd:vy,onDragEnter:my,onDragLeave:by,draggingColumnId:fy})))),!St.length&&!ne&&y.createElement(Q8,null,de),ne&&G&&y.createElement(nx,null,M),!ne&&St.length>0&&y.createElement(q8,{className:"rdt_TableBody",role:"rowgroup"},qa.map((J,ye)=>{const Dt=Na(J,s),Nn=function(Pr=""){return typeof Pr!="number"&&(!Pr||Pr.length===0)}(Dt)?ye:Dt,X=Tu(J,uf,s),df=!!(lc&&ly&&ly(J)),Es=!!(lc&&ay&&ay(J));return y.createElement(C8,{id:Nn,key:Nn,keyField:s,"data-row-id":Nn,columns:hy,row:J,rowCount:St.length,rowIndex:ye,selectableRows:d,expandableRows:lc,expandableIcon:k,highlightOnHover:c,pointerOnHover:o,dense:u,expandOnRowClicked:o2,expandOnRowDoubleClicked:l2,expandableRowsComponent:s2,expandableRowsComponentProps:a2,expandableRowsHideExpander:oy,defaultExpanderDisabled:Es,defaultExpanded:df,expandableInheritConditionalStyles:c2,conditionalRowStyles:h2,selected:X,selectableRowsHighlight:f,selectableRowsComponent:m,selectableRowsComponentProps:p,selectableRowDisabled:x,selectableRowsSingle:h,striped:a,onRowExpandToggled:v,onRowClicked:C2,onRowDoubleClicked:E2,onRowMouseEnter:N2,onRowMouseLeave:j2,onSelectedRow:k2,draggingColumnId:fy,onDragStart:py,onDragOver:gy,onDragEnd:vy,onDragEnter:my,onDragLeave:by})}))))),v2&&y.createElement("div",null,y.createElement(y2,{onChangePage:Cs,onChangeRowsPerPage:T2,rowCount:N||St.length,currentPage:En,rowsPerPage:Ar,direction:Ha,paginationRowsPerPageOptions:H,paginationIconLastPage:Ce,paginationIconFirstPage:st,paginationIconNext:Xe,paginationIconPrevious:A,paginationComponentOptions:K})))});function Ba(t){return l.jsx(fV,{pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,15,20,25],noDataComponent:"No hay información para mostrar.",striped:!0,fixedHeader:!0,fixedHeaderScrollHeight:"80vh",responsive:!0,...t})}function pV(t){return l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":`#ver-${t.curso.id}`,children:l.jsx(dj,{})}),l.jsx("div",{className:"modal fade",id:`ver-${t.curso.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-lg",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h1",{className:"modal-title fs-5",children:`Información del Curso: ${t.curso.nombre}`}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),l.jsx("div",{className:"modal-body text-start",children:l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col",style:{width:"50%",height:"auto"},children:l.jsx("img",{src:t.curso.download_url,alt:"Imagen",style:{width:"100%",height:"100%"}})}),l.jsxs("div",{className:"col",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Nombre:"})," ",t.curso.nombre]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Descripción:"})," ",t.curso.descripcion]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Modalidad:"})," ",zN(t.curso.modalidad)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Fecha de Inicio:"})," ",t.curso.fecha_inicio instanceof be?t.curso.fecha_inicio.toDate().toLocaleDateString():""]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Fecha de Fin:"})," ",t.curso.fecha_finalizacion instanceof be?t.curso.fecha_finalizacion.toDate().toLocaleDateString():""]}),t.curso.link_plataforma&&l.jsxs("p",{children:[l.jsx("strong",{children:"Link del Curso:"})," ",l.jsx("a",{href:t.curso.link_plataforma,target:"_blank",rel:"noopener noreferrer",children:t.curso.link_plataforma})]}),l.jsx("p",{children:l.jsx("strong",{children:"Horario:"})}),l.jsx("ul",{children:t.curso.horario.map((e,n)=>l.jsxs("li",{children:[e.dia,": ",e.hora]},n))})]})]})}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"})})]})})})]})}function mV(){const[t,e]=y.useState([]),[n,r]=y.useState(!1),[i,s]=y.useState(void 0),[a,c]=y.useState(""),o=Ei(h9),u=je();y.useEffect(()=>{(async()=>await u(ir()))()},[u]),y.useEffect(()=>{r(o.loading),s(o.error),!o.loading&&!o.error&&e(o.cursos)},[o]);function d(m){const p=m.estado===0?1:0;rt(`/Cursos/${m.id}`,{estado:p}),u(d9(m.id));const v=p===0?0:m.estado;rt(`/Cursos/${m.id}`,{visible:parseInt(v)}),u(E1({cursoId:m.id,visible:v}))}function h(m,p){rt(`/Cursos/${p.id}`,{visible:parseInt(m.target.value)}),u(E1({cursoId:p.id,visible:parseInt(m.target.value)}))}const f=[{name:"Nombre",selector:m=>m.nombre,sortable:!0},{name:"Horario",cell:m=>l.jsx("div",{className:"text-start",children:m.horario.map((p,v)=>l.jsxs("div",{children:[p.dia,": ",p.hora]},v))}),sortable:!0},{name:"Modalidad",selector:m=>zN(m.modalidad),sortable:!0},{name:"Estado",cell:m=>l.jsx("div",{className:"form-check form-switch",children:l.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",checked:m.estado,onChange:()=>d(m)})}),width:"5vw"},{name:"Visibilidad",cell:m=>l.jsxs("select",{id:"visible",className:"form-select",name:"visible",value:m.visible,onChange:p=>h(p,m),disabled:m.estado===0,required:!0,children:[l.jsx("option",{disabled:!0,value:"",children:"Selecciona donde será visible el curso"}),l.jsx("option",{value:1,children:"Sección de Matrícula"}),l.jsx("option",{value:2,children:"Sección de Próximamente"}),l.jsx("option",{value:0,children:"No visible"})]}),width:"15vw"},{name:"Ver",cell:m=>l.jsx(pV,{curso:m}),width:"5vw"},{name:"Editar",cell:m=>l.jsx(M1,{id:`course-section-modal-edit-${m.id}`,titulo:`Editar Curso: ${m.nombre}`,nombreButton:l.jsx(uj,{}),styleButton:"btn btn-warning",submitButton:"Guardar Cambios",curso:m}),width:"5vw"},{name:"Eliminar",cell:m=>l.jsx(JU,{id:m.id,image_url:m.image_url}),width:"6vw"}],g=fn(),w=me(m=>m.auth.user),b=me(m=>m.auth.loggedIn);console.log("Conectado: ",b),y.useEffect(()=>{!b&&!w&&g("/")},[b,w,g]);const x=()=>{g("/Cursos")};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"d-flex align-items-center",children:l.jsxs("button",{className:"btn btn-outline-primary me-2",onClick:x,children:[l.jsx(lj,{})," Volver"]})}),l.jsx("div",{style:{top:"18%",left:"10%",right:"10%",bottom:"10%"},children:l.jsx("h2",{className:"text-secondary mb-0 pt-3 ps-2",children:"Gestión de Cursos"})}),l.jsxs("div",{className:"alert alert-info mt-3",role:"alert",children:[l.jsx("strong",{children:"Nota:"})," El ",l.jsx("strong",{children:l.jsx("em",{children:"Estado"})})," si se encuentra activado, se podrá seleccionar la ",l.jsx("strong",{children:"Visibilidad"})," del curso entre: ",l.jsx("em",{children:"Sección de Matrícula, Sección de Próximamente y No Visible."})," Si el ",l.jsx("strong",{children:l.jsx("em",{children:"Estado"})})," se encuentra inactivo la  ",l.jsx("strong",{children:"Visibilidad "})," del curso se encontrará ",l.jsx("em",{children:"No Visible."})]}),l.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[l.jsx("div",{className:"d-flex",children:l.jsx(M1,{id:"course-section-modal-add",titulo:"Crear un Nuevo Curso",nombreButton:"Crear un Nuevo Curso",styleButton:"btn btn-success py-0 ms-2 mt-3 shadow-lg",submitButton:"Crear Curso",curso:null})}),l.jsx("div",{className:"col-3",children:l.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 me-2 border border-primary shadow-lg",placeholder:"Filtrar por Nombre",value:a,onChange:m=>c(m.target.value)})})]}),l.jsx("div",{children:l.jsx(Ba,{columns:f,data:t})})]})}const gV=()=>{const t=Ei($N),e=je(),n={titulo:t.head.titulo_principal,subtitulo:t.head.subtitulo_principal},[r,i]=y.useState(n),[s,a]=y.useState(),c=()=>{i(n)},o=h=>{i({...r,[h.target.name]:h.target.value})},u=h=>{a(h.target.files[0]),o(h)},d=async()=>{let h=t.head.download_url_principal;s!=null&&(h=await Sn(s,"/Empresa/Principal/imagen_principal"));const f={titulo_principal:r.titulo,subtitulo_principal:r.subtitulo,download_url_principal:h,image_principal_url:t.head.image_principal_url};await rt("/Empresa/ZktZQqsBnqVVoL4dfRHv",f),e(XF(f)),zt("toast-update")};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center rounded mb-5",children:[l.jsx("img",{src:t.head.download_url_principal,className:"img-fluid"}),l.jsx("h1",{className:"display-1 text-black",children:t.head.titulo_principal}),l.jsx("h3",{className:"display-6 text-black",children:t.head.subtitulo_principal}),l.jsx("button",{type:"button",className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"Actualizar Inicio"})]}),l.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-xl",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header border-0",children:[l.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-add",children:"Actualizar Inicio"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:c})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"form-row text-black",children:[l.jsx("label",{className:"form-label",htmlFor:"title-about-add",children:"Título"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-about-add",name:"titulo",value:r.titulo,onChange:h=>o(h)}),l.jsx("label",{className:"form-label",htmlFor:"subtitle-about-add",children:"Subtitulo"}),l.jsx("textarea",{className:"form-control rounded-0 ",id:"subtitle-about-add",name:"subtitulo",value:r.subtitulo,onChange:h=>o(h)}),l.jsx("label",{className:"form-label",htmlFor:"uploadImage-add",children:"Subir imagen"}),l.jsx("input",{className:"form-control",id:"uploadImage-add",name:"image_url",type:"file",onChange:h=>u(h)})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:c,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>d(),children:"Guardar Cambios"})]})]})})}),l.jsx(Vt,{id:"toast-update",message:"¡Se ha actualizado con éxito la sección principal!",title:"Seccion Principal"})]})},ox=t=>{const[e,n]=y.useState(void 0),r={id:t.id,posicion_id:t.posicion_id,titulo:t.titulo,subtitulo:t.subtitulo,descripcion:t.descripcion,estado:t.estado,image_url:t.image_url,download_url:t.download_url},[i,s]=y.useState(r),a=je(),c=h=>{s({...i,[h.target.name]:h.target.value})},o=()=>{s(r)},u=h=>{h.target.files[0]!=null?n(h.target.files[0]):n(void 0)},d=async()=>{let h;e!=null?h=await Sn(e,i.image_url):h=r.download_url;let f={posicion_id:i.posicion_id,titulo:i.titulo,subtitulo:i.subtitulo,descripcion:i.descripcion,estado:1,image_url:i.image_url,download_url:h};await rt(`/Empresa/ZktZQqsBnqVVoL4dfRHv/secciones/${i.id}`,f),f={...f,id:t.id},a(e9(f)),zt("edit-modal-section")};return l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-outline-warning mb-1 btn-sm","data-bs-toggle":"modal","data-bs-target":`#${t.id}`,children:"Editar"}),l.jsx("div",{className:"modal fade",id:t.id,"data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-xl",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header border-0",children:[l.jsx("h1",{className:"modal-title fs-5 text-black",id:`title-modal-${t.id}`,children:"Editar"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>o()})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"form-row text-black",children:[l.jsx("label",{className:"form-label",htmlFor:"title-about-adsSection",children:"Título"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:`title-about-${t.id}`,name:"titulo",value:i.titulo,onChange:h=>c(h)}),l.jsx("label",{className:"form-label",htmlFor:`subtitle-about-${t.id}`,children:"Subtítulo"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:`subtitle-about-${t.id}`,name:"subtitulo",value:i.subtitulo,onChange:h=>c(h)}),l.jsx("label",{className:"form-label",htmlFor:`description-about-${t.id}`,children:"Descripción"}),l.jsx("textarea",{className:"form-control rounded-0 ",id:`description-about-${t.id}`,name:"descripcion",value:i.descripcion,rows:10,onChange:h=>c(h)}),l.jsx("label",{className:"form-label",htmlFor:`uploadImage-${t.id}`,children:"Subir imagen"}),l.jsx("input",{className:"form-control mb-3",id:`uploadImage-${t.id}`,name:"image_url",type:"file",onChange:h=>u(h)}),l.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>s({...i,posicion_id:1})})," Izquierda"]}),l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>s({...i,posicion_id:2})})," Derecha"]})]})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>o(),children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>d(),children:"Guardar Cambios"})]})]})})}),l.jsx(Vt,{id:"edit-modal-section",message:"¡Se ha editado con éxito la sección!",title:"Seccion de avisos - Editar"})]})},lx=t=>{const e=je(),n=async()=>{await Jh(`/Empresa/ZktZQqsBnqVVoL4dfRHv/secciones/${t.id}`),await Xh(t.image_url),e(t9(t)),zt("delete-modal-section")};return l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm","data-bs-toggle":"modal","data-bs-target":`#ad-section-modal-delete${t.id}`,children:"Eliminar"}),l.jsx("div",{className:"modal fade",id:`ad-section-modal-delete${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"Eliminar"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),l.jsx("div",{className:"modal-body",children:"¿Estás seguro que desea eliminar está sección?"}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:()=>n(),children:"Aceptar"})]})]})})}),l.jsx(Vt,{id:"delete-modal-section",message:"¡Se ha eliminado con éxito la sección!",title:"Seccion de avisos"})]})},bV=()=>{const t=Ei($N),[e,n]=y.useState([]);return y.useEffect(()=>{n(t.sections)},[t]),l.jsxs(l.Fragment,{children:[t.loading&&l.jsx("div",{children:"Cargando..."}),e.map(r=>r.posicion_id==1?l.jsxs("div",{className:"row mb-3 border",children:[l.jsx("div",{className:"col",children:l.jsx("img",{className:"img-thumbnail",src:r.download_url})}),l.jsxs("div",{className:"col",children:[l.jsx("h3",{children:r.titulo}),l.jsx("h5",{children:r.subtitulo}),l.jsx("p",{className:"lead",children:r.descripcion})]}),l.jsx(ox,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url},`${r.id}-adssection1`),l.jsx(lx,{id:r.id,image_url:r.image_url},`${r.id}-delete1`)]},`${r.id}-div1`):l.jsxs("div",{className:"row mb-3 border",children:[l.jsxs("div",{className:"col",children:[l.jsx("h3",{children:r.titulo}),l.jsx("h5",{children:r.subtitulo}),l.jsx("p",{className:"lead",children:r.descripcion})]}),l.jsx("div",{className:"col",children:l.jsx("img",{className:"img-thumbnail",src:r.download_url})}),l.jsx(ox,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url},`${r.id}-adssection2`),l.jsx(lx,{id:r.id,image_url:r.image_url},`${r.id}-delete2`)]},`${r.id}-div2`))]})};let Hc;const vV=new Uint8Array(16);function yV(){if(!Hc&&(Hc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hc(vV)}const ht=[];for(let t=0;t<256;++t)ht.push((t+256).toString(16).slice(1));function wV(t,e=0){return ht[t[e+0]]+ht[t[e+1]]+ht[t[e+2]]+ht[t[e+3]]+"-"+ht[t[e+4]]+ht[t[e+5]]+"-"+ht[t[e+6]]+ht[t[e+7]]+"-"+ht[t[e+8]]+ht[t[e+9]]+"-"+ht[t[e+10]]+ht[t[e+11]]+ht[t[e+12]]+ht[t[e+13]]+ht[t[e+14]]+ht[t[e+15]]}const xV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cx={randomUUID:xV};function Jv(t,e,n){if(cx.randomUUID&&!e&&!t)return cx.randomUUID();t=t||{};const r=t.random||(t.rng||yV)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return wV(r)}const Xv=async t=>{const e=document.getElementById(t);console.log(e);const n=bootstrap.Modal.getInstance(e);n&&(console.log(n,"entraaaa"),await n.hide(e))},_V=()=>{const t=je(),[e,n]=y.useState(),r={id:"",posicion_id:1,titulo:"",subtitulo:"",descripcion:"",estado:1,image_url:"",download_url:""},[i,s]=y.useState(r),a=d=>{s({...i,[d.target.name]:d.target.value})},c=()=>{s(r)},o=d=>{n(d.target.files[0]),s({...i,image_url:`Empresa/Secciones/${Jv()}`})},u=async d=>{d.preventDefault();let h="";e!=null&&(h=await Sn(e,i.image_url));let f={posicion_id:i.posicion_id,titulo:i.titulo,subtitulo:i.subtitulo,descripcion:i.descripcion,estado:1,image_url:i.image_url,download_url:h};const g=await Yh("/Empresa/ZktZQqsBnqVVoL4dfRHv/secciones",f);f={...f,id:g.id},t(ZF(f)),setTimeout(()=>{Xv("add-section"),zt("toast-add-section")},1e3)};return l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-primary mb-2","data-bs-toggle":"modal","data-bs-target":"#add-section",children:"Crear Sección"}),l.jsx("div",{className:"modal fade",id:"add-section","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-xl",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header border-0",children:[l.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-addSection",children:"Crear Sección"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>c()})]}),l.jsx("div",{className:"modal-body",children:l.jsx("form",{onSubmit:u,id:"form-modal-add-section",children:l.jsxs("div",{className:"form-row text-black",children:[l.jsx("label",{className:"form-label",htmlFor:"title-about-addSection",children:"Título"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-about-addSection",name:"titulo",value:i.titulo,onChange:d=>a(d)}),l.jsx("label",{className:"form-label",htmlFor:"subtitle-about-addSection",children:"Subtítulo"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:"subtitle-about-addSection",name:"subtitulo",value:i.subtitulo,onChange:d=>a(d)}),l.jsx("label",{className:"form-label",htmlFor:"description-about-addSection",children:"Descripción"}),l.jsx("textarea",{className:"form-control rounded-0 ",id:"description-about-addSection",name:"descripcion",rows:10,value:i.descripcion,onChange:d=>a(d)}),l.jsx("label",{className:"form-label",htmlFor:"uploadImage-addSection",children:"Subir imagen"}),l.jsx("input",{className:"form-control mb-3",id:"uploadImage-addSection",name:"image_url",type:"file",onChange:d=>o(d),required:!0}),l.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>s({...i,posicion_id:1})})," Izquierda"]}),l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>s({...i,posicion_id:2})})," Derecha"]})]})]})})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>c(),children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",form:"form-modal-add-section",children:"Guardar Cambios"})]})]})})}),l.jsx(Vt,{id:"toast-add-section",message:"¡Se ha agregado con éxito la sección!",title:"Seccion de avisos"})]})},SV=()=>{const t=Ei(QF),e=je(),n={correo:t.correo,facebook:t.facebookUrl,titulo:t.titulo_footer,subtitulo:t.subtitulo_footer,telefono:t.telefonos[0],whatsapp:t.telefonos[1],direccionCorta:t.direccionCorta,horarioLunes:t.horarios[0],horarioMartes:t.horarios[1],horarioMiercoles:t.horarios[2],horarioJueves:t.horarios[3],horarioViernes:t.horarios[4],horarioSabado:t.horarios[5],horarioDomingo:t.horarios[6]},[r,i]=y.useState(n),s=o=>{i({...r,[o.target.name]:o.target.value})},a=()=>{i(n)},c=async()=>{const o={correo:r.correo,facebookUrl:r.facebook,titulo_footer:r.titulo,subtitulo_footer:r.subtitulo,telefonos:[r.telefono,r.whatsapp],direccionCorta:r.direccionCorta,horarios:[r.horarioLunes,r.horarioMartes,r.horarioMiercoles,r.horarioJueves,r.horarioViernes,r.horarioSabado,r.horarioDomingo]};await rt("/Empresa/ZktZQqsBnqVVoL4dfRHv",o),e(FN(o))};return l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-dark m-5","data-bs-toggle":"modal","data-bs-target":"#information-section-edit",children:"Editar Información del Footer"}),l.jsx("div",{className:"modal fade",id:"information-section-edit","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-lg",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"Editando Información Footer"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:a})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"accordion",id:"accordionPanelsStayOpenExample",children:[l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"panelsStayOpen-headingOne",children:l.jsx("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne",children:"Información"})}),l.jsx("div",{id:"panelsStayOpen-collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne",children:l.jsxs("div",{className:"accordion-body",children:[l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default1",children:"Correo"}),l.jsx("input",{type:"text",className:"form-control",name:"correo","aria-label":"correo",value:r.correo,"aria-describedby":"inputGroup-sizing-default1",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default2",children:"Facebook"}),l.jsx("input",{type:"text",className:"form-control",name:"facebook","aria-label":"facebook",value:r.facebook,"aria-describedby":"inputGroup-sizing-default2",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default3",children:"Título"}),l.jsx("input",{type:"text",className:"form-control",name:"titulo","aria-label":"titulo",value:r.titulo,"aria-describedby":"inputGroup-sizing-default3",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default4",children:"Subtitulo"}),l.jsx("input",{type:"text",className:"form-control",name:"subtitulo","aria-label":"subtitulo",value:r.subtitulo,"aria-describedby":"inputGroup-sizing-default4",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default5",children:"Teléfono"}),l.jsx("input",{type:"text",className:"form-control",name:"telefono","aria-label":"telefono",value:r.telefono,"aria-describedby":"inputGroup-sizing-default5",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default6",children:"Whatsapp"}),l.jsx("input",{type:"text",className:"form-control",name:"whatsapp","aria-label":"whatsapp",value:r.whatsapp,"aria-describedby":"inputGroup-sizing-default6",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default7",children:"Dirección"}),l.jsx("input",{type:"text",className:"form-control",name:"direccion","aria-label":"direccion",value:r.direccionCorta,"aria-describedby":"inputGroup-sizing-default7",onChange:o=>s(o)})]})]})})]}),l.jsxs("div",{className:"accordion-item",children:[l.jsx("h2",{className:"accordion-header",id:"panelsStayOpen-headingTwo",children:l.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTwo",children:"Horarios"})}),l.jsx("div",{id:"panelsStayOpen-collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingTwo",children:l.jsxs("div",{className:"accordion-body",children:[l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Lunes"}),l.jsx("input",{type:"text",className:"form-control",name:"horarioLunes",value:r.horarioLunes,"aria-label":"horarioLunes","aria-describedby":"inputGroup-sizing-default8",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Martes"}),l.jsx("input",{type:"text",className:"form-control",name:"horarioMartes",value:r.horarioMartes,"aria-label":"horarioMartes","aria-describedby":"inputGroup-sizing-default8",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Miércoles"}),l.jsx("input",{type:"text",className:"form-control",name:"horarioMiercoles",value:r.horarioMiercoles,"aria-label":"horarioMiercoles","aria-describedby":"inputGroup-sizing-default8",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Jueves"}),l.jsx("input",{type:"text",className:"form-control",name:"horarioJueves",value:r.horarioJueves,"aria-label":"horarioJueves","aria-describedby":"inputGroup-sizing-default8",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Viernes"}),l.jsx("input",{type:"text",className:"form-control",name:"horarioViernes",value:r.horarioViernes,"aria-label":"horarioViernes","aria-describedby":"inputGroup-sizing-default8",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Sábado"}),l.jsx("input",{type:"text",className:"form-control",name:"horarioSabado",value:r.horarioSabado,"aria-label":"horarioSabado","aria-describedby":"inputGroup-sizing-default8",onChange:o=>s(o)})]}),l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Domingo"}),l.jsx("input",{type:"text",className:"form-control",name:"horarioDomingo",value:r.horarioDomingo,"aria-label":"horarioDomingo","aria-describedby":"inputGroup-sizing-default8",onChange:o=>s(o)})]})]})})]})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:a,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>c(),children:"Guardar Cambios"})]})]})})})]})},kV=()=>{const t=je();y.useEffect(()=>{(async()=>(await t(gu()),await t(bu())))()},[]);const e=fn(),n=me(i=>i.auth.user),r=me(i=>i.auth.loggedIn);return y.useEffect(()=>{!r&&!n&&e("/ucag-admin/")},[r,n,e]),l.jsx(l.Fragment,{children:l.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[l.jsx(gV,{}),l.jsx(_V,{}),l.jsx("div",{className:"container-fluid",children:l.jsx(bV,{})}),l.jsx(SV,{})]})})},CV=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(""),a=fn(),c=me(w=>w.auth.user),o=me(w=>w.auth.loggedIn),[u,d]=y.useState(!1),h=y.useRef(null);y.useEffect(()=>{!o&&!c&&a("/ucag-admin/");const w=Ul(rc,"Home/imagen-inicio");hh(w).then(b=>{s(b)}).catch(b=>{console.error("Error descargando la imagen:",b)}),(async()=>{const b=await Wh("/Home/8Yl9xbZuRNFTUItTEKGU");e(b==null?void 0:b.titulo),r(b==null?void 0:b.descripcion)})()},[o,c,a,u]);const f=()=>{d(!0),h.current&&h.current.scrollIntoView({behavior:"smooth"})},g=()=>{d(!1)};return l.jsx(l.Fragment,{children:o&&l.jsxs("div",{className:"container mt-5",children:[l.jsx("div",{className:"text-start mb-5",children:l.jsx("button",{type:"button",className:"btn btn-success",onClick:f,children:"Editar"})}),l.jsxs("div",{className:"row text-start",children:[l.jsxs("div",{className:"col-sm-5",children:[l.jsx("h2",{className:"fw-bold color-title mb-3",children:t}),l.jsxs("p",{children:[n," "]})]}),l.jsx("div",{className:"col-sm-7",ref:h,children:l.jsx("img",{src:i,alt:"Imagen de página de inicio,",className:"img-fluid rounded"})}),u&&l.jsx(NV,{onClose:g,initialTitulo:t,initialDescription:n})]})]})})},EV=()=>{const[t,e]=y.useState(null),[n,r]=y.useState(!1),i=y.useRef(null),[s,a]=y.useState(null);function c(){i.current&&i.current.click()}function o(b){const x=b.target.files[0];!x||x.type.split("/")[0]!=="image"||(a(x),e({name:x.name,url:URL.createObjectURL(x)}))}function u(){t&&(URL.revokeObjectURL(t.url),e(null),a(null),i.current&&(i.current.value=""))}function d(b){b.preventDefault(),r(!0),b.dataTransfer.dropEffect="copy"}function h(b){b.preventDefault(),r(!1)}function f(b){b.preventDefault(),r(!1);const x=b.dataTransfer.files[0];!x||x.type.split("/")[0]!=="image"||(a(x),e({name:x.name,url:URL.createObjectURL(x)}))}async function g(b){Sn(b,"Home/imagen-inicio")}async function w(){try{const b=await g(s);console.log(b),u()}catch(b){console.error(b)}}return l.jsx("div",{className:"dragDrop-component card",children:l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"top",children:l.jsx("p",{children:"Subir imagen"})}),!t&&l.jsxs("div",{className:"drag-area",onDragOver:d,onDragLeave:h,onDrop:f,children:[n?l.jsx("span",{className:"select",children:"Suelte la imágen aquí"}):l.jsxs(l.Fragment,{children:["Drag & Drop aquí o "," ",l.jsx("span",{className:"select",role:"button",onClick:c,children:"Adjunta la imagen"})]}),l.jsx("input",{type:"file",name:"file",className:"file",ref:i,onChange:o})]}),t&&l.jsx("div",{className:"container",children:l.jsxs("div",{className:"image",children:[l.jsx("span",{className:"delete",onClick:u,children:l.jsx("i",{className:"fas fa-trash-alt"})}),l.jsx("img",{src:t.url,alt:t.name})]})}),s&&l.jsx("button",{type:"button",className:"btn btn-success",onClick:w,children:"Subir"})]})})},NV=({onClose:t,initialTitulo:e,initialDescription:n})=>{const[r,i]=y.useState(""),[s,a]=y.useState(""),[c,o]=y.useState(!1),[u,d]=y.useState(!0),[h,f]=y.useState("");y.useEffect(()=>{f(e),i(e),a(n)},[e,n]);const g="Home/8Yl9xbZuRNFTUItTEKGU",w=m=>{const{name:p,value:v}=m.target;p==="titulo"?i(v):p==="descripcion"&&a(v)},b=()=>{o(!0),d(!1)},x=async m=>{m.preventDefault(),console.log(r,"TITULO"),console.log(s,"DESCRIPCION");const p={titulo:r,descripcion:s};try{await rt(g,p),console.log("Documento Home actualizado correctamente en Firebase.")}catch(v){console.error("Error al actualizar el documento de Home en Firebase:",v)}t()};return l.jsx(l.Fragment,{children:l.jsxs("div",{className:"container mt-5",children:[l.jsx("h1",{children:"Edición de la Página de Inicio:"}),l.jsx("div",{className:"container mt-5",children:l.jsxs("form",{onSubmit:x,className:"row",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"titulo",children:"Titulo"}),l.jsx("input",{type:"text",className:"form-control",id:"titulo",name:"titulo",value:r,onChange:w,placeholder:"Agrega un título",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"descripcion-edit",className:"col-form-label",children:"Descripción"}),l.jsx("textarea",{className:"form-control",id:"descripcion-edit",name:"descripcion",value:s,onChange:w,rows:3,placeholder:"Agrega una descripción",required:!0})]})]}),l.jsxs("div",{className:"col-md-6 d-flex flex-column justify-content-between",children:[u&&l.jsx("div",{className:"text-start mb-5",children:l.jsx("button",{type:"button",className:"btn btn-success",onClick:b,children:"Cambiar Imagen"})}),c&&l.jsx(EV,{})]}),l.jsxs("div",{className:"container mt-5",children:[l.jsx("button",{type:"button",className:"btn btn-secondary mr-2",style:{marginRight:"50px"},onClick:t,children:"Cerrar"}),l.jsx("button",{type:"submit",className:"btn btn-primary ml-2",children:"Guardar Cambios"})]})]})})]})})},ux=["Masculino","Femenino","Otro"],bp=["Común","Administrador"],jV={correo:"Correo Electrónico",cedula:"Cédula",telefono:"Teléfono",provincia:"Provincia",canton:"Cantón",distrito:"Distrito",direccion:"Dirección",fechaNacimiento:"Fecha de Nacimiento",genero:"Género",nombre:"Nombre",user_type:"Tipo de Usuario"},Hj=({pUsuario:t})=>{const e=je(),n=me(M=>M.auth.loggedIn);let r=null;t?r=t:r=me(M=>M.auth.user);const i=me(M=>M.paisInfo.datosPais),s={nombre:r.nombre,correo:r==null?void 0:r.correo,cedula:r==null?void 0:r.cedula,telefono:r==null?void 0:r.telefono,provincia:r==null?void 0:r.provincia,canton:r==null?void 0:r.canton,distrito:r==null?void 0:r.distrito,direccion:r==null?void 0:r.direccion,fechaNacimiento:r==null?void 0:r.fechaNacimiento,genero:r==null?void 0:r.genero,user_type:r.user_type},[a,c]=y.useState(!1),[o,u]=y.useState(s),[d,h]=y.useState(!1),[f,g]=y.useState(!1),[w,b]=y.useState([]),[x,m]=y.useState([]),[p,v]=y.useState([]),[_,k]=y.useState(""),[C,S]=y.useState(""),[E,T]=y.useState(""),[N,L]=y.useState(""),z=fn();y.useEffect(()=>{if(!n&&!r&&z("/ucag-admin/"),r&&i){const M=Zm(i);if(b(M),i[r.provincia]&&i[r.provincia].cantones&&i[r.provincia].cantones[r.canton].distritos){const G=vu(r.provincia,i);m(G);const de=yu(i[r.provincia].cantones[r.canton].distritos);v(de)}}},[r,i,z,Zm,vu,yu]);const se=(M,G)=>{k(M);const de=vu(M,i);m(de),v([]),u({...o,[G]:M})},H=(M,G)=>{S(M);const de=yu(i[_].cantones[M].distritos);v(de),u({...o,[G]:M,distrito:""})},Ce=M=>{const{name:G,value:de}=M.target;try{G==="user_type"&&L(bp[parseInt(de)]),G==="provincia"?se(de,G):G==="canton"?H(de,G):(T(de),u({...o,[G]:de}))}catch{se(r==null?void 0:r.provincia,G),H(de,G)}},st=()=>{c(!0),u(s)},Xe=()=>{c(!1),r&&u(s)},A=()=>{if(!Object.keys(s).some(G=>G==="correo"||G==="estado"||G==="user_type"?!1:s[G]!==o[G])){h(!0);return}if(!(o!=null&&o.cedula)||!(o!=null&&o.nombre)||!(o!=null&&o.canton)||E===""){g(!0);return}const M=/^[0-9]+$/;if(o.telefono&&!M.test(o.telefono)||o.cedula&&!M.test(o.cedula)){g(!0);return}h(!0)},V=()=>{g(!1)},K=()=>{e(qF(o,o.correo,t)),c(!1),h(!1)},ue=()=>{h(!1)},ne=M=>bp[M];return l.jsxs("div",{className:"container shadow-lg",children:[l.jsx("br",{}),!t&&l.jsx(l.Fragment,{children:l.jsx("h2",{children:"Mis Datos Personales"})}),t&&l.jsx(l.Fragment,{children:l.jsx("h2",{children:"Datos de la Cuenta"})}),l.jsx("br",{}),l.jsx("div",{className:"row",children:o&&Object.entries(o).map(([M,G])=>{if(M==="correo"||M==="estado"||M==="user_type"&&!t)return null;const de=jV[M]||M;if(M==="fechaNacimiento"){const q=(G instanceof be?G.toDate().toDateString():G.toString()).split("-"),ae=`${q[2]}/${q[1]}/${q[0]}`;return l.jsxs("div",{className:"col-md-3 mb-3",children:[l.jsx("label",{className:"form-label",children:de}),a?l.jsx("input",{title:"fecha-nacimiento",type:"date",name:M,value:G,onChange:Ce,className:"form-control"}):l.jsx("div",{className:"form-control",children:ae})]},M)}return M==="provincia"||M==="canton"||M==="distrito"||M==="genero"||M==="user_type"?l.jsxs(l.Fragment,{children:[t&&l.jsxs("div",{className:"col-md-3 mb-3",children:[l.jsx("label",{className:"form-label",children:de}),a?l.jsxs("select",{title:"form-select",name:M,value:o[M],onChange:Ce,className:"form-select",children:[l.jsxs("option",{value:"",children:["Seleccionar ",de]}),M==="provincia"&&w.map((q,ae)=>l.jsx("option",{value:q,children:q},ae)),M==="canton"&&x.map((q,ae)=>l.jsx("option",{value:q,children:q},ae)),M==="distrito"&&p.map((q,ae)=>l.jsx("option",{value:q,children:q},ae)),M==="genero"&&ux.map((q,ae)=>l.jsx("option",{value:q,children:q},ae)),M==="user_type"&&bp.map((q,ae)=>l.jsx("option",{value:ae,selected:o.user_type===ae,children:q},ae))]}):l.jsx("div",{className:"form-control",children:M==="user_type"?ne(o.user_type):G})]},M),!t&&l.jsxs("div",{className:"col-md-3 mb-3",children:[l.jsx("label",{className:"form-label",children:de}),a?l.jsxs("select",{title:"form-select",name:M,value:o[M],onChange:Ce,className:"form-select",children:[l.jsxs("option",{value:"",children:["Seleccionar ",de]}),M==="provincia"&&w.map((q,ae)=>l.jsx("option",{value:q,children:q},ae)),M==="canton"&&x.map((q,ae)=>l.jsx("option",{value:q,children:q},ae)),M==="distrito"&&p.map((q,ae)=>l.jsx("option",{value:q,children:q},ae)),M==="genero"&&ux.map((q,ae)=>l.jsx("option",{value:q,children:q},ae))]}):l.jsx("div",{className:"form-control",children:G})]},M)]}):l.jsxs("div",{className:"col-md-3 mb-3",children:[l.jsx("label",{className:"form-label",children:de}),a?l.jsx("input",{title:"contraseña",type:"text",name:M,value:o[M],onChange:Ce,className:"form-control"}):l.jsx("div",{className:"form-control",children:G})]},M)})}),l.jsx("div",{className:"button-container",children:a?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:Xe,className:"btn btn-secondary me-2",children:"Cancelar"}),l.jsx("button",{onClick:A,className:"btn btn-success",children:"Guardar"})]}):l.jsx("button",{onClick:st,className:"btn btn-primary me-2",children:"Editar"})}),l.jsx(kl,{texto:"Por favor, complete todos los campos obligatorios.",mostrar:f,onConfirm:V}),l.jsx(kl,{texto:"¿Está seguro que desea guardar los cambios?",mostrar:d,onClose:ue,onConfirm:K}),l.jsx("br",{})]})},TV=({mostrar:t,onClose:e})=>l.jsx(l.Fragment,{children:t&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal-backdrop fade show"}),l.jsx("div",{className:"modal d-block",tabIndex:-1,style:{display:"block"},children:l.jsxs("div",{className:"modal-dialog modal-dialog-centered modal-lg modal-xl",children:[" ",l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:"Nuevo Usuario"}),e&&l.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),l.jsx("div",{className:"modal-body",children:l.jsx(fj,{})}),l.jsx("div",{className:"modal-footer",children:e&&l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cerrar"})})]})]})})]})}),IV=({mostrar:t,onClose:e,usuario:n})=>l.jsx(l.Fragment,{children:t&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal-backdrop fade show"}),l.jsx("div",{className:"modal d-block",tabIndex:-1,style:{display:"block"},children:l.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg modal-xl",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:"Perfil de Usuario a Editar:"}),e&&l.jsx("button",{title:"btn-close",type:"button",className:"btn-close",onClick:e})]}),l.jsx("div",{className:"modal-body",children:l.jsx(Hj,{pUsuario:n})}),l.jsx("div",{className:"modal-footer",children:e&&l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cerrar"})})]})})})]})}),RV=()=>{const[t,e]=y.useState([]),[n,r]=y.useState(""),[i,s]=y.useState(!1),[a,c]=y.useState(!1),[o,u]=y.useState(null),[d,h]=y.useState(""),[f,g]=y.useState(!0),w=fn(),b=me(N=>N.auth.user),x=me(N=>N.auth.loggedIn),m=[{name:"Nombre",selector:N=>N.nombre,sortable:!0},{name:"Cédula",selector:N=>N.cedula,sortable:!0},{name:"Télefono",selector:N=>N.telefono,sortable:!0},{name:"Correo",selector:N=>N.correo,sortable:!0,width:"250px"},{name:"Estado",cell:N=>l.jsx("div",{className:"form-check form-switch",children:l.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",checked:N.estado,onChange:()=>E(N)})}),width:"5vw"},{name:"Ver",cell:N=>l.jsx("button",{className:"btn btn-primary",onClick:()=>S(N),children:l.jsx(zU,{})}),width:"5vw"},{name:"Editar",cell:N=>l.jsx("button",{className:"btn btn-warning",onClick:()=>S(N),children:l.jsx(uj,{})}),width:"5vw"},{name:"Eliminar",cell:N=>l.jsx("button",{className:"btn btn-danger",onClick:()=>console.log("eliminando..."),children:l.jsx(Hv,{})}),width:"6vw"}];y.useEffect(()=>{p(),!x&&!b&&w("/ucag-admin/")},[x,b,w]),y.useEffect(()=>{if(n!==""){const N=t.filter(L=>{const z=L[d];if(typeof z=="string")return z.toLowerCase().includes(n.toLowerCase())});e(N)}else p()},[n,d]);const p=async()=>{const N=await xs("Usuarios");var L=[];L=N.map(z=>({nombre:z.nombre,id:z.id,canton:z.canton,cedula:z.cedula,correo:z.correo,direccion:z.direccion,distrito:z.distrito,estado:z.estado,fechaNacimiento:z.fechaNacimiento,genero:z.genero,provincia:z.provincia,telefono:z.telefono,user_type:z.user_type})),L.sort((z,se)=>z.nombre.localeCompare(se.nombre,"en",{sensitivity:"base"})),e(L)},v=()=>{s(!0)},_=()=>{s(!1)},k=()=>{c(!0)},C=()=>{c(!1)},S=N=>{console.log("Button clicked for:",N),k(),u(N)};function E(N){rt(`/Usuarios/${N.id}`,{estado:N.estado===0?1:0}),p()}const T=N=>{h(N.target.value),f&&g(!f)};return l.jsxs("div",{style:{top:"18%",left:"10%",right:"10%",bottom:"10%"},children:[l.jsxs("div",{className:"shadow-lg p-3",children:[l.jsx("h2",{className:"text-secondary mb-0 pt-3 ps-2 ",children:"Listado General de Usuarios"}),l.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[l.jsx("div",{className:"d-flex",children:l.jsx("button",{className:"btn btn-success py-0 ms-2 mt-3 shadow",style:{height:"35px"},onClick:v,children:"Crear Usuario"})}),l.jsxs("div",{className:"d-flex",children:[l.jsx("div",{className:"mt-3 mx-2",children:l.jsxs("select",{className:"form-select border border-secondary shadow","aria-label":"Default select example",onChange:T,children:[l.jsx("option",{hidden:!0,children:"Seleccione un filtro"}),l.jsx("option",{value:"nombre",children:"Nombre"}),l.jsx("option",{value:"cedula",children:"Cédula"}),l.jsx("option",{value:"telefono",children:"Teléfono"}),l.jsx("option",{value:"correo",children:"Correo"})]})}),l.jsx("div",{className:"",children:l.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 me-2 border border-secondary shadow",placeholder:"Buscar",value:n,disabled:f,onChange:N=>r(N.target.value)})})]})]}),l.jsx(Ba,{columns:m,data:t})]}),l.jsx(TV,{mostrar:i,onClose:_}),l.jsx(IV,{mostrar:a,onClose:C,usuario:o})]})},OV=()=>{const t=me(r=>r.auth.user),e=me(r=>r.auth.loggedIn),n=fn();return y.useEffect(()=>{!e&&!t&&n("/")},[e,t,n]),l.jsxs("div",{children:[l.jsx("h2",{className:"text-secondary mb-0 pt-3 ps-2 ",children:"Gestión de Matrículas"}),l.jsx(AV,{})]})};function Zv(t){return Cn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(t)}const AV=()=>{const t=je(),e=me(k=>k.cursos.cursos);y.useEffect(()=>{(async()=>await t(ir()))()},[t]);const[n,r]=y.useState(!1),[i,s]=y.useState(""),[a,c]=y.useState(""),[o,u]=y.useState([]),[d,h]=y.useState([]),[f,g]=y.useState([]),[w,b]=y.useState(""),x=fn(),m=[{name:"Postulados",selector:k=>{var C;return((C=k.postulados)==null?void 0:C.length)||0},sortable:!0,width:"9vw"},{name:"Nombre",selector:k=>k.nombre,sortable:!0,width:"15vw"},{name:"Horario",cell:k=>l.jsx("div",{className:"text-start",children:k.horario.map((C,S)=>l.jsxs("div",{children:[C.dia,": ",C.hora]},S))}),sortable:!0},{name:"Fecha Inicio",selector:k=>{if(k.fecha_inicio&&typeof k.fecha_inicio.toDate=="function"){const C=k.fecha_inicio.toDate(),S=C.getDate(),E=C.getMonth()+1,T=C.getFullYear();return`${S}/${E}/${T}`}else return"Cargando..."},sortable:!0,width:"10vw"},{name:"Fecha Fin",selector:k=>{if(k.fecha_finalizacion&&typeof k.fecha_finalizacion.toDate=="function"){const C=k.fecha_finalizacion.toDate(),S=C.getDate(),E=C.getMonth()+1,T=C.getFullYear();return`${S}/${E}/${T}`}else return"Cargando..."},sortable:!0,width:"15vw"},{name:"Modalidad",selector:k=>k.modalidad,cell:k=>{let C="";switch(k.modalidad){case 0:C="Presencial";break;case 1:C="Virtual";break;case 2:C="Mixta";break;default:C="Desconocida"}return C},sortable:!0,width:"15vw"},{name:"Gestionar",cell:k=>l.jsx("button",{className:"btn btn-primary",onClick:()=>p(k.id,k.nombre,k.postulados,k.matriculados),children:l.jsx("i",{className:"fa-solid fa-users"})}),width:"8vw"}],p=(k,C,S,E)=>{u(S),s(k),c(C),h(E),r(!0)},v=()=>{r(!1)};y.useEffect(()=>{if(w.trim()==="")g(e);else{const k=e.filter(C=>C.nombre.toLocaleLowerCase().includes(w.toLocaleLowerCase()));g(k)}},[w,e]);const _=()=>{x("/Cursos")};return l.jsx("div",{children:n?l.jsx(KV,{onRegresarClick:v,idCurso:i,nombreCurso:a,usuariosInteresados:o,matriculados:d}):l.jsxs(l.Fragment,{children:[l.jsx("h5",{className:"text-muted pt-4",children:"Lista de Cursos"}),l.jsxs("div",{className:"d-flex justify-content-between",children:[l.jsxs("button",{className:"btn btn-outline-primary mt-3 ",onClick:_,children:[l.jsx(Zv,{})," Volver"]}),l.jsx("div",{className:"col-md-2",children:l.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 me-2 border border-primary shadow-lg",placeholder:"Filtrar por nombre",value:w,onChange:k=>b(k.target.value)})})]}),l.jsx(Ba,{columns:m,data:f})]})})};class ac{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const PV=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},bt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:PV()},ey=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},DV=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=ey(t);bt.publicKey=n.publicKey,bt.blockHeadless=n.blockHeadless,bt.storageProvider=n.storageProvider,bt.blockList=n.blockList,bt.limitRate=n.limitRate,bt.origin=n.origin||e},qj=async(t,e,n={})=>{const r=await fetch(bt.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new ac(r.status,i);if(r.ok)return s;throw s},Wj=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},LV=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Gj=t=>t.webdriver||!t.languages||t.languages.length===0,Kj=()=>new ac(451,"Unavailable For Headless Browser"),MV=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},FV=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},UV=(t,e)=>t instanceof FormData?t.get(e):t[e],Qj=(t,e)=>{if(FV(t))return!1;MV(t.list,t.watchVariable);const n=UV(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},Yj=()=>new ac(403,"Forbidden"),$V=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a string"},VV=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},Jj=async(t,e,n)=>{if(!e.throttle||!n)return!1;$V(e.throttle,e.id);const r=e.id||t;return await VV(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},Xj=()=>new ac(429,"Too Many Requests"),zV=async(t,e,n,r)=>{const i=ey(r),s=i.publicKey||bt.publicKey,a=i.blockHeadless||bt.blockHeadless,c=bt.storageProvider||i.storageProvider,o={...bt.blockList,...i.blockList},u={...bt.limitRate,...i.limitRate};return a&&Gj(navigator)?Promise.reject(Kj()):(Wj(s,t,e),LV(n),n&&Qj(o,n)?Promise.reject(Yj()):await Jj(location.pathname,u,c)?Promise.reject(Xj()):qj("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},BV=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},HV=t=>typeof t=="string"?document.querySelector(t):t,qV=async(t,e,n,r)=>{const i=ey(r),s=i.publicKey||bt.publicKey,a=i.blockHeadless||bt.blockHeadless,c=bt.storageProvider||i.storageProvider,o={...bt.blockList,...i.blockList},u={...bt.limitRate,...i.limitRate};if(a&&Gj(navigator))return Promise.reject(Kj());const d=HV(n);Wj(s,t,e),BV(d);const h=new FormData(d);return Qj(o,h)?Promise.reject(Yj()):await Jj(location.pathname,u,c)?Promise.reject(Xj()):(h.append("lib_version","4.3.3"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",s),qj("/api/v1.0/email/send-form",h))},Zj={init:DV,send:zV,sendForm:qV,EmailJSResponseStatus:ac},WV=(t,e,n)=>{const r="service_dkr0wxb",i="template_matricula_a",s="d2Zek1yZFLVAozcHY",a={user_email:e,user_name:t,message:"Si tiene dudas, contáctese con el equipo de la Unión Cantonal de Guatuso",nombre_curso:n};return new Promise((c,o)=>{Zj.send(r,i,a,s).then(()=>{console.log("MSJ DE CORREO ENVIADO EXITOSAMENTE"),c(!0)},u=>{console.log("FAILED... NO SE PUDO MANDAR EL MSJ DE CORREO",u.text),o(!1)})})},dx=(t,e,n)=>{const r="service_dkr0wxb",i="template_matricula_r",s="d2Zek1yZFLVAozcHY",a={user_email:e,user_name:t,message:"Si tiene dudas, contáctese con el equipo de la Unión Cantonal de Guatuso",nombre_curso:n};return new Promise((c,o)=>{Zj.send(r,i,a,s).then(()=>{console.log("MSJ DE CORREO ENVIADO EXITOSAMENTE"),c(!0)},u=>{console.log("FAILED... NO SE PUDO MANDAR EL MSJ DE CORREO",u.text),o(!1)})})},GV=({mostrar:t,onClose:e,usuario:n,usuariosMatriculados:r,idCurso:i,nombreCurso:s,onUpdateMatriculados:a})=>{const c=je(),o=me(T=>T.cursos.cursos),[u,d]=y.useState(!1);y.useEffect(()=>{(async()=>await c(ir()))(),u&&((async()=>await c(ir()))(),d(!1))},[c,u]);const h=`Cursos/${i}`,[f,g]=y.useState(!1),[w,b]=y.useState(""),[x,m]=y.useState(!1),[p,v]=y.useState([]);y.useEffect(()=>{const T=o.find(L=>L.id===i);console.log({cursoActual:T});const N=T==null?void 0:T.matriculados;console.log({listaMatriculados:N}),console.log({usuariosMatriculados:r}),console.log({coursesRedux:o}),v(r)},[r]);const _=(n==null?void 0:n.id)&&p.includes(n.id),k=async()=>{m(!0);try{const T=[...p,n.id];await rt(h,{matriculados:T}),g(!0),await WV(n.nombre,n.correo,s),setTimeout(()=>{v(T),a(T),d(!0)},3e3)}catch(T){console.error("Error al actualizar matriculados en Firebase:",T)}setTimeout(()=>{g(!1),m(!1),e()},2500)},C=async()=>{if(confirm("¿Está seguro de desmatricular/rechazar al usuario?")){if(m(!0),!p.includes(n.id)){console.warn("El usuario no está matriculado, no es necesario rechazarlo."),m(!1),e(),await dx(n.nombre,n.correo,s);return}try{const T=p.filter(N=>N!==n.id);await rt(h,{matriculados:T}),v(T),b("Se ha desmatriculado el usuario."),a(T)}catch(T){console.error("Error al actualizar matriculados en Firebase:",T)}setTimeout(async()=>{await dx(n.nombre,n.correo,s),b(""),d(!0),m(!1),e()},2e3)}},S=async()=>{e()},E=()=>{g(!1)};return l.jsx(l.Fragment,{children:t&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal-backdrop fade show"}),l.jsx("div",{className:"modal d-block",tabIndex:-1,style:{display:"block"},children:l.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:l.jsxs("div",{className:"modal-content",children:[w&&l.jsx("div",{className:"alert alert-success mt-2",children:w}),l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:"Detalles del aspirante a Matricular"}),e&&l.jsx("button",{type:"button",className:"btn-close",onClick:e,"aria-label":"Close"})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Nombre:"})," ",n.nombre]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Cédula:"})," ",n.cedula]})]}),l.jsxs("div",{className:"col",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Teléfono:"})," ",n.telefono]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Correo:"})," ",n.correo]})]})]}),l.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"bold",color:_?"green":"red"},children:_?"Usuario ya se encuentra matriculado":"Usuario no se encuentra matriculado"})]}),l.jsx("div",{className:"modal-footer",children:_?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:S,children:"Cerrar"}),l.jsx("button",{type:"button",className:"btn btn-danger",onClick:C,disabled:x,children:"Desmatricular"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-danger",onClick:C,disabled:x,children:"Rechazar"}),l.jsx("button",{type:"button",className:"btn btn-success",onClick:k,disabled:x,children:"Matricular"})]})})]})})}),l.jsx(kl,{texto:"Se ha matriculado el usuario.",mostrar:f,onConfirm:E})]})})},KV=({onRegresarClick:t,idCurso:e,nombreCurso:n,usuariosInteresados:r,matriculados:i})=>{const[s,a]=y.useState([]),[c,o]=y.useState(!1),[u,d]=y.useState(null),[h,f]=y.useState([]),[g,w]=y.useState(""),[b,x]=y.useState(i),m=[{name:"Nombre",selector:S=>S.nombre,sortable:!0,width:"30vw"},{name:"Correo",selector:S=>S.correo,sortable:!0},{name:"Hora de Solicitud",selector:S=>S.hora_solicitud.toLocaleString(),sortable:!0},{name:"Estado",cell:S=>l.jsx("span",{style:{color:b.includes(S.id)?"green":"red"},children:b.includes(S.id)?l.jsx(cj,{color:"green"}):l.jsx(hj,{color:"red"})}),sortable:!0,sortFunction:(S,E)=>{const T=b.includes(S.id),N=b.includes(E.id);return T&&!N?-1:!T&&N?1:0},width:"10vw"},{name:"Detalles",cell:S=>l.jsx("button",{className:"btn btn-primary",onClick:()=>_(S),children:l.jsx("i",{className:"fa-regular fa-eye"})}),width:"8vw"}];y.useEffect(()=>{(async()=>{try{const S=(await xs("Usuarios")).filter(E=>r.some(T=>T.id===E.id)).map(E=>{var T;return{id:E.id,nombre:E.nombre,cedula:E.cedula,telefono:E.telefono,correo:E.correo,hora_solicitud:((T=r.find(N=>N.id===E.id))==null?void 0:T.hora_solicitud.toDate())||new Date}}).map(E=>({...E,hora_solicitud:E.hora_solicitud.toLocaleDateString("es-ES",{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}));a(S)}catch(S){console.error("Error Al traer los usuarios:",S)}})()},[]),y.useEffect(()=>{if(g.trim()==="")f(s);else{const S=s.filter(E=>E.nombre.toLowerCase().includes(g.toLowerCase()));f(S)}},[g,s]);const p=()=>{o(!1)},v=()=>{o(!0)},_=S=>{v(),d(S)},k=S=>{x(S)},C=()=>{t()};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsxs("h5",{className:"text-muted pt-4",children:["Interesados en el curso: ",n]}),l.jsxs("div",{className:"d-flex justify-content-between",children:[l.jsxs("button",{className:"btn btn-outline-primary mt-3 ",onClick:C,children:[l.jsx(Zv,{})," Volver"]}),l.jsx("div",{className:"col-md-2",children:l.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 me-2 border border-primary shadow-lg",placeholder:"Filtrar por nombre",value:g,onChange:S=>w(S.target.value)})})]}),l.jsx(Ba,{columns:m,data:h})]}),l.jsx(GV,{mostrar:c,onClose:p,usuario:u,usuariosMatriculados:i,idCurso:e,nombreCurso:n,onUpdateMatriculados:k})]})},QV=()=>{const t=me(r=>r.auth.user),e=me(r=>r.auth.loggedIn),n=fn();return y.useEffect(()=>{!e&&!t&&n("/")},[e,t,n]),l.jsxs("div",{children:[l.jsx("h2",{className:"text-secondary mb-0 pt-3 ps-2",children:"Gestión de Aprobaciones de Estudiantes"}),l.jsx(YV,{})]})},YV=()=>{const t=je(),e=me(S=>S.cursos.cursos);y.useEffect(()=>{(async()=>await t(ir()))()},[t]);const[n,r]=y.useState(!1),[i,s]=y.useState(""),[a,c]=y.useState(""),[o,u]=y.useState([]),[d,h]=y.useState([]),[f,g]=y.useState([]),[w,b]=y.useState([]),[x,m]=y.useState(""),p=fn(),v=[{name:"Alumnos",selector:S=>{var E;return((E=S.matriculados)==null?void 0:E.length)||0},sortable:!0,width:"8vw"},{name:"Nombre",selector:S=>S.nombre,sortable:!0,width:"15vw"},{name:"Horario",cell:S=>l.jsx("div",{className:"text-start",children:S.horario.map((E,T)=>l.jsxs("div",{children:[E.dia,": ",E.hora]},T))}),sortable:!0},{name:"Fecha Inicio",selector:S=>{if(S.fecha_inicio&&typeof S.fecha_inicio.toDate=="function"){const E=S.fecha_inicio.toDate(),T=E.getDate(),N=E.getMonth()+1,L=E.getFullYear();return`${T}/${N}/${L}`}else return"Cargando..."},sortable:!0,width:"15vw"},{name:"Fecha Fin",selector:S=>{if(S.fecha_finalizacion&&typeof S.fecha_finalizacion.toDate=="function"){const E=S.fecha_finalizacion.toDate(),T=E.getDate(),N=E.getMonth()+1,L=E.getFullYear();return`${T}/${N}/${L}`}else return"Cargando..."},sortable:!0,width:"15vw"},{name:"Modalidad",selector:S=>S.modalidad,cell:S=>{let E="";switch(S.modalidad){case 0:E="Presencial";break;case 1:E="Virtual";break;case 2:E="Mixta";break;default:E="Desconocida"}return E},sortable:!0,width:"15vw"},{name:"Gestionar",cell:S=>l.jsx("button",{className:"btn btn-primary",onClick:()=>_(S.id,S.nombre,S.matriculados,S.aprobados,S.reprobados),children:l.jsx("i",{className:"fa-solid fa-users"})}),width:"8vw"}],_=(S,E,T,N,L)=>{s(S),c(E),u(T),h(N),g(L),r(!0)},k=()=>{r(!1)};y.useEffect(()=>{if(x.trim()==="")b(e);else{const S=e.filter(E=>E.nombre.toLocaleLowerCase().includes(x.toLocaleLowerCase()));b(S)}},[x,e]);const C=()=>{p("/Cursos")};return l.jsx("div",{children:n?l.jsx(JV,{onRegresarClick:k,nombreCurso:a,matriculados:o,aprobados:d,reprobados:f,idCurso:i}):l.jsxs(l.Fragment,{children:[l.jsx("div",{children:l.jsx("h5",{className:"text-muted pt-4",children:"Lista de Cursos"})}),l.jsxs("div",{className:"d-flex justify-content-between",children:[l.jsxs("button",{className:"btn btn-outline-primary mt-3 ",onClick:C,children:[l.jsx(Zv,{})," Volver"]}),l.jsx("div",{className:"col-md-2",children:l.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 border border-primary shadow-lg",placeholder:"Filtrar por nombre",value:x,onChange:S=>m(S.target.value)})})]}),l.jsx(Ba,{columns:v,data:w})]})})},JV=({onRegresarClick:t,nombreCurso:e,matriculados:n,idCurso:r,aprobados:i,reprobados:s})=>{const[a,c]=y.useState([]),[o,u]=y.useState(!1),[d,h]=y.useState(null),[f,g]=y.useState([]),[w,b]=y.useState(""),[x,m]=y.useState(i),[p,v]=y.useState(s),_=[{name:"Nombre",selector:L=>L.nombre,sortable:!0,width:"30vw"},{name:"Cédula",selector:L=>L.cedula,sortable:!0},{name:"Correo",selector:L=>L.correo,sortable:!0,width:"30vw"},{name:"Estado",cell:L=>{const z=x.includes(L.id),se=p.includes(L.id);let H,Ce="gray";return z?(Ce="green",H=l.jsx(cj,{color:"green"})):se?(H=l.jsx(hj,{color:"red"}),Ce="red"):H="?",l.jsx("span",{style:{color:Ce},children:H})},width:"10vw"},{name:"Detalles",cell:L=>l.jsx("button",{className:"btn btn-primary",onClick:()=>S(L),children:l.jsx("i",{className:"fa-regular fa-eye"})}),width:"8vw"}];y.useEffect(()=>{(async()=>{try{const L=(await xs("Usuarios")).filter(z=>n.includes(z.id)).map(z=>({id:z.id,nombre:z.nombre,cedula:z.cedula,telefono:z.telefono,correo:z.correo}));c(L)}catch(L){console.error("Error Al traer los usuarios matriculados:",L)}})()},[]),y.useEffect(()=>{if(w.trim()==="")g(a);else{const L=a.filter(z=>z.nombre.toLowerCase().includes(w.toLowerCase()));g(L)}},[w,a]);const k=()=>{u(!1)},C=()=>{u(!0)},S=L=>{C(),h(L)},E=L=>{m(L)},T=L=>{v(L)},N=()=>{t()};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsxs("h5",{className:"text-muted pt-4",children:["Usuarios matriculados en el curso de: ",e]}),l.jsxs("div",{className:"d-flex justify-content-between",children:[l.jsxs("button",{className:"btn btn-outline-primary mt-3 ",onClick:N,children:[l.jsx(lj,{})," Volver"]}),l.jsx("div",{className:"col-md-2",children:l.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 border border-primary shadow-lg",placeholder:"Filtrar por nombre",value:w,onChange:L=>b(L.target.value)})})]}),l.jsx(Ba,{columns:_,data:f})]}),l.jsx(XV,{mostrar:o,onClose:k,usuario:d,idCurso:r,nombreCurso:e,usuariosAprobados:i,usuariosReprobados:s,onUpdateAprobados:E,onUpdateReprobados:T})]})},XV=({mostrar:t,onClose:e,usuario:n,usuariosAprobados:r,usuariosReprobados:i,idCurso:s,nombreCurso:a,onUpdateAprobados:c,onUpdateReprobados:o})=>{const u=je(),d=me(H=>H.cursos.cursos),[h,f]=y.useState(!1);y.useEffect(()=>{(async()=>await u(ir()))(),h&&((async()=>await u(ir()))(),f(!1))},[u,h]);const g=`Cursos/${s}`,[w,b]=y.useState(!1),[x,m]=y.useState(""),[p,v]=y.useState(!1),[_,k]=y.useState([]),[C,S]=y.useState([]);y.useEffect(()=>{const H=d.find(Xe=>Xe.id===s);console.log({cursoActual:H});const Ce=H==null?void 0:H.aprobados;console.log({listaAprobados:Ce});const st=H==null?void 0:H.reprobados;console.log({listaReprobados:st}),k(r),S(i)},[r,i]);const E=(n==null?void 0:n.id)&&_.includes(n.id),T=(n==null?void 0:n.id)&&C.includes(n.id),N=async()=>{if(v(!0),T&&confirm("¿Está seguro de Aprobar al usuario?"))try{const H=C.filter(Ce=>Ce!==n.id);await rt(g,{reprobados:H}),S(H),o(H)}catch(H){console.error("(Caso: Alumno anteriormente Reprobado): Error al Aprobar alumno en Firebase:",H)}try{const H=[..._,n.id];await rt(g,{aprobados:H}),b(!0),setTimeout(()=>{k(H),c(H),f(!0)},3e3)}catch(H){console.error("Error al actualizar aprobados en Firebase:",H)}setTimeout(()=>{b(!1),v(!1),e()},2500)},L=async()=>{if(v(!0),E&&confirm("¿Está seguro de Reprobar al usuario?"))try{const H=_.filter(Ce=>Ce!==n.id);await rt(g,{aprobados:H}),k(H),c(H)}catch(H){console.error("(Caso: Alumno anteriormente Aprobado): Error al reprobar alumno en Firebase:",H)}try{const H=[...C,n.id];await rt(g,{reprobados:H}),m("El estudiante ha sido Reprobado."),setTimeout(()=>{S(H),o(H)},3e3)}catch(H){console.error("Error al actualizar reprobados en Firebase:",H)}f(!0),setTimeout(()=>{b(!1),v(!1),m(""),e()},2500),setTimeout(async()=>{v(!1),e()},2e3)},z=()=>{e()},se=()=>{b(!1)};return l.jsx(l.Fragment,{children:t&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal-backdrop fade show"}),l.jsx("div",{className:"modal d-block",tabIndex:-1,style:{display:"block"},children:l.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:l.jsxs("div",{className:"modal-content",children:[x&&l.jsx("div",{className:"alert alert-success mt-2",children:x}),l.jsxs("div",{className:"modal-header",children:[l.jsx("h5",{className:"modal-title",children:"Detalles del estudiante"}),e&&l.jsx("button",{type:"button",className:"btn-close",onClick:e,"aria-label":"Close"})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Nombre:"})," ",n.nombre]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Cédula:"})," ",n.cedula]})]}),l.jsxs("div",{className:"col",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Teléfono:"})," ",n.telefono]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Correo:"})," ",n.correo]})]})]}),l.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"bold",color:E?"green":T?"red":"grey"},children:E?"Aprobado en el curso":T?"Reprobado en el curso":"Usuario en espera de evaluación"})]}),l.jsx("div",{className:"modal-footer",children:E?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-danger",onClick:L,disabled:p,children:"Reprobar"}),l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:z,disabled:p,children:"Cancelar"})]}):l.jsx(l.Fragment,{children:T?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-success",onClick:N,disabled:p,children:"Aprobar"}),l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:z,disabled:p,children:"Cancelar"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-danger",onClick:L,disabled:p,children:"Reprobar"}),l.jsx("button",{type:"button",className:"btn btn-success",onClick:N,disabled:p,children:"Aprobar"})]})})})]})})}),l.jsx(kl,{texto:"Se ha aprobado al estudiante.",mostrar:w,onConfirm:se})]})})},ZV=()=>{const t=Ei(qN),e=je(),n={titulo:t.main.titulo,subtitulo:t.main.subtitulo},[r,i]=y.useState(n),[s,a]=y.useState(),c=()=>{i(n)},o=h=>{i({...r,[h.target.name]:h.target.value})},u=h=>{a(h.target.files[0]),o(h)},d=async()=>{let h=t.main.download_url;s!=null&&(h=await Sn(s,"/Avisos/Principal/image"));const f={titulo:r.titulo,subtitulo:r.subtitulo,download_url:h,image_url:t.main.image_url};await rt("/Avisos/1x9cYIlY1FaQcw9jZhf6",f),e(m9(f)),zt("toast-adsmain-update")};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center rounded mb-5",children:[l.jsx("img",{src:t.main.download_url,className:"img-fluid"}),l.jsx("h1",{className:"display-1 text-black",children:t.main.titulo}),l.jsx("h3",{className:"display-6 text-black",children:t.main.subtitulo}),l.jsx("button",{type:"button",className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"Actualizar Inicio"})]}),l.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-xl",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header border-0",children:[l.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-adsmain",children:"Actualizar Inicio de Avisos"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:c})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"form-row text-black",children:[l.jsx("label",{className:"form-label",htmlFor:"title-ads-add",children:"Título"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-ads-add",name:"titulo",value:r.titulo,onChange:h=>o(h)}),l.jsx("label",{className:"form-label",htmlFor:"subtitle-ads-add",children:"Subtitulo"}),l.jsx("textarea",{className:"form-control rounded-0 ",id:"subtitle-ads-add",name:"subtitulo",value:r.subtitulo,onChange:h=>o(h)}),l.jsx("label",{className:"form-label",htmlFor:"uploadImage-add",children:"Subir imagen"}),l.jsx("input",{className:"form-control",id:"uploadImage-add",name:"image_url",type:"file",onChange:h=>u(h)})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:c,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>d(),children:"Guardar Cambios"})]})]})})}),l.jsx(Vt,{id:"toast-adsmain-update",message:"¡Se ha actualizado con éxito la sección principal de Avisos!",title:"Avisos - Seccion Principal"})]})},e2=t=>l.jsx(l.Fragment,{children:l.jsxs("div",{className:"input-group mb-1 p-1",children:[l.jsx("input",{type:"text",className:"form-control",name:"titulo_link","aria-label":"ads-titulo-link",placeholder:"Titulo",value:t.titulo_link,onChange:e=>t.f1(e,t.index),autoFocus:!0}),l.jsx("input",{type:"text",className:"form-control",name:"link","aria-label":"ads-link",placeholder:"www.cantonal.com",value:t.link,onChange:e=>t.f1(e,t.index)}),l.jsx("button",{type:"button",className:"fa-solid fa-trash-can",onClick:()=>t.f2(t.index)})]})}),ez=()=>{const t=je(),[e,n]=y.useState(),r={id:"",posicion_id:1,titulo:"",subtitulo:"",descripcion:"",estado:1,image_url:"",download_url:"",links:[]},[i,s]=y.useState(r),a=g=>{s({...i,[g.target.name]:g.target.value})},c=()=>{s(r)},o=g=>{n(g.target.files[0]),s({...i,image_url:`Avisos/Anuncios/${Jv()}`})},u=g=>{const w=i.links.filter((x,m)=>g!=m),b={...i,links:w};s(b)},d=(g,w)=>{const b=i.links.map((x,m)=>m==w?{...i.links[m],[g.target.name]:g.target.value}:x);s({...i,links:b})},h=()=>{const g={...i,links:[...i.links,{titulo_link:"",link:""}]};s(g)},f=async g=>{g.preventDefault();let w="";e!=null&&(w=await Sn(e,i.image_url));let b={posicion_id:i.posicion_id,titulo:i.titulo,subtitulo:i.subtitulo,descripcion:i.descripcion,estado:1,image_url:i.image_url,download_url:w,links:i.links};const x=await Yh("/Avisos/1x9cYIlY1FaQcw9jZhf6/Anuncios",b);b={...b,id:x.id},t(g9(b)),setTimeout(()=>{Xv("add-ads"),zt("toast-add-ads")},500),c()};return l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-primary mb-2","data-bs-toggle":"modal","data-bs-target":"#add-ads",children:"Crear Aviso"}),l.jsx("div",{className:"modal fade",id:"add-ads","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-xl",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header border-0",children:[l.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-add",children:"Crear Aviso"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>c()})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("form",{onSubmit:f,id:"form-modal-add-ads",children:[l.jsx("label",{className:"form-label",htmlFor:"title-ads-add",children:"Título"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-ads-add",name:"titulo",value:i.titulo,onChange:g=>a(g)}),l.jsx("label",{className:"form-label",htmlFor:"subtitle-ads-add",children:"Subtítulo"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:"subtitle-ads-add",name:"subtitulo",value:i.subtitulo,onChange:g=>a(g)}),l.jsx("label",{className:"form-label",htmlFor:"description-ads-add",children:"Descripción"}),l.jsx("textarea",{className:"form-control rounded-0 ",id:"description-ads-add",name:"descripcion",rows:5,value:i.descripcion,onChange:g=>a(g)}),l.jsxs("div",{className:"p-3 mb-3",children:[l.jsx("div",{className:"form-label",children:l.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm mb-2",onClick:()=>h(),children:"Agregar Nuevo Link"})}),i.links!=null&&i.links.map((g,w)=>l.jsx(e2,{titulo_link:g.titulo_link,link:g.link,index:w,f1:d,f2:u},`${g.titulo_link}-${w}-add`)),l.jsx("label",{className:"form-label",htmlFor:"uploadImage-add-ads",children:"Subir imagen"}),l.jsx("input",{className:"form-control mb-3",id:"uploadImage-add-ads",name:"image_url",type:"file",onChange:g=>o(g),required:!0}),l.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>s({...i,posicion_id:1})})," Izquierda"]}),l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>s({...i,posicion_id:2})})," Derecha"]})]})]})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>c(),children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",form:"form-modal-add-ads",children:"Guardar Cambios"})]})]})})}),l.jsx(Vt,{id:"toast-add-ads",message:"¡Se ha agregado con éxito el aviso!",title:"Seccion de avisos"})]})},hx=t=>{const e=je(),[n,r]=y.useState(),i={id:t.id,posicion_id:t.posicion_id,titulo:t.titulo,subtitulo:t.subtitulo,descripcion:t.descripcion,estado:1,image_url:t.image_url,download_url:t.download_url,links:t.links},[s,a]=y.useState(i),c=w=>{a({...s,[w.target.name]:w.target.value})},o=()=>{a(i)},u=w=>{w.target.files[0]!=null?r(w.target.files[0]):r(void 0)},d=w=>{const b=s.links.filter((m,p)=>w!=p),x={...s,links:b};a(x)},h=(w,b)=>{const x=s.links.map((m,p)=>p==b?{...s.links[p],[w.target.name]:w.target.value}:m);a({...s,links:x})},f=()=>{const w={...s,links:[...s.links,{titulo_link:"",link:""}]};a(w)},g=async w=>{w.preventDefault();let b=s.download_url;n!=null&&(b=await Sn(n,s.image_url));let x={posicion_id:s.posicion_id,titulo:s.titulo,subtitulo:s.subtitulo,descripcion:s.descripcion,estado:1,image_url:s.image_url,download_url:b,links:s.links};await rt(`/Avisos/1x9cYIlY1FaQcw9jZhf6/Anuncios/${t.id}`,x),x={...x,id:t.id},e(v9(x)),zt("toast-edit-ads"),o()};return l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-outline-warning mb-2","data-bs-toggle":"modal","data-bs-target":`#edit-ads-${t.id}`,children:"Editar"}),l.jsx("div",{className:"modal fade",id:`edit-ads-${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-xl",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header border-0",children:[l.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-add",children:"Editar Aviso"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>o()})]}),l.jsxs("div",{className:"modal-body",children:[l.jsx("label",{className:"form-label",htmlFor:`title-edit-ads-${t.id}`,children:"Título"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:`title-edit-ads-${t.id}`,name:"titulo",value:s.titulo,onChange:w=>c(w)}),l.jsx("label",{className:"form-label",htmlFor:"subtitle-edit-ads",children:"Subtítulo"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:`subtitle-edit-ads-${t.id}`,name:"subtitulo",value:s.subtitulo,onChange:w=>c(w)}),l.jsx("label",{className:"form-label",htmlFor:"description-edit-ads",children:"Descripción"}),l.jsx("textarea",{className:"form-control rounded-0 ",id:`description-edit-ads-${t.id}`,name:"descripcion",rows:5,value:s.descripcion,onChange:w=>c(w)}),l.jsxs("div",{className:"p-3 mb-3",children:[l.jsx("div",{className:"form-label",children:l.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm mb-2",onClick:()=>f(),children:"Agregar Nuevo Link"})}),s.links!=null&&s.links.map((w,b)=>l.jsx(e2,{titulo_link:w.titulo_link,link:w.link,index:b,f1:h,f2:d},`${w.titulo_link}-${b}`)),l.jsx("label",{className:"form-label",htmlFor:`uploadImage-edit-ads-${t.id}`,children:"Subir imagen"}),l.jsx("input",{className:"form-control mb-3",id:`uploadImage-edit-ads-${t.id}`,name:"image_url",type:"file",onChange:w=>u(w)}),l.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>a({...s,posicion_id:1})})," Izquierda"]}),l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>a({...s,posicion_id:2})})," Derecha"]})]})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>o(),children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",form:"form-modal-edit-ads","data-bs-dismiss":"modal",onClick:g,children:"Guardar Cambios"})]})]})})}),l.jsx(Vt,{id:"toast-edit-ads",message:"¡Se ha editado con éxito el aviso!",title:"Seccion de avisos"})]})},fx=t=>{const e=je(),n=async()=>{await Jh(`/Avisos/1x9cYIlY1FaQcw9jZhf6/Anuncios/${t.id}`),await Xh(t.image_url),e(b9(t)),zt("delete-modal-section")};return l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm","data-bs-toggle":"modal","data-bs-target":`#ad-section-modal-delete${t.id}`,children:"Eliminar"}),l.jsx("div",{className:"modal fade",id:`ad-section-modal-delete${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"Eliminar"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),l.jsx("div",{className:"modal-body",children:"¿Estás seguro que desea eliminar está sección?"}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:()=>n(),children:"Aceptar"})]})]})})}),l.jsx(Vt,{id:"delete-modal-section",message:"¡Se ha eliminado con éxito el aviso!",title:"Seccion de avisos"})]})},px=t=>l.jsx(l.Fragment,{children:t.link.map(e=>l.jsx("div",{className:"text-sm-center",children:l.jsx("a",{className:"stretched-link",href:e.link,target:"_blank",children:e.titulo_link})},e.titulo_link))}),tz=()=>{const t=Ei(qN),[e,n]=y.useState([]);return y.useEffect(()=>{n(t.adsList)},[t]),l.jsxs(l.Fragment,{children:[t.loading&&l.jsx("div",{children:"Cargando..."}),e.map(r=>r.posicion_id==1?l.jsxs("div",{className:"row mb-3 border",children:[l.jsx("div",{className:"col",children:l.jsx("img",{className:"img-thumbnail",src:r.download_url})}),l.jsxs("div",{className:"col",children:[l.jsx("h3",{children:r.titulo}),l.jsx("h5",{children:r.subtitulo}),l.jsx("p",{className:"lead",children:r.descripcion}),l.jsx("button",{className:"btn btn-primary btn-sm mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),l.jsx("div",{className:"collapse",id:`collapse-${r.id}`,children:l.jsx("div",{className:"card card-body",children:l.jsx(px,{link:r.links},`${r.id}-ads-linkfield1`)})})]}),l.jsx(hx,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url,links:r.links},`${r.id}-adssection1`),l.jsx(fx,{id:r.id,image_url:r.image_url},`${r.id}-delete1`)]},`${r.id}-div1`):l.jsxs("div",{className:"row mb-3 border",children:[l.jsxs("div",{className:"col",children:[l.jsx("h3",{children:r.titulo}),l.jsx("h5",{children:r.subtitulo}),l.jsx("p",{className:"lead",children:r.descripcion}),l.jsx("button",{className:`\r
                        \r
                        btn btn-primary btn-sm mb-2`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),l.jsx("div",{className:"collapse mb-2",id:`collapse-${r.id}`,children:l.jsx("div",{className:"card card-body",children:l.jsx(px,{link:r.links},`${r.id}-ads-linkfield2`)})})]}),l.jsx("div",{className:"col",children:l.jsx("img",{className:"img-thumbnail",src:r.download_url})}),l.jsx(hx,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url,links:r.links},`${r.id}-adssection2`),l.jsx(fx,{id:r.id,image_url:r.image_url},`${r.id}-delete2`)]},`${r.id}-div2`))]})},nz=()=>{const t=je();return y.useEffect(()=>{t(wu()),t(xu())},[]),l.jsx(l.Fragment,{children:l.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[l.jsx(ZV,{}),l.jsx(ez,{}),l.jsx("div",{className:"container-fluid",children:l.jsx(tz,{})})]})})},rz=()=>{const t=Ei(GN),e=je(),n={titulo:t.main.titulo,subtitulo:t.main.subtitulo},[r,i]=y.useState(n),[s,a]=y.useState(),c=()=>{i(n)},o=h=>{i({...r,[h.target.name]:h.target.value})},u=h=>{a(h.target.files[0]),o(h)},d=async()=>{let h=t.main.download_url;s!=null&&(h=await Sn(s,"/Servicios/Principal/image"));const f={titulo:r.titulo,subtitulo:r.subtitulo,download_url:h,image_url:t.main.image_url};await rt("/Servicios/xsc94XcgZ4Agn9IisLop",f),e(x9(f)),zt("toast-servicemain-update")};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center rounded mb-5",children:[l.jsx("img",{src:t.main.download_url,className:"img-fluid"}),l.jsx("h1",{className:"display-1 text-black",children:t.main.titulo}),l.jsx("h3",{className:"display-6 text-black",children:t.main.subtitulo}),l.jsx("button",{type:"button",className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"Actualizar Inicio"})]}),l.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-xl",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header border-0",children:[l.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-servicemain",children:"Actualizar Inicio de Servicios"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:c})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("div",{className:"form-row text-black",children:[l.jsx("label",{className:"form-label",htmlFor:"title-service-add",children:"Título"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-service-add",name:"titulo",value:r.titulo,onChange:h=>o(h)}),l.jsx("label",{className:"form-label",htmlFor:"subtitle-service-add",children:"Subtitulo"}),l.jsx("textarea",{className:"form-control rounded-0 ",id:"subtitle-service-add",name:"subtitulo",value:r.subtitulo,onChange:h=>o(h)}),l.jsx("label",{className:"form-label",htmlFor:"uploadImage-add",children:"Subir imagen"}),l.jsx("input",{className:"form-control",id:"uploadImage-add",name:"image_url",type:"file",onChange:h=>u(h)})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:c,children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>d(),children:"Guardar Cambios"})]})]})})}),l.jsx(Vt,{id:"toast-servicemain-update",message:"¡Se ha actualizado con éxito la sección principal de Servicios!",title:"Servicios - Seccion Principal"})]})},t2=t=>l.jsx(l.Fragment,{children:l.jsxs("div",{className:"input-group mb-1 p-1",children:[l.jsx("input",{type:"text",id:`${t.titulo_link}-${t.index}1`,className:"form-control",name:"titulo_link",placeholder:"Titulo",value:t.titulo_link,onChange:e=>t.f1(e,t.index),autoFocus:!0}),l.jsx("input",{type:"text",id:`${t.link}-${t.index}2`,className:"form-control",name:"link","aria-label":"ads-link",placeholder:"www.cantonal.com",value:t.link,onChange:e=>t.f1(e,t.index)}),l.jsx("button",{type:"button",className:"fa-solid fa-trash-can",onClick:()=>t.f2(t.index)})]})}),iz=()=>{const t=je(),[e,n]=y.useState(),r={id:"",posicion_id:1,titulo:"",subtitulo:"",descripcion:"",estado:1,image_url:"",download_url:"",links:[]},[i,s]=y.useState(r),[a,c]=y.useState([]),o=b=>{s({...i,[b.target.name]:b.target.value})},u=()=>{s(r)},d=b=>{n(b.target.files[0]),s({...i,image_url:`/Servicios/Lista_servicios/${Jv()}`})},h=b=>{const x=i.links.filter((p,v)=>b!=v),m={...i,links:x};s(m)},f=(b,x)=>{const m=i.links.map((p,v)=>v==x?{...i.links[v],[b.target.name]:b.target.value}:p);s({...i,links:m})},g=()=>{const b={...i,links:[...i.links,{titulo_link:"",link:""}]};s(b)},w=async b=>{b.preventDefault();let x="";e!=null&&(x=await Sn(e,i.image_url));let m={posicion_id:i.posicion_id,titulo:i.titulo,subtitulo:i.subtitulo,descripcion:i.descripcion,estado:1,image_url:i.image_url,download_url:x,links:i.links};const p=await Yh("/Servicios/xsc94XcgZ4Agn9IisLop/Lista_servicios",m);m={...m,id:p.id},t(_9(m)),setTimeout(()=>{Xv("add-service"),zt("toast-add-service")},500),u()};return y.useEffect(()=>{c(i.links)},[i]),l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-primary mb-2","data-bs-toggle":"modal","data-bs-target":"#add-service",children:"Crear Servicio"}),l.jsx("div",{className:"modal fade",id:"add-service","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-xl",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header border-0",children:[l.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-add",children:"Crear Servicio"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>u()})]}),l.jsx("div",{className:"modal-body",children:l.jsxs("form",{onSubmit:w,id:"form-modal-add-service",children:[l.jsx("label",{className:"form-label",htmlFor:"title-service-add",children:"Título"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-service-add",name:"titulo",value:i.titulo,onChange:b=>o(b)}),l.jsx("label",{className:"form-label",htmlFor:"subtitle-service-add",children:"Subtítulo"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:"subtitle-service-add",name:"subtitulo",value:i.subtitulo,onChange:b=>o(b)}),l.jsx("label",{className:"form-label",htmlFor:"description-service-add",children:"Descripción"}),l.jsx("textarea",{className:"form-control rounded-0 ",id:"description-service-add",name:"descripcion",rows:5,value:i.descripcion,onChange:b=>o(b)}),l.jsxs("div",{className:"p-3 mb-3",children:[l.jsx("div",{className:"form-label",children:l.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm mb-2",onClick:()=>g(),children:"Agregar Nuevo Link"})}),a!=null&&a.map((b,x)=>l.jsx(t2,{titulo_link:b.titulo_link,link:b.link,index:x,f1:f,f2:h},`${b.titulo_link}-${x}-add`)),l.jsx("label",{className:"form-label",htmlFor:"uploadImage-add-service",children:"Subir imagen"}),l.jsx("input",{className:"form-control mb-3",id:"uploadImage-add-service",name:"image_url",type:"file",onChange:b=>d(b),required:!0}),l.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>s({...i,posicion_id:1})})," Izquierda"]}),l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>s({...i,posicion_id:2})})," Derecha"]})]})]})]})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>u(),children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",form:"form-modal-add-service",children:"Guardar Cambios"})]})]})})}),l.jsx(Vt,{id:"toast-add-service",message:"¡Se ha agregado con éxito el servicio!",title:"Seccion de servicios"})]})},mx=t=>{const e=je(),[n,r]=y.useState(),i={id:t.id,posicion_id:t.posicion_id,titulo:t.titulo,subtitulo:t.subtitulo,descripcion:t.descripcion,estado:1,image_url:t.image_url,download_url:t.download_url,links:t.links},[s,a]=y.useState(i),c=w=>{a({...s,[w.target.name]:w.target.value})},o=()=>{a(i)},u=w=>{w.target.files[0]!=null?r(w.target.files[0]):r(void 0)},d=w=>{const b=s.links.filter((m,p)=>w!=p),x={...s,links:b};a(x)},h=(w,b)=>{const x=s.links.map((m,p)=>p==b?{...s.links[p],[w.target.name]:w.target.value}:m);a({...s,links:x})},f=()=>{const w={...s,links:[...s.links,{titulo_link:"",link:""}]};a(w)},g=async w=>{w.preventDefault();let b=s.download_url;n!=null&&(b=await Sn(n,s.image_url));let x={posicion_id:s.posicion_id,titulo:s.titulo,subtitulo:s.subtitulo,descripcion:s.descripcion,estado:1,image_url:t.image_url,download_url:b,links:s.links};await rt(`/Servicios/xsc94XcgZ4Agn9IisLop/Lista_servicios/${t.id}`,x),x={...x,id:t.id},e(k9(x)),zt("toast-edit-service"),o()};return l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-outline-warning mb-2","data-bs-toggle":"modal","data-bs-target":`#edit-service-${t.id}`,children:"Editar"}),l.jsx("div",{className:"modal fade",id:`edit-service-${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog modal-xl",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header border-0",children:[l.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-add",children:"Editar Aviso"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>o()})]}),l.jsxs("div",{className:"modal-body",children:[l.jsx("label",{className:"form-label",htmlFor:`title-edit-service-${t.id}`,children:"Título"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:`title-edit-service-${t.id}`,name:"titulo",value:s.titulo,onChange:w=>c(w)}),l.jsx("label",{className:"form-label",htmlFor:`subtitle-edit-service-${t.id}`,children:"Subtítulo"}),l.jsx("textarea",{className:"form-control rounded-0 h-10",id:`subtitle-edit-service-${t.id}`,name:"subtitulo",value:s.subtitulo,onChange:w=>c(w)}),l.jsx("label",{className:"form-label",htmlFor:`description-edit-service-${t.id}`,children:"Descripción"}),l.jsx("textarea",{className:"form-control rounded-0 ",id:`description-edit-service-${t.id}`,name:"descripcion",rows:5,value:s.descripcion,onChange:w=>c(w)}),l.jsxs("div",{className:"p-3 mb-3",children:[l.jsx("div",{className:"form-label",children:l.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm mb-2",onClick:()=>f(),children:"Agregar Nuevo Link"})}),s.links!=null&&s.links.map((w,b)=>l.jsx(t2,{titulo_link:w.titulo_link,link:w.link,index:b,f1:h,f2:d},`${w.titulo_link}-${b}`)),l.jsx("label",{className:"form-label",htmlFor:`uploadImage-edit-service-${t.id}`,children:"Subir imagen"}),l.jsx("input",{className:"form-control mb-3",id:`uploadImage-edit-service-${t.id}`,name:"image_url",type:"file",onChange:w=>u(w)}),l.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>a({...s,posicion_id:1})})," Izquierda"]}),l.jsxs("label",{className:"btn btn-secondary",children:[l.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>a({...s,posicion_id:2})})," Derecha"]})]})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>o(),children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn btn-primary",form:"form-modal-edit-service","data-bs-dismiss":"modal",onClick:g,children:"Guardar Cambios"})]})]})})}),l.jsx(Vt,{id:"toast-edit-service",message:"¡Se ha editado con éxito el aviso!",title:"Seccion de avisos"})]})},gx=t=>{const e=je(),n=async()=>{await Jh(`/Servicios/xsc94XcgZ4Agn9IisLop/Lista_servicios/${t.id}`),await Xh(t.image_url),e(S9(t)),zt("delete-modal-section")};return l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm","data-bs-toggle":"modal","data-bs-target":`#service-section-modal-delete${t.id}`,children:"Eliminar"}),l.jsx("div",{className:"modal fade",id:`service-section-modal-delete${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:l.jsx("div",{className:"modal-dialog",children:l.jsxs("div",{className:"modal-content",children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"Eliminar"}),l.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),l.jsx("div",{className:"modal-body",children:"¿Estás seguro que desea eliminar está sección?"}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:()=>n(),children:"Aceptar"})]})]})})}),l.jsx(Vt,{id:"delete-modal-section",message:"¡Se ha eliminado con éxito el servicio!",title:"Seccion de servicios"})]})},bx=t=>l.jsx(l.Fragment,{children:t.link.map(e=>l.jsx("div",{className:"text-sm-center",children:l.jsx("a",{className:"stretched-link",href:e.link,target:"_blank",children:e.titulo_link})},e.titulo_link))}),sz=()=>{const t=Ei(GN),[e,n]=y.useState([]);return y.useEffect(()=>{n(t.ServiceList)},[t]),l.jsxs(l.Fragment,{children:[t.loading&&l.jsx("div",{children:"Cargando..."}),e.map(r=>r.posicion_id==1?l.jsxs("div",{className:"row mb-3 border",children:[l.jsx("div",{className:"col",children:l.jsx("img",{className:"img-thumbnail",src:r.download_url})}),l.jsxs("div",{className:"col",children:[l.jsx("h3",{children:r.titulo}),l.jsx("h5",{children:r.subtitulo}),l.jsx("p",{className:"lead",children:r.descripcion}),l.jsx("button",{className:"btn btn-primary btn-sm mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),l.jsx("div",{className:"collapse",id:`collapse-${r.id}`,children:l.jsx("div",{className:"card card-body",children:l.jsx(bx,{link:r.links},`${r.id}-service-linkfield1`)})})]}),l.jsx(mx,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url,links:r.links},`${r.id}-servicesection1`),l.jsx(gx,{id:r.id,image_url:r.image_url},`${r.id}-delete1`)]},`${r.id}-div1`):l.jsxs("div",{className:"row mb-3 border",children:[l.jsxs("div",{className:"col",children:[l.jsx("h3",{children:r.titulo}),l.jsx("h5",{children:r.subtitulo}),l.jsx("p",{className:"lead",children:r.descripcion}),l.jsx("button",{className:`\r
                        \r
                        btn btn-primary btn-sm mb-2`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),l.jsx("div",{className:"collapse mb-2",id:`collapse-${r.id}`,children:l.jsx("div",{className:"card card-body",children:l.jsx(bx,{link:r.links},`${r.id}-service-linkfield2`)})})]}),l.jsx("div",{className:"col",children:l.jsx("img",{className:"img-thumbnail",src:r.download_url})}),l.jsx(mx,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url,links:r.links},`${r.id}-servicesection2`),l.jsx(gx,{id:r.id,image_url:r.image_url},`${r.id}-delete2`)]},`${r.id}-div2`))]})},az=()=>{const t=je();return y.useEffect(()=>{t(_u()),t(Su())},[]),l.jsxs("div",{className:"p-3 mb-2 bg-white text-dark border",id:"about-container",children:[l.jsx(rz,{}),l.jsx(iz,{}),l.jsx("div",{className:"container-fluid",children:l.jsx(sz,{})})]})},oz=()=>l.jsxs(xU,{children:[l.jsx(qt,{path:"/ucag-admin/",element:l.jsx(L1,{})}),l.jsx(qt,{path:"/ucag-admin/iniciar-sesion",element:l.jsx(L1,{})}),l.jsx(qt,{path:"/ucag-admin/home",element:l.jsx(CV,{})}),l.jsx(qt,{path:"/ucag-admin/crear-cuenta",element:l.jsx(fj,{})}),l.jsx(qt,{path:"/ucag-admin/Cursos",element:l.jsx(QU,{})}),l.jsx(qt,{path:"/ucag-admin/gestionar-cursos",element:l.jsx(mV,{})}),l.jsx(qt,{path:"/ucag-admin/About",element:l.jsx(kV,{})}),l.jsx(qt,{path:"/ucag-admin/Students",element:l.jsx(RV,{})}),l.jsx(qt,{path:"/ucag-admin/mi-perfil",element:l.jsx(Hj,{})}),l.jsx(qt,{path:"/ucag-admin/matriculaAdmin",element:l.jsx(OV,{})}),l.jsx(qt,{path:"/ucag-admin/evaluacionEstudiantes",element:l.jsx(QV,{})}),l.jsx(qt,{path:"/ucag-admin/avisos",element:l.jsx(nz,{})}),l.jsx(qt,{path:"/ucag-admin/servicios",element:l.jsx(az,{})})]}),lz=()=>{const t=ob(),e=me(o=>o.auth.user),n=me(o=>o.auth.loggedIn),r=me(o=>o.empresa.dataEmpresa),i=fn(),s=()=>{t(UF()),i("/ucag-admin/iniciar-sesion",{replace:!0})},[a,c]=y.useState("");return y.useEffect(()=>{(async()=>{const o=Ul(rc,"Empresa/Logo/logo");hh(o).then(u=>{c(u)}).catch(u=>{console.error("Error descargando el logo:",u)})})()},[]),l.jsx("div",{className:"navbar-container shadow-lg",children:l.jsx("nav",{className:"navbar navbar-expand-sm fixed-top text-dark bg-dark p-2",children:l.jsxs("div",{className:"container-fluid",children:[e&&n&&l.jsx(ur,{className:"navbar-brand",to:"/ucag-admin/home",children:l.jsx("img",{ref:a,alt:"Logo",width:"110",height:"80"})}),!e&&!n&&l.jsx(ur,{className:"navbar-brand",to:"/ucag-admin/",children:l.jsx("img",{ref:a,alt:"Bootstrap",width:"110",height:"80"})}),l.jsx("h4",{className:"navbar-text-white d-none d-sm-inline-block",children:(r==null?void 0:r.titulo_footer)??"Unión Cantonal de Asociaciones Guatuso"}),l.jsx("button",{className:"navbar-toggler navbar-dark navbar-toggler-custom",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation",children:l.jsx("span",{className:"navbar-toggler-icon"})}),l.jsxs("div",{className:"collapse navbar-collapse navbar-collapse-custom",id:"navbarTogglerDemo01",children:[l.jsx("div",{className:"navbar-collapse ",children:e&&n&&""}),l.jsx("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2 d-flex justify-content-end",children:l.jsx("ul",{className:"navbar-nav ",children:n&&e&&l.jsxs("div",{className:"navbar-nav",children:[l.jsx(ur,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/ucag-admin/home",children:"Inicio"}),l.jsx(ur,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/ucag-admin/mi-perfil",children:"Mi Perfil"}),l.jsx(ur,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/ucag-admin/students",children:"Usuarios"}),l.jsx(ur,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/ucag-admin/Cursos",children:"Cursos"}),l.jsx(ur,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/ucag-admin/servicios",children:"Servicios"}),l.jsx(ur,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/ucag-admin/avisos",children:"Avisos"}),l.jsx(ur,{className:({isActive:o})=>`nav-item nav-link ${o?"active":""} navbar-text-white`,to:"/ucag-admin/about",children:"Acerca"}),l.jsxs("button",{className:"nav-item nav-link btn navbar-text-white",onClick:s,children:[l.jsx("i",{className:"fa-solid fa-right-from-bracket me-2"}),"Cerrar Sesión"]})]})})})]})]})})})},cz=({children:t})=>{const[e,n]=y.useState(!1),r=je();return y.useEffect(()=>{setTimeout(()=>{n(!0)},1500),r(KF()),r(VN())},[setTimeout,n]),l.jsxs(l.Fragment,{children:[l.jsx(lz,{}),t]})};function uz(){return l.jsx(TU,{children:l.jsx(cz,{children:l.jsx(oz,{})})})}AS(document.getElementById("root")).render(l.jsx(Y.StrictMode,{children:l.jsx(ER,{store:KN,children:l.jsx(US,{persistor:A9,children:l.jsx(uz,{})})})}));
