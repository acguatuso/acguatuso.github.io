var Vk=Object.defineProperty;var Uk=(t,e,n)=>e in t?Vk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wf=(t,e,n)=>(Uk(t,typeof e!="symbol"?e+"":e,n),n);function zk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Bk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P1={exports:{}},Zd={},A1={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),Hk=Symbol.for("react.portal"),Wk=Symbol.for("react.fragment"),qk=Symbol.for("react.strict_mode"),Gk=Symbol.for("react.profiler"),Kk=Symbol.for("react.provider"),Qk=Symbol.for("react.context"),Yk=Symbol.for("react.forward_ref"),Xk=Symbol.for("react.suspense"),Jk=Symbol.for("react.memo"),Zk=Symbol.for("react.lazy"),O_=Symbol.iterator;function eN(t){return t===null||typeof t!="object"?null:(t=O_&&t[O_]||t["@@iterator"],typeof t=="function"?t:null)}var j1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D1=Object.assign,O1={};function Uo(t,e,n){this.props=t,this.context=e,this.refs=O1,this.updater=n||j1}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function L1(){}L1.prototype=Uo.prototype;function bg(t,e,n){this.props=t,this.context=e,this.refs=O1,this.updater=n||j1}var Eg=bg.prototype=new L1;Eg.constructor=bg;D1(Eg,Uo.prototype);Eg.isPureReactComponent=!0;var L_=Array.isArray,$1=Object.prototype.hasOwnProperty,xg={current:null},M1={key:!0,ref:!0,__self:!0,__source:!0};function F1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$1.call(e,r)&&!M1.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Fl,type:t,key:s,ref:o,props:i,_owner:xg.current}}function tN(t,e){return{$$typeof:Fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fl}function nN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $_=/\/+/g;function bf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nN(""+t.key):e.toString(36)}function ru(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fl:case Hk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bf(o,0):r,L_(i)?(n="",t!=null&&(n=t.replace($_,"$&/")+"/"),ru(i,e,n,"",function(u){return u})):i!=null&&(Sg(i)&&(i=tN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",L_(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+bf(s,l);o+=ru(s,e,n,c,i)}else if(c=eN(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+bf(s,l++),o+=ru(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ec(t,e,n){if(t==null)return t;var r=[],i=0;return ru(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},iu={transition:null},iN={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:iu,ReactCurrentOwner:xg};be.Children={map:Ec,forEach:function(t,e,n){Ec(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ec(t,function(){e++}),e},toArray:function(t){return Ec(t,function(e){return e})||[]},only:function(t){if(!Sg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Uo;be.Fragment=Wk;be.Profiler=Gk;be.PureComponent=bg;be.StrictMode=qk;be.Suspense=Xk;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iN;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=D1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)$1.call(e,c)&&!M1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Fl,type:t.type,key:i,ref:s,props:r,_owner:o}};be.createContext=function(t){return t={$$typeof:Qk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kk,_context:t},t.Consumer=t};be.createElement=F1;be.createFactory=function(t){var e=F1.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:Yk,render:t}};be.isValidElement=Sg;be.lazy=function(t){return{$$typeof:Zk,_payload:{_status:-1,_result:t},_init:rN}};be.memo=function(t,e){return{$$typeof:Jk,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=iu.transition;iu.transition={};try{t()}finally{iu.transition=e}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(t,e){return Yt.current.useCallback(t,e)};be.useContext=function(t){return Yt.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};be.useEffect=function(t,e){return Yt.current.useEffect(t,e)};be.useId=function(){return Yt.current.useId()};be.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return Yt.current.useMemo(t,e)};be.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};be.useRef=function(t){return Yt.current.useRef(t)};be.useState=function(t){return Yt.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return Yt.current.useTransition()};be.version="18.2.0";A1.exports=be;var p=A1.exports;const ie=Bk(p),Tp=zk({__proto__:null,default:ie},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN=p,oN=Symbol.for("react.element"),aN=Symbol.for("react.fragment"),lN=Object.prototype.hasOwnProperty,cN=sN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uN={key:!0,ref:!0,__self:!0,__source:!0};function V1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lN.call(e,r)&&!uN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oN,type:t,key:s,ref:o,props:i,_owner:cN.current}}Zd.Fragment=aN;Zd.jsx=V1;Zd.jsxs=V1;P1.exports=Zd;var a=P1.exports,U1={exports:{}},_n={},z1={exports:{}},B1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,z){var K=V.length;V.push(z);e:for(;0<K;){var se=K-1>>>1,N=V[se];if(0<i(N,z))V[se]=z,V[K]=N,K=se;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var z=V[0],K=V.pop();if(K!==z){V[0]=K;e:for(var se=0,N=V.length,O=N>>>1;se<O;){var W=2*(se+1)-1,X=V[W],Q=W+1,te=V[Q];if(0>i(X,K))Q<N&&0>i(te,X)?(V[se]=te,V[Q]=K,se=Q):(V[se]=X,V[W]=K,se=W);else if(Q<N&&0>i(te,K))V[se]=te,V[Q]=K,se=Q;else break e}}return z}function i(V,z){var K=V.sortIndex-z.sortIndex;return K!==0?K:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,y=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=V)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function E(V){if(_=!1,w(V),!y)if(n(c)!==null)y=!0,ve(x);else{var z=n(u);z!==null&&_e(E,z.startTime-V)}}function x(V,z){y=!1,_&&(_=!1,v(I),I=-1),m=!0;var K=f;try{for(w(z),h=n(c);h!==null&&(!(h.expirationTime>z)||V&&!ee());){var se=h.callback;if(typeof se=="function"){h.callback=null,f=h.priorityLevel;var N=se(h.expirationTime<=z);z=t.unstable_now(),typeof N=="function"?h.callback=N:h===n(c)&&r(c),w(z)}else r(c);h=n(c)}if(h!==null)var O=!0;else{var W=n(u);W!==null&&_e(E,W.startTime-z),O=!1}return O}finally{h=null,f=K,m=!1}}var S=!1,C=null,I=-1,j=5,M=-1;function ee(){return!(t.unstable_now()-M<j)}function fe(){if(C!==null){var V=t.unstable_now();M=V;var z=!0;try{z=C(!0,V)}finally{z?ne():(S=!1,C=null)}}else S=!1}var ne;if(typeof g=="function")ne=function(){g(fe)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,he=J.port2;J.port1.onmessage=fe,ne=function(){he.postMessage(null)}}else ne=function(){b(fe,0)};function ve(V){C=V,S||(S=!0,ne())}function _e(V,z){I=b(function(){V(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,ve(x))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var K=f;f=z;try{return V()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=f;f=V;try{return z()}finally{f=K}},t.unstable_scheduleCallback=function(V,z,K){var se=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?se+K:se):K=se,V){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=K+N,V={id:d++,callback:z,priorityLevel:V,startTime:K,expirationTime:N,sortIndex:-1},K>se?(V.sortIndex=K,e(u,V),n(c)===null&&V===n(u)&&(_?(v(I),I=-1):_=!0,_e(E,K-se))):(V.sortIndex=N,e(c,V),y||m||(y=!0,ve(x))),V},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(V){var z=f;return function(){var K=f;f=z;try{return V.apply(this,arguments)}finally{f=K}}}})(B1);z1.exports=B1;var dN=z1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1=p,mn=dN;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W1=new Set,Ya={};function bs(t,e){yo(t,e),yo(t+"Capture",e)}function yo(t,e){for(Ya[t]=e,t=0;t<e.length;t++)W1.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rp=Object.prototype.hasOwnProperty,hN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M_={},F_={};function fN(t){return Rp.call(F_,t)?!0:Rp.call(M_,t)?!1:hN.test(t)?F_[t]=!0:(M_[t]=!0,!1)}function pN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mN(t,e,n,r){if(e===null||typeof e>"u"||pN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cg=/[\-:]([a-z])/g;function Ig(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cg,Ig);kt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cg,Ig);kt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cg,Ig);kt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tg(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mN(e,n,i,r)&&(n=null),r||i===null?fN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $r=H1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xc=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),q1=Symbol.for("react.provider"),G1=Symbol.for("react.context"),kg=Symbol.for("react.forward_ref"),Np=Symbol.for("react.suspense"),Pp=Symbol.for("react.suspense_list"),Ng=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),K1=Symbol.for("react.offscreen"),V_=Symbol.iterator;function oa(t){return t===null||typeof t!="object"?null:(t=V_&&t[V_]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Ef;function va(t){if(Ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ef=e&&e[1]||""}return`
`+Ef+t}var xf=!1;function Sf(t,e){if(!t||xf)return"";xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{xf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?va(t):""}function gN(t){switch(t.tag){case 5:return va(t.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return t=Sf(t.type,!1),t;case 11:return t=Sf(t.type.render,!1),t;case 1:return t=Sf(t.type,!0),t;default:return""}}function Ap(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hs:return"Fragment";case Bs:return"Portal";case kp:return"Profiler";case Rg:return"StrictMode";case Np:return"Suspense";case Pp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case G1:return(t.displayName||"Context")+".Consumer";case q1:return(t._context.displayName||"Context")+".Provider";case kg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ng:return e=t.displayName||null,e!==null?e:Ap(t.type)||"Memo";case Wr:e=t._payload,t=t._init;try{return Ap(t(e))}catch{}}return null}function yN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ap(e);case 8:return e===Rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vN(t){var e=Q1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sc(t){t._valueTracker||(t._valueTracker=vN(t))}function Y1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jp(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function U_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function X1(t,e){e=e.checked,e!=null&&Tg(t,"checked",e,!1)}function Dp(t,e){X1(t,e);var n=yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Op(t,e.type,n):e.hasOwnProperty("defaultValue")&&Op(t,e.type,yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function z_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Op(t,e,n){(e!=="number"||zu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _a=Array.isArray;function io(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(_a(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yi(n)}}function J1(t,e){var n=yi(e.value),r=yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function H_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Z1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $p(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Z1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cc,eE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cc=Cc||document.createElement("div"),Cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_N=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(t){_N.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pa[e]=Pa[t]})});function tE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pa.hasOwnProperty(t)&&Pa[t]?(""+e).trim():e+"px"}function nE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wN=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mp(t,e){if(e){if(wN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Fp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function Pg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Up=null,so=null,oo=null;function W_(t){if(t=zl(t)){if(typeof Up!="function")throw Error(L(280));var e=t.stateNode;e&&(e=ih(e),Up(t.stateNode,t.type,e))}}function rE(t){so?oo?oo.push(t):oo=[t]:so=t}function iE(){if(so){var t=so,e=oo;if(oo=so=null,W_(t),e)for(t=0;t<e.length;t++)W_(e[t])}}function sE(t,e){return t(e)}function oE(){}var Cf=!1;function aE(t,e,n){if(Cf)return t(e,n);Cf=!0;try{return sE(t,e,n)}finally{Cf=!1,(so!==null||oo!==null)&&(oE(),iE())}}function Ja(t,e){var n=t.stateNode;if(n===null)return null;var r=ih(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var zp=!1;if(kr)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){zp=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{zp=!1}function bN(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Aa=!1,Bu=null,Hu=!1,Bp=null,EN={onError:function(t){Aa=!0,Bu=t}};function xN(t,e,n,r,i,s,o,l,c){Aa=!1,Bu=null,bN.apply(EN,arguments)}function SN(t,e,n,r,i,s,o,l,c){if(xN.apply(this,arguments),Aa){if(Aa){var u=Bu;Aa=!1,Bu=null}else throw Error(L(198));Hu||(Hu=!0,Bp=u)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q_(t){if(Es(t)!==t)throw Error(L(188))}function CN(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return q_(i),t;if(s===r)return q_(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function cE(t){return t=CN(t),t!==null?uE(t):null}function uE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uE(t);if(e!==null)return e;t=t.sibling}return null}var dE=mn.unstable_scheduleCallback,G_=mn.unstable_cancelCallback,IN=mn.unstable_shouldYield,TN=mn.unstable_requestPaint,et=mn.unstable_now,RN=mn.unstable_getCurrentPriorityLevel,Ag=mn.unstable_ImmediatePriority,hE=mn.unstable_UserBlockingPriority,Wu=mn.unstable_NormalPriority,kN=mn.unstable_LowPriority,fE=mn.unstable_IdlePriority,eh=null,sr=null;function NN(t){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(eh,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:jN,PN=Math.log,AN=Math.LN2;function jN(t){return t>>>=0,t===0?32:31-(PN(t)/AN|0)|0}var Ic=64,Tc=4194304;function wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=wa(l):(s&=o,s!==0&&(r=wa(s)))}else o=n&~i,o!==0?r=wa(o):s!==0&&(r=wa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),i=1<<n,r|=t[n],e&=~i;return r}function DN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ON(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Un(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=DN(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Hp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pE(){var t=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),t}function If(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function LN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function mE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gE,Dg,yE,vE,_E,Wp=!1,Rc=[],ii=null,si=null,oi=null,Za=new Map,el=new Map,Gr=[],$N="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K_(t,e){switch(t){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":Za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(e.pointerId)}}function la(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=zl(e),e!==null&&Dg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MN(t,e,n,r,i){switch(e){case"focusin":return ii=la(ii,t,e,n,r,i),!0;case"dragenter":return si=la(si,t,e,n,r,i),!0;case"mouseover":return oi=la(oi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Za.set(s,la(Za.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,el.set(s,la(el.get(s)||null,t,e,n,r,i)),!0}return!1}function wE(t){var e=zi(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=lE(n),e!==null){t.blockedOn=e,_E(t.priority,function(){yE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function su(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vp=r,n.target.dispatchEvent(r),Vp=null}else return e=zl(n),e!==null&&Dg(e),t.blockedOn=n,!1;e.shift()}return!0}function Q_(t,e,n){su(t)&&n.delete(e)}function FN(){Wp=!1,ii!==null&&su(ii)&&(ii=null),si!==null&&su(si)&&(si=null),oi!==null&&su(oi)&&(oi=null),Za.forEach(Q_),el.forEach(Q_)}function ca(t,e){t.blockedOn===e&&(t.blockedOn=null,Wp||(Wp=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,FN)))}function tl(t){function e(i){return ca(i,t)}if(0<Rc.length){ca(Rc[0],t);for(var n=1;n<Rc.length;n++){var r=Rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ii!==null&&ca(ii,t),si!==null&&ca(si,t),oi!==null&&ca(oi,t),Za.forEach(e),el.forEach(e),n=0;n<Gr.length;n++)r=Gr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gr.length&&(n=Gr[0],n.blockedOn===null);)wE(n),n.blockedOn===null&&Gr.shift()}var ao=$r.ReactCurrentBatchConfig,Gu=!0;function VN(t,e,n,r){var i=Ne,s=ao.transition;ao.transition=null;try{Ne=1,Og(t,e,n,r)}finally{Ne=i,ao.transition=s}}function UN(t,e,n,r){var i=Ne,s=ao.transition;ao.transition=null;try{Ne=4,Og(t,e,n,r)}finally{Ne=i,ao.transition=s}}function Og(t,e,n,r){if(Gu){var i=qp(t,e,n,r);if(i===null)Lf(t,e,r,Ku,n),K_(t,r);else if(MN(i,t,e,n,r))r.stopPropagation();else if(K_(t,r),e&4&&-1<$N.indexOf(t)){for(;i!==null;){var s=zl(i);if(s!==null&&gE(s),s=qp(t,e,n,r),s===null&&Lf(t,e,r,Ku,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Lf(t,e,r,null,n)}}var Ku=null;function qp(t,e,n,r){if(Ku=null,t=Pg(r),t=zi(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ku=t,null}function bE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RN()){case Ag:return 1;case hE:return 4;case Wu:case kN:return 16;case fE:return 536870912;default:return 16}default:return 16}}var ei=null,Lg=null,ou=null;function EE(){if(ou)return ou;var t,e=Lg,n=e.length,r,i="value"in ei?ei.value:ei.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ou=i.slice(t,1<r?1-r:void 0)}function au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kc(){return!0}function Y_(){return!1}function wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kc:Y_,this.isPropagationStopped=Y_,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),e}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=wn(zo),Ul=qe({},zo,{view:0,detail:0}),zN=wn(Ul),Tf,Rf,ua,th=qe({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ua&&(ua&&t.type==="mousemove"?(Tf=t.screenX-ua.screenX,Rf=t.screenY-ua.screenY):Rf=Tf=0,ua=t),Tf)},movementY:function(t){return"movementY"in t?t.movementY:Rf}}),X_=wn(th),BN=qe({},th,{dataTransfer:0}),HN=wn(BN),WN=qe({},Ul,{relatedTarget:0}),kf=wn(WN),qN=qe({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),GN=wn(qN),KN=qe({},zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QN=wn(KN),YN=qe({},zo,{data:0}),J_=wn(YN),XN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZN[t])?!!e[t]:!1}function Mg(){return eP}var tP=qe({},Ul,{key:function(t){if(t.key){var e=XN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mg,charCode:function(t){return t.type==="keypress"?au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nP=wn(tP),rP=qe({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z_=wn(rP),iP=qe({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mg}),sP=wn(iP),oP=qe({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),aP=wn(oP),lP=qe({},th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cP=wn(lP),uP=[9,13,27,32],Fg=kr&&"CompositionEvent"in window,ja=null;kr&&"documentMode"in document&&(ja=document.documentMode);var dP=kr&&"TextEvent"in window&&!ja,xE=kr&&(!Fg||ja&&8<ja&&11>=ja),e0=" ",t0=!1;function SE(t,e){switch(t){case"keyup":return uP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ws=!1;function hP(t,e){switch(t){case"compositionend":return CE(e);case"keypress":return e.which!==32?null:(t0=!0,e0);case"textInput":return t=e.data,t===e0&&t0?null:t;default:return null}}function fP(t,e){if(Ws)return t==="compositionend"||!Fg&&SE(t,e)?(t=EE(),ou=Lg=ei=null,Ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xE&&e.locale!=="ko"?null:e.data;default:return null}}var pP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pP[t.type]:e==="textarea"}function IE(t,e,n,r){rE(r),e=Qu(e,"onChange"),0<e.length&&(n=new $g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Da=null,nl=null;function mP(t){$E(t,0)}function nh(t){var e=Ks(t);if(Y1(e))return t}function gP(t,e){if(t==="change")return e}var TE=!1;if(kr){var Nf;if(kr){var Pf="oninput"in document;if(!Pf){var r0=document.createElement("div");r0.setAttribute("oninput","return;"),Pf=typeof r0.oninput=="function"}Nf=Pf}else Nf=!1;TE=Nf&&(!document.documentMode||9<document.documentMode)}function i0(){Da&&(Da.detachEvent("onpropertychange",RE),nl=Da=null)}function RE(t){if(t.propertyName==="value"&&nh(nl)){var e=[];IE(e,nl,t,Pg(t)),aE(mP,e)}}function yP(t,e,n){t==="focusin"?(i0(),Da=e,nl=n,Da.attachEvent("onpropertychange",RE)):t==="focusout"&&i0()}function vP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nh(nl)}function _P(t,e){if(t==="click")return nh(e)}function wP(t,e){if(t==="input"||t==="change")return nh(e)}function bP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:bP;function rl(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rp.call(e,i)||!Hn(t[i],e[i]))return!1}return!0}function s0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function o0(t,e){var n=s0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s0(n)}}function kE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NE(){for(var t=window,e=zu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zu(t.document)}return e}function Vg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EP(t){var e=NE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kE(n.ownerDocument.documentElement,n)){if(r!==null&&Vg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=o0(n,s);var o=o0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xP=kr&&"documentMode"in document&&11>=document.documentMode,qs=null,Gp=null,Oa=null,Kp=!1;function a0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kp||qs==null||qs!==zu(r)||(r=qs,"selectionStart"in r&&Vg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oa&&rl(Oa,r)||(Oa=r,r=Qu(Gp,"onSelect"),0<r.length&&(e=new $g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qs)))}function Nc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gs={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Af={},PE={};kr&&(PE=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function rh(t){if(Af[t])return Af[t];if(!Gs[t])return t;var e=Gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PE)return Af[t]=e[n];return t}var AE=rh("animationend"),jE=rh("animationiteration"),DE=rh("animationstart"),OE=rh("transitionend"),LE=new Map,l0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(t,e){LE.set(t,e),bs(e,[t])}for(var jf=0;jf<l0.length;jf++){var Df=l0[jf],SP=Df.toLowerCase(),CP=Df[0].toUpperCase()+Df.slice(1);Ii(SP,"on"+CP)}Ii(AE,"onAnimationEnd");Ii(jE,"onAnimationIteration");Ii(DE,"onAnimationStart");Ii("dblclick","onDoubleClick");Ii("focusin","onFocus");Ii("focusout","onBlur");Ii(OE,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function c0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SN(r,e,void 0,t),t.currentTarget=null}function $E(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;c0(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;c0(i,l,u),s=c}}}if(Hu)throw t=Bp,Hu=!1,Bp=null,t}function Me(t,e){var n=e[Zp];n===void 0&&(n=e[Zp]=new Set);var r=t+"__bubble";n.has(r)||(ME(e,t,2,!1),n.add(r))}function Of(t,e,n){var r=0;e&&(r|=4),ME(n,t,r,e)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function il(t){if(!t[Pc]){t[Pc]=!0,W1.forEach(function(n){n!=="selectionchange"&&(IP.has(n)||Of(n,!1,t),Of(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pc]||(e[Pc]=!0,Of("selectionchange",!1,e))}}function ME(t,e,n,r){switch(bE(e)){case 1:var i=VN;break;case 4:i=UN;break;default:i=Og}n=i.bind(null,e,n,t),i=void 0,!zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=zi(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}aE(function(){var u=s,d=Pg(n),h=[];e:{var f=LE.get(t);if(f!==void 0){var m=$g,y=t;switch(t){case"keypress":if(au(n)===0)break e;case"keydown":case"keyup":m=nP;break;case"focusin":y="focus",m=kf;break;case"focusout":y="blur",m=kf;break;case"beforeblur":case"afterblur":m=kf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=X_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=HN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sP;break;case AE:case jE:case DE:m=GN;break;case OE:m=aP;break;case"scroll":m=zN;break;case"wheel":m=cP;break;case"copy":case"cut":case"paste":m=QN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Z_}var _=(e&4)!==0,b=!_&&t==="scroll",v=_?f!==null?f+"Capture":null:f;_=[];for(var g=u,w;g!==null;){w=g;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,v!==null&&(E=Ja(g,v),E!=null&&_.push(sl(g,E,w)))),b)break;g=g.return}0<_.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Vp&&(y=n.relatedTarget||n.fromElement)&&(zi(y)||y[Nr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?zi(y):null,y!==null&&(b=Es(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(_=X_,E="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Z_,E="onPointerLeave",v="onPointerEnter",g="pointer"),b=m==null?f:Ks(m),w=y==null?f:Ks(y),f=new _(E,g+"leave",m,n,d),f.target=b,f.relatedTarget=w,E=null,zi(d)===u&&(_=new _(v,g+"enter",y,n,d),_.target=w,_.relatedTarget=b,E=_),b=E,m&&y)t:{for(_=m,v=y,g=0,w=_;w;w=$s(w))g++;for(w=0,E=v;E;E=$s(E))w++;for(;0<g-w;)_=$s(_),g--;for(;0<w-g;)v=$s(v),w--;for(;g--;){if(_===v||v!==null&&_===v.alternate)break t;_=$s(_),v=$s(v)}_=null}else _=null;m!==null&&u0(h,f,m,_,!1),y!==null&&b!==null&&u0(h,b,y,_,!0)}}e:{if(f=u?Ks(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var x=gP;else if(n0(f))if(TE)x=wP;else{x=vP;var S=yP}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=_P);if(x&&(x=x(t,u))){IE(h,x,n,d);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Op(f,"number",f.value)}switch(S=u?Ks(u):window,t){case"focusin":(n0(S)||S.contentEditable==="true")&&(qs=S,Gp=u,Oa=null);break;case"focusout":Oa=Gp=qs=null;break;case"mousedown":Kp=!0;break;case"contextmenu":case"mouseup":case"dragend":Kp=!1,a0(h,n,d);break;case"selectionchange":if(xP)break;case"keydown":case"keyup":a0(h,n,d)}var C;if(Fg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ws?SE(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(xE&&n.locale!=="ko"&&(Ws||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ws&&(C=EE()):(ei=d,Lg="value"in ei?ei.value:ei.textContent,Ws=!0)),S=Qu(u,I),0<S.length&&(I=new J_(I,t,null,n,d),h.push({event:I,listeners:S}),C?I.data=C:(C=CE(n),C!==null&&(I.data=C)))),(C=dP?hP(t,n):fP(t,n))&&(u=Qu(u,"onBeforeInput"),0<u.length&&(d=new J_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}$E(h,e)})}function sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ja(t,n),s!=null&&r.unshift(sl(t,s,i)),s=Ja(t,e),s!=null&&r.push(sl(t,s,i))),t=t.return}return r}function $s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Ja(n,s),c!=null&&o.unshift(sl(n,c,l))):i||(c=Ja(n,s),c!=null&&o.push(sl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TP=/\r\n?/g,RP=/\u0000|\uFFFD/g;function d0(t){return(typeof t=="string"?t:""+t).replace(TP,`
`).replace(RP,"")}function Ac(t,e,n){if(e=d0(e),d0(t)!==e&&n)throw Error(L(425))}function Yu(){}var Qp=null,Yp=null;function Xp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jp=typeof setTimeout=="function"?setTimeout:void 0,kP=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,NP=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(t){return h0.resolve(null).then(t).catch(PP)}:Jp;function PP(t){setTimeout(function(){throw t})}function $f(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tl(e)}function ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function f0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),er="__reactFiber$"+Bo,ol="__reactProps$"+Bo,Nr="__reactContainer$"+Bo,Zp="__reactEvents$"+Bo,AP="__reactListeners$"+Bo,jP="__reactHandles$"+Bo;function zi(t){var e=t[er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nr]||n[er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=f0(t);t!==null;){if(n=t[er])return n;t=f0(t)}return e}t=n,n=t.parentNode}return null}function zl(t){return t=t[er]||t[Nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function ih(t){return t[ol]||null}var em=[],Qs=-1;function Ti(t){return{current:t}}function Ue(t){0>Qs||(t.current=em[Qs],em[Qs]=null,Qs--)}function Oe(t,e){Qs++,em[Qs]=t.current,t.current=e}var vi={},zt=Ti(vi),rn=Ti(!1),ss=vi;function vo(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function Xu(){Ue(rn),Ue(zt)}function p0(t,e,n){if(zt.current!==vi)throw Error(L(168));Oe(zt,e),Oe(rn,n)}function FE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,yN(t)||"Unknown",i));return qe({},n,r)}function Ju(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,ss=zt.current,Oe(zt,t),Oe(rn,rn.current),!0}function m0(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=FE(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,Ue(rn),Ue(zt),Oe(zt,t)):Ue(rn),Oe(rn,n)}var br=null,sh=!1,Mf=!1;function VE(t){br===null?br=[t]:br.push(t)}function DP(t){sh=!0,VE(t)}function Ri(){if(!Mf&&br!==null){Mf=!0;var t=0,e=Ne;try{var n=br;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}br=null,sh=!1}catch(i){throw br!==null&&(br=br.slice(t+1)),dE(Ag,Ri),i}finally{Ne=e,Mf=!1}}return null}var Ys=[],Xs=0,Zu=null,ed=0,En=[],xn=0,os=null,Er=1,xr="";function Li(t,e){Ys[Xs++]=ed,Ys[Xs++]=Zu,Zu=t,ed=e}function UE(t,e,n){En[xn++]=Er,En[xn++]=xr,En[xn++]=os,os=t;var r=Er;t=xr;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var s=32-Un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Er=1<<32-Un(e)+i|n<<i|r,xr=s+t}else Er=1<<s|n<<i|r,xr=t}function Ug(t){t.return!==null&&(Li(t,1),UE(t,1,0))}function zg(t){for(;t===Zu;)Zu=Ys[--Xs],Ys[Xs]=null,ed=Ys[--Xs],Ys[Xs]=null;for(;t===os;)os=En[--xn],En[xn]=null,xr=En[--xn],En[xn]=null,Er=En[--xn],En[xn]=null}var pn=null,un=null,ze=!1,Fn=null;function zE(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function g0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,un=ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=os!==null?{id:Er,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,un=null,!0):!1;default:return!1}}function tm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nm(t){if(ze){var e=un;if(e){var n=e;if(!g0(t,e)){if(tm(t))throw Error(L(418));e=ai(n.nextSibling);var r=pn;e&&g0(t,e)?zE(r,n):(t.flags=t.flags&-4097|2,ze=!1,pn=t)}}else{if(tm(t))throw Error(L(418));t.flags=t.flags&-4097|2,ze=!1,pn=t}}}function y0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function jc(t){if(t!==pn)return!1;if(!ze)return y0(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xp(t.type,t.memoizedProps)),e&&(e=un)){if(tm(t))throw BE(),Error(L(418));for(;e;)zE(t,e),e=ai(e.nextSibling)}if(y0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=pn?ai(t.stateNode.nextSibling):null;return!0}function BE(){for(var t=un;t;)t=ai(t.nextSibling)}function _o(){un=pn=null,ze=!1}function Bg(t){Fn===null?Fn=[t]:Fn.push(t)}var OP=$r.ReactCurrentBatchConfig;function $n(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var td=Ti(null),nd=null,Js=null,Hg=null;function Wg(){Hg=Js=nd=null}function qg(t){var e=td.current;Ue(td),t._currentValue=e}function rm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lo(t,e){nd=t,Hg=Js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(Hg!==t)if(t={context:t,memoizedValue:e,next:null},Js===null){if(nd===null)throw Error(L(308));Js=t,nd.dependencies={lanes:0,firstContext:t}}else Js=Js.next=t;return e}var Bi=null;function Gg(t){Bi===null?Bi=[t]:Bi.push(t)}function HE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pr(t,r)}function Pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qr=!1;function Kg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pr(t,n)}return i=r.interleaved,i===null?(e.next=e,Gg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pr(t,n)}function lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jg(t,n)}}function v0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rd(t,e,n,r){var i=t.updateQueue;qr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,d=u=c=null,l=s;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,_=l;switch(f=e,m=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=qe({},h,f);break e;case 2:qr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ls|=o,t.lanes=o,t.memoizedState=h}}function _0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var qE=new H1.Component().refs;function im(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oh={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=ui(t),s=Tr(r,i);s.payload=e,n!=null&&(s.callback=n),e=li(t,s,i),e!==null&&(zn(e,t,i,r),lu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=ui(t),s=Tr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=li(t,s,i),e!==null&&(zn(e,t,i,r),lu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=ui(t),i=Tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=li(t,i,r),e!==null&&(zn(e,t,r,n),lu(e,t,r))}};function w0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!rl(n,r)||!rl(i,s):!0}function GE(t,e,n){var r=!1,i=vi,s=e.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(i=sn(e)?ss:zt.current,r=e.contextTypes,s=(r=r!=null)?vo(t,i):vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function b0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oh.enqueueReplaceState(e,e.state,null)}function sm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=qE,Kg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rn(s):(s=sn(e)?ss:zt.current,i.context=vo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(im(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oh.enqueueReplaceState(i,i.state,null),rd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function da(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===qE&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function Dc(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function E0(t){var e=t._init;return e(t._payload)}function KE(t){function e(v,g){if(t){var w=v.deletions;w===null?(v.deletions=[g],v.flags|=16):w.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=di(v,g),v.index=0,v.sibling=null,v}function s(v,g,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<g?(v.flags|=2,g):w):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,g,w,E){return g===null||g.tag!==6?(g=Wf(w,v.mode,E),g.return=v,g):(g=i(g,w),g.return=v,g)}function c(v,g,w,E){var x=w.type;return x===Hs?d(v,g,w.props.children,E,w.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Wr&&E0(x)===g.type)?(E=i(g,w.props),E.ref=da(v,g,w),E.return=v,E):(E=pu(w.type,w.key,w.props,null,v.mode,E),E.ref=da(v,g,w),E.return=v,E)}function u(v,g,w,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=qf(w,v.mode,E),g.return=v,g):(g=i(g,w.children||[]),g.return=v,g)}function d(v,g,w,E,x){return g===null||g.tag!==7?(g=Xi(w,v.mode,E,x),g.return=v,g):(g=i(g,w),g.return=v,g)}function h(v,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Wf(""+g,v.mode,w),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xc:return w=pu(g.type,g.key,g.props,null,v.mode,w),w.ref=da(v,null,g),w.return=v,w;case Bs:return g=qf(g,v.mode,w),g.return=v,g;case Wr:var E=g._init;return h(v,E(g._payload),w)}if(_a(g)||oa(g))return g=Xi(g,v.mode,w,null),g.return=v,g;Dc(v,g)}return null}function f(v,g,w,E){var x=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return x!==null?null:l(v,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xc:return w.key===x?c(v,g,w,E):null;case Bs:return w.key===x?u(v,g,w,E):null;case Wr:return x=w._init,f(v,g,x(w._payload),E)}if(_a(w)||oa(w))return x!==null?null:d(v,g,w,E,null);Dc(v,w)}return null}function m(v,g,w,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(w)||null,l(g,v,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xc:return v=v.get(E.key===null?w:E.key)||null,c(g,v,E,x);case Bs:return v=v.get(E.key===null?w:E.key)||null,u(g,v,E,x);case Wr:var S=E._init;return m(v,g,w,S(E._payload),x)}if(_a(E)||oa(E))return v=v.get(w)||null,d(g,v,E,x,null);Dc(g,E)}return null}function y(v,g,w,E){for(var x=null,S=null,C=g,I=g=0,j=null;C!==null&&I<w.length;I++){C.index>I?(j=C,C=null):j=C.sibling;var M=f(v,C,w[I],E);if(M===null){C===null&&(C=j);break}t&&C&&M.alternate===null&&e(v,C),g=s(M,g,I),S===null?x=M:S.sibling=M,S=M,C=j}if(I===w.length)return n(v,C),ze&&Li(v,I),x;if(C===null){for(;I<w.length;I++)C=h(v,w[I],E),C!==null&&(g=s(C,g,I),S===null?x=C:S.sibling=C,S=C);return ze&&Li(v,I),x}for(C=r(v,C);I<w.length;I++)j=m(C,v,I,w[I],E),j!==null&&(t&&j.alternate!==null&&C.delete(j.key===null?I:j.key),g=s(j,g,I),S===null?x=j:S.sibling=j,S=j);return t&&C.forEach(function(ee){return e(v,ee)}),ze&&Li(v,I),x}function _(v,g,w,E){var x=oa(w);if(typeof x!="function")throw Error(L(150));if(w=x.call(w),w==null)throw Error(L(151));for(var S=x=null,C=g,I=g=0,j=null,M=w.next();C!==null&&!M.done;I++,M=w.next()){C.index>I?(j=C,C=null):j=C.sibling;var ee=f(v,C,M.value,E);if(ee===null){C===null&&(C=j);break}t&&C&&ee.alternate===null&&e(v,C),g=s(ee,g,I),S===null?x=ee:S.sibling=ee,S=ee,C=j}if(M.done)return n(v,C),ze&&Li(v,I),x;if(C===null){for(;!M.done;I++,M=w.next())M=h(v,M.value,E),M!==null&&(g=s(M,g,I),S===null?x=M:S.sibling=M,S=M);return ze&&Li(v,I),x}for(C=r(v,C);!M.done;I++,M=w.next())M=m(C,v,I,M.value,E),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?I:M.key),g=s(M,g,I),S===null?x=M:S.sibling=M,S=M);return t&&C.forEach(function(fe){return e(v,fe)}),ze&&Li(v,I),x}function b(v,g,w,E){if(typeof w=="object"&&w!==null&&w.type===Hs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case xc:e:{for(var x=w.key,S=g;S!==null;){if(S.key===x){if(x=w.type,x===Hs){if(S.tag===7){n(v,S.sibling),g=i(S,w.props.children),g.return=v,v=g;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Wr&&E0(x)===S.type){n(v,S.sibling),g=i(S,w.props),g.ref=da(v,S,w),g.return=v,v=g;break e}n(v,S);break}else e(v,S);S=S.sibling}w.type===Hs?(g=Xi(w.props.children,v.mode,E,w.key),g.return=v,v=g):(E=pu(w.type,w.key,w.props,null,v.mode,E),E.ref=da(v,g,w),E.return=v,v=E)}return o(v);case Bs:e:{for(S=w.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(v,g.sibling),g=i(g,w.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=qf(w,v.mode,E),g.return=v,v=g}return o(v);case Wr:return S=w._init,b(v,g,S(w._payload),E)}if(_a(w))return y(v,g,w,E);if(oa(w))return _(v,g,w,E);Dc(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(v,g.sibling),g=i(g,w),g.return=v,v=g):(n(v,g),g=Wf(w,v.mode,E),g.return=v,v=g),o(v)):n(v,g)}return b}var wo=KE(!0),QE=KE(!1),Bl={},or=Ti(Bl),al=Ti(Bl),ll=Ti(Bl);function Hi(t){if(t===Bl)throw Error(L(174));return t}function Qg(t,e){switch(Oe(ll,e),Oe(al,t),Oe(or,Bl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$p(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$p(e,t)}Ue(or),Oe(or,e)}function bo(){Ue(or),Ue(al),Ue(ll)}function YE(t){Hi(ll.current);var e=Hi(or.current),n=$p(e,t.type);e!==n&&(Oe(al,t),Oe(or,n))}function Yg(t){al.current===t&&(Ue(or),Ue(al))}var He=Ti(0);function id(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ff=[];function Xg(){for(var t=0;t<Ff.length;t++)Ff[t]._workInProgressVersionPrimary=null;Ff.length=0}var cu=$r.ReactCurrentDispatcher,Vf=$r.ReactCurrentBatchConfig,as=0,We=null,lt=null,pt=null,sd=!1,La=!1,cl=0,LP=0;function jt(){throw Error(L(321))}function Jg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function Zg(t,e,n,r,i,s){if(as=s,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cu.current=t===null||t.memoizedState===null?VP:UP,t=n(r,i),La){s=0;do{if(La=!1,cl=0,25<=s)throw Error(L(301));s+=1,pt=lt=null,e.updateQueue=null,cu.current=zP,t=n(r,i)}while(La)}if(cu.current=od,e=lt!==null&&lt.next!==null,as=0,pt=lt=We=null,sd=!1,e)throw Error(L(300));return t}function ey(){var t=cl!==0;return cl=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?We.memoizedState=pt=t:pt=pt.next=t,pt}function kn(){if(lt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=pt===null?We.memoizedState:pt.next;if(e!==null)pt=e,lt=t;else{if(t===null)throw Error(L(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},pt===null?We.memoizedState=pt=t:pt=pt.next=t}return pt}function ul(t,e){return typeof e=="function"?e(t):e}function Uf(t){var e=kn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=lt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((as&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,We.lanes|=d,ls|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,Hn(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,We.lanes|=s,ls|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zf(t){var e=kn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hn(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function XE(){}function JE(t,e){var n=We,r=kn(),i=e(),s=!Hn(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,ty(tx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,dl(9,ex.bind(null,n,r,i,e),void 0,null),gt===null)throw Error(L(349));as&30||ZE(n,e,i)}return i}function ZE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ex(t,e,n,r){e.value=n,e.getSnapshot=r,nx(e)&&rx(t)}function tx(t,e,n){return n(function(){nx(e)&&rx(t)})}function nx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function rx(t){var e=Pr(t,1);e!==null&&zn(e,t,1,-1)}function x0(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:t},e.queue=t,t=t.dispatch=FP.bind(null,We,t),[e.memoizedState,t]}function dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ix(){return kn().memoizedState}function uu(t,e,n,r){var i=Jn();We.flags|=t,i.memoizedState=dl(1|e,n,void 0,r===void 0?null:r)}function ah(t,e,n,r){var i=kn();r=r===void 0?null:r;var s=void 0;if(lt!==null){var o=lt.memoizedState;if(s=o.destroy,r!==null&&Jg(r,o.deps)){i.memoizedState=dl(e,n,s,r);return}}We.flags|=t,i.memoizedState=dl(1|e,n,s,r)}function S0(t,e){return uu(8390656,8,t,e)}function ty(t,e){return ah(2048,8,t,e)}function sx(t,e){return ah(4,2,t,e)}function ox(t,e){return ah(4,4,t,e)}function ax(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lx(t,e,n){return n=n!=null?n.concat([t]):null,ah(4,4,ax.bind(null,e,t),n)}function ny(){}function cx(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ux(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dx(t,e,n){return as&21?(Hn(n,e)||(n=pE(),We.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function $P(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Vf.transition;Vf.transition={};try{t(!1),e()}finally{Ne=n,Vf.transition=r}}function hx(){return kn().memoizedState}function MP(t,e,n){var r=ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fx(t))px(e,n);else if(n=HE(t,e,n,r),n!==null){var i=Kt();zn(n,t,r,i),mx(n,e,r)}}function FP(t,e,n){var r=ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fx(t))px(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Hn(l,o)){var c=e.interleaved;c===null?(i.next=i,Gg(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=HE(t,e,i,r),n!==null&&(i=Kt(),zn(n,t,r,i),mx(n,e,r))}}function fx(t){var e=t.alternate;return t===We||e!==null&&e===We}function px(t,e){La=sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jg(t,n)}}var od={readContext:Rn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},VP={readContext:Rn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:S0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uu(4194308,4,ax.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uu(4194308,4,t,e)},useInsertionEffect:function(t,e){return uu(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MP.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:x0,useDebugValue:ny,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=x0(!1),e=t[0];return t=$P.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=Jn();if(ze){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),gt===null)throw Error(L(349));as&30||ZE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,S0(tx.bind(null,r,s,t),[t]),r.flags|=2048,dl(9,ex.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Jn(),e=gt.identifierPrefix;if(ze){var n=xr,r=Er;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UP={readContext:Rn,useCallback:cx,useContext:Rn,useEffect:ty,useImperativeHandle:lx,useInsertionEffect:sx,useLayoutEffect:ox,useMemo:ux,useReducer:Uf,useRef:ix,useState:function(){return Uf(ul)},useDebugValue:ny,useDeferredValue:function(t){var e=kn();return dx(e,lt.memoizedState,t)},useTransition:function(){var t=Uf(ul)[0],e=kn().memoizedState;return[t,e]},useMutableSource:XE,useSyncExternalStore:JE,useId:hx,unstable_isNewReconciler:!1},zP={readContext:Rn,useCallback:cx,useContext:Rn,useEffect:ty,useImperativeHandle:lx,useInsertionEffect:sx,useLayoutEffect:ox,useMemo:ux,useReducer:zf,useRef:ix,useState:function(){return zf(ul)},useDebugValue:ny,useDeferredValue:function(t){var e=kn();return lt===null?e.memoizedState=t:dx(e,lt.memoizedState,t)},useTransition:function(){var t=zf(ul)[0],e=kn().memoizedState;return[t,e]},useMutableSource:XE,useSyncExternalStore:JE,useId:hx,unstable_isNewReconciler:!1};function Eo(t,e){try{var n="",r=e;do n+=gN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Bf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function om(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BP=typeof WeakMap=="function"?WeakMap:Map;function gx(t,e,n){n=Tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ld||(ld=!0,gm=r),om(t,e)},n}function yx(t,e,n){n=Tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){om(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){om(t,e),typeof r!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function C0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rA.bind(null,t,e,n),e.then(t,t))}function I0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Tr(-1,1),e.tag=2,li(n,e,1))),n.lanes|=1),t)}var HP=$r.ReactCurrentOwner,nn=!1;function qt(t,e,n,r){e.child=t===null?QE(e,null,n,r):wo(e,t.child,n,r)}function R0(t,e,n,r,i){n=n.render;var s=e.ref;return lo(e,i),r=Zg(t,e,n,r,s,i),n=ey(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(ze&&n&&Ug(e),e.flags|=1,qt(t,e,r,i),e.child)}function k0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!uy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vx(t,e,s,r,i)):(t=pu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:rl,n(o,r)&&t.ref===e.ref)return Ar(t,e,i)}return e.flags|=1,t=di(s,r),t.ref=e.ref,t.return=e,e.child=t}function vx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(rl(s,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,Ar(t,e,i)}return am(t,e,n,r,i)}function _x(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(eo,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(eo,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Oe(eo,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Oe(eo,cn),cn|=r;return qt(t,e,i,n),e.child}function wx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function am(t,e,n,r,i){var s=sn(n)?ss:zt.current;return s=vo(e,s),lo(e,i),n=Zg(t,e,n,r,s,i),r=ey(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(ze&&r&&Ug(e),e.flags|=1,qt(t,e,n,i),e.child)}function N0(t,e,n,r,i){if(sn(n)){var s=!0;Ju(e)}else s=!1;if(lo(e,i),e.stateNode===null)du(t,e),GE(e,n,r),sm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rn(u):(u=sn(n)?ss:zt.current,u=vo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&b0(e,o,r,u),qr=!1;var f=e.memoizedState;o.state=f,rd(e,r,o,i),c=e.memoizedState,l!==r||f!==c||rn.current||qr?(typeof d=="function"&&(im(e,n,d,r),c=e.memoizedState),(l=qr||w0(e,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WE(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:$n(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Rn(c):(c=sn(n)?ss:zt.current,c=vo(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&b0(e,o,r,c),qr=!1,f=e.memoizedState,o.state=f,rd(e,r,o,i);var y=e.memoizedState;l!==h||f!==y||rn.current||qr?(typeof m=="function"&&(im(e,n,m,r),y=e.memoizedState),(u=qr||w0(e,n,u,r,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return lm(t,e,n,r,s,i)}function lm(t,e,n,r,i,s){wx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&m0(e,n,!1),Ar(t,e,s);r=e.stateNode,HP.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wo(e,t.child,null,s),e.child=wo(e,null,l,s)):qt(t,e,l,s),e.memoizedState=r.state,i&&m0(e,n,!0),e.child}function bx(t){var e=t.stateNode;e.pendingContext?p0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p0(t,e.context,!1),Qg(t,e.containerInfo)}function P0(t,e,n,r,i){return _o(),Bg(i),e.flags|=256,qt(t,e,n,r),e.child}var cm={dehydrated:null,treeContext:null,retryLane:0};function um(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ex(t,e,n){var r=e.pendingProps,i=He.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Oe(He,i&1),t===null)return nm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uh(o,r,0,null),t=Xi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=um(n),e.memoizedState=cm,t):ry(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return WP(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=di(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=di(l,s):(s=Xi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?um(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=cm,r}return s=t.child,t=s.sibling,r=di(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ry(t,e){return e=uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oc(t,e,n,r){return r!==null&&Bg(r),wo(e,t.child,null,n),t=ry(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Bf(Error(L(422))),Oc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uh({mode:"visible",children:r.children},i,0,null),s=Xi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wo(e,t.child,null,o),e.child.memoizedState=um(o),e.memoizedState=cm,s);if(!(e.mode&1))return Oc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(L(419)),r=Bf(s,r,void 0),Oc(t,e,o,r)}if(l=(o&t.childLanes)!==0,nn||l){if(r=gt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pr(t,i),zn(r,t,i,-1))}return cy(),r=Bf(Error(L(421))),Oc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,un=ai(i.nextSibling),pn=e,ze=!0,Fn=null,t!==null&&(En[xn++]=Er,En[xn++]=xr,En[xn++]=os,Er=t.id,xr=t.overflow,os=e),e=ry(e,r.children),e.flags|=4096,e)}function A0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rm(t.return,e,n)}function Hf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function xx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A0(t,n,e);else if(t.tag===19)A0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(He,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&id(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&id(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hf(e,!0,n,null,s);break;case"together":Hf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qP(t,e,n){switch(e.tag){case 3:bx(e),_o();break;case 5:YE(e);break;case 1:sn(e.type)&&Ju(e);break;case 4:Qg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Oe(td,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?Ex(t,e,n):(Oe(He,He.current&1),t=Ar(t,e,n),t!==null?t.sibling:null);Oe(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,_x(t,e,n)}return Ar(t,e,n)}var Sx,dm,Cx,Ix;Sx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dm=function(){};Cx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hi(or.current);var s=null;switch(n){case"input":i=jp(t,i),r=jp(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=Lp(t,i),r=Lp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yu)}Mp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ya.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ya.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Ix=function(t,e,n,r){n!==r&&(e.flags|=4)};function ha(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GP(t,e,n){var r=e.pendingProps;switch(zg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return sn(e.type)&&Xu(),Dt(e),null;case 3:return r=e.stateNode,bo(),Ue(rn),Ue(zt),Xg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(_m(Fn),Fn=null))),dm(t,e),Dt(e),null;case 5:Yg(e);var i=Hi(ll.current);if(n=e.type,t!==null&&e.stateNode!=null)Cx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return Dt(e),null}if(t=Hi(or.current),jc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[er]=e,r[ol]=s,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<ba.length;i++)Me(ba[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":U_(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":B_(r,s),Me("invalid",r)}Mp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ac(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ac(r.textContent,l,t),i=["children",""+l]):Ya.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":Sc(r),z_(r,s,!0);break;case"textarea":Sc(r),H_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Z1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[er]=e,t[ol]=r,Sx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fp(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<ba.length;i++)Me(ba[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":U_(t,r),i=jp(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Me("invalid",t);break;case"textarea":B_(t,r),i=Lp(t,r),Me("invalid",t);break;default:i=r}Mp(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?nE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&eE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xa(t,c):typeof c=="number"&&Xa(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ya.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Me("scroll",t):c!=null&&Tg(t,s,c,o))}switch(n){case"input":Sc(t),z_(t,r,!1);break;case"textarea":Sc(t),H_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?io(t,!!r.multiple,s,!1):r.defaultValue!=null&&io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)Ix(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=Hi(ll.current),Hi(or.current),jc(e)){if(r=e.stateNode,n=e.memoizedProps,r[er]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:Ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ac(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[er]=e,e.stateNode=r}return Dt(e),null;case 13:if(Ue(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&un!==null&&e.mode&1&&!(e.flags&128))BE(),_o(),e.flags|=98560,s=!1;else if(s=jc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[er]=e}else _o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),s=!1}else Fn!==null&&(_m(Fn),Fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?ct===0&&(ct=3):cy())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return bo(),dm(t,e),t===null&&il(e.stateNode.containerInfo),Dt(e),null;case 10:return qg(e.type._context),Dt(e),null;case 17:return sn(e.type)&&Xu(),Dt(e),null;case 19:if(Ue(He),s=e.memoizedState,s===null)return Dt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ha(s,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=id(t),o!==null){for(e.flags|=128,ha(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(He,He.current&1|2),e.child}t=t.sibling}s.tail!==null&&et()>xo&&(e.flags|=128,r=!0,ha(s,!1),e.lanes=4194304)}else{if(!r)if(t=id(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ha(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ze)return Dt(e),null}else 2*et()-s.renderingStartTime>xo&&n!==1073741824&&(e.flags|=128,r=!0,ha(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=et(),e.sibling=null,n=He.current,Oe(He,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return ly(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function KP(t,e){switch(zg(e),e.tag){case 1:return sn(e.type)&&Xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),Ue(rn),Ue(zt),Xg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yg(e),null;case 13:if(Ue(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));_o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(He),null;case 4:return bo(),null;case 10:return qg(e.type._context),null;case 22:case 23:return ly(),null;case 24:return null;default:return null}}var Lc=!1,$t=!1,QP=typeof WeakSet=="function"?WeakSet:Set,G=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function hm(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var j0=!1;function YP(t,e){if(Qp=Gu,t=NE(),Vg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yp={focusedElem:t,selectionRange:n},Gu=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,b=y.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:$n(e.type,_),b);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(E){Qe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return y=j0,j0=!1,y}function $a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hm(e,n,s)}i=i.next}while(i!==r)}}function lh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Tx(t){var e=t.alternate;e!==null&&(t.alternate=null,Tx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[er],delete e[ol],delete e[Zp],delete e[AP],delete e[jP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rx(t){return t.tag===5||t.tag===3||t.tag===4}function D0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yu));else if(r!==4&&(t=t.child,t!==null))for(pm(t,e,n),t=t.sibling;t!==null;)pm(t,e,n),t=t.sibling}function mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mm(t,e,n),t=t.sibling;t!==null;)mm(t,e,n),t=t.sibling}var bt=null,Mn=!1;function zr(t,e,n){for(n=n.child;n!==null;)kx(t,e,n),n=n.sibling}function kx(t,e,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(eh,n)}catch{}switch(n.tag){case 5:$t||Zs(n,e);case 6:var r=bt,i=Mn;bt=null,zr(t,e,n),bt=r,Mn=i,bt!==null&&(Mn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Mn?(t=bt,n=n.stateNode,t.nodeType===8?$f(t.parentNode,n):t.nodeType===1&&$f(t,n),tl(t)):$f(bt,n.stateNode));break;case 4:r=bt,i=Mn,bt=n.stateNode.containerInfo,Mn=!0,zr(t,e,n),bt=r,Mn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hm(n,e,o),i=i.next}while(i!==r)}zr(t,e,n);break;case 1:if(!$t&&(Zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Qe(n,e,l)}zr(t,e,n);break;case 21:zr(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,zr(t,e,n),$t=r):zr(t,e,n);break;default:zr(t,e,n)}}function O0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QP),e.forEach(function(r){var i=sA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,Mn=!1;break e;case 3:bt=l.stateNode.containerInfo,Mn=!0;break e;case 4:bt=l.stateNode.containerInfo,Mn=!0;break e}l=l.return}if(bt===null)throw Error(L(160));kx(s,o,i),bt=null,Mn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nx(e,t),e=e.sibling}function Nx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Xn(t),r&4){try{$a(3,t,t.return),lh(3,t)}catch(_){Qe(t,t.return,_)}try{$a(5,t,t.return)}catch(_){Qe(t,t.return,_)}}break;case 1:Ln(e,t),Xn(t),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(Ln(e,t),Xn(t),r&512&&n!==null&&Zs(n,n.return),t.flags&32){var i=t.stateNode;try{Xa(i,"")}catch(_){Qe(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&X1(i,s),Fp(l,o);var u=Fp(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?nE(i,h):d==="dangerouslySetInnerHTML"?eE(i,h):d==="children"?Xa(i,h):Tg(i,d,h,u)}switch(l){case"input":Dp(i,s);break;case"textarea":J1(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?io(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?io(i,!!s.multiple,s.defaultValue,!0):io(i,!!s.multiple,s.multiple?[]:"",!1))}i[ol]=s}catch(_){Qe(t,t.return,_)}}break;case 6:if(Ln(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Qe(t,t.return,_)}}break;case 3:if(Ln(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tl(e.containerInfo)}catch(_){Qe(t,t.return,_)}break;case 4:Ln(e,t),Xn(t);break;case 13:Ln(e,t),Xn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(oy=et())),r&4&&O0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($t=(u=$t)||d,Ln(e,t),$t=u):Ln(e,t),Xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(G=t,d=t.child;d!==null;){for(h=G=d;G!==null;){switch(f=G,m=f.child,f.tag){case 0:case 11:case 14:case 15:$a(4,f,f.return);break;case 1:Zs(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){Qe(r,n,_)}}break;case 5:Zs(f,f.return);break;case 22:if(f.memoizedState!==null){$0(h);continue}}m!==null?(m.return=f,G=m):$0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=tE("display",o))}catch(_){Qe(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Qe(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ln(e,t),Xn(t),r&4&&O0(t);break;case 21:break;default:Ln(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rx(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xa(i,""),r.flags&=-33);var s=D0(t);mm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=D0(t);pm(t,l,o);break;default:throw Error(L(161))}}catch(c){Qe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XP(t,e,n){G=t,Px(t)}function Px(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Lc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||$t;l=Lc;var u=$t;if(Lc=o,($t=c)&&!u)for(G=i;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?M0(i):c!==null?(c.return=o,G=c):M0(i);for(;s!==null;)G=s,Px(s),s=s.sibling;G=i,Lc=l,$t=u}L0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):L0(t)}}function L0(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||lh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&tl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}$t||e.flags&512&&fm(e)}catch(f){Qe(e,e.return,f)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function $0(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function M0(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lh(4,e)}catch(c){Qe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Qe(e,i,c)}}var s=e.return;try{fm(e)}catch(c){Qe(e,s,c)}break;case 5:var o=e.return;try{fm(e)}catch(c){Qe(e,o,c)}}}catch(c){Qe(e,e.return,c)}if(e===t){G=null;break}var l=e.sibling;if(l!==null){l.return=e.return,G=l;break}G=e.return}}var JP=Math.ceil,ad=$r.ReactCurrentDispatcher,iy=$r.ReactCurrentOwner,In=$r.ReactCurrentBatchConfig,Ie=0,gt=null,it=null,It=0,cn=0,eo=Ti(0),ct=0,hl=null,ls=0,ch=0,sy=0,Ma=null,en=null,oy=0,xo=1/0,_r=null,ld=!1,gm=null,ci=null,$c=!1,ti=null,cd=0,Fa=0,ym=null,hu=-1,fu=0;function Kt(){return Ie&6?et():hu!==-1?hu:hu=et()}function ui(t){return t.mode&1?Ie&2&&It!==0?It&-It:OP.transition!==null?(fu===0&&(fu=pE()),fu):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:bE(t.type)),t):1}function zn(t,e,n,r){if(50<Fa)throw Fa=0,ym=null,Error(L(185));Vl(t,n,r),(!(Ie&2)||t!==gt)&&(t===gt&&(!(Ie&2)&&(ch|=n),ct===4&&Kr(t,It)),on(t,r),n===1&&Ie===0&&!(e.mode&1)&&(xo=et()+500,sh&&Ri()))}function on(t,e){var n=t.callbackNode;ON(t,e);var r=qu(t,t===gt?It:0);if(r===0)n!==null&&G_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&G_(n),e===1)t.tag===0?DP(F0.bind(null,t)):VE(F0.bind(null,t)),NP(function(){!(Ie&6)&&Ri()}),n=null;else{switch(mE(r)){case 1:n=Ag;break;case 4:n=hE;break;case 16:n=Wu;break;case 536870912:n=fE;break;default:n=Wu}n=Fx(n,Ax.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ax(t,e){if(hu=-1,fu=0,Ie&6)throw Error(L(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=qu(t,t===gt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ud(t,r);else{e=r;var i=Ie;Ie|=2;var s=Dx();(gt!==t||It!==e)&&(_r=null,xo=et()+500,Yi(t,e));do try{tA();break}catch(l){jx(t,l)}while(!0);Wg(),ad.current=s,Ie=i,it!==null?e=0:(gt=null,It=0,e=ct)}if(e!==0){if(e===2&&(i=Hp(t),i!==0&&(r=i,e=vm(t,i))),e===1)throw n=hl,Yi(t,0),Kr(t,r),on(t,et()),n;if(e===6)Kr(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZP(i)&&(e=ud(t,r),e===2&&(s=Hp(t),s!==0&&(r=s,e=vm(t,s))),e===1))throw n=hl,Yi(t,0),Kr(t,r),on(t,et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:$i(t,en,_r);break;case 3:if(Kr(t,r),(r&130023424)===r&&(e=oy+500-et(),10<e)){if(qu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jp($i.bind(null,t,en,_r),e);break}$i(t,en,_r);break;case 4:if(Kr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JP(r/1960))-r,10<r){t.timeoutHandle=Jp($i.bind(null,t,en,_r),r);break}$i(t,en,_r);break;case 5:$i(t,en,_r);break;default:throw Error(L(329))}}}return on(t,et()),t.callbackNode===n?Ax.bind(null,t):null}function vm(t,e){var n=Ma;return t.current.memoizedState.isDehydrated&&(Yi(t,e).flags|=256),t=ud(t,e),t!==2&&(e=en,en=n,e!==null&&_m(e)),t}function _m(t){en===null?en=t:en.push.apply(en,t)}function ZP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kr(t,e){for(e&=~sy,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function F0(t){if(Ie&6)throw Error(L(327));co();var e=qu(t,0);if(!(e&1))return on(t,et()),null;var n=ud(t,e);if(t.tag!==0&&n===2){var r=Hp(t);r!==0&&(e=r,n=vm(t,r))}if(n===1)throw n=hl,Yi(t,0),Kr(t,e),on(t,et()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$i(t,en,_r),on(t,et()),null}function ay(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(xo=et()+500,sh&&Ri())}}function cs(t){ti!==null&&ti.tag===0&&!(Ie&6)&&co();var e=Ie;Ie|=1;var n=In.transition,r=Ne;try{if(In.transition=null,Ne=1,t)return t()}finally{Ne=r,In.transition=n,Ie=e,!(Ie&6)&&Ri()}}function ly(){cn=eo.current,Ue(eo)}function Yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kP(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(zg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xu();break;case 3:bo(),Ue(rn),Ue(zt),Xg();break;case 5:Yg(r);break;case 4:bo();break;case 13:Ue(He);break;case 19:Ue(He);break;case 10:qg(r.type._context);break;case 22:case 23:ly()}n=n.return}if(gt=t,it=t=di(t.current,null),It=cn=e,ct=0,hl=null,sy=ch=ls=0,en=Ma=null,Bi!==null){for(e=0;e<Bi.length;e++)if(n=Bi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bi=null}return t}function jx(t,e){do{var n=it;try{if(Wg(),cu.current=od,sd){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sd=!1}if(as=0,pt=lt=We=null,La=!1,cl=0,iy.current=null,n===null||n.return===null){ct=1,hl=e,it=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=It,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=I0(o);if(m!==null){m.flags&=-257,T0(m,o,l,s,e),m.mode&1&&C0(s,u,e),e=m,c=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(c),e.updateQueue=_}else y.add(c);break e}else{if(!(e&1)){C0(s,u,e),cy();break e}c=Error(L(426))}}else if(ze&&l.mode&1){var b=I0(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),T0(b,o,l,s,e),Bg(Eo(c,l));break e}}s=c=Eo(c,l),ct!==4&&(ct=2),Ma===null?Ma=[s]:Ma.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=gx(s,c,e);v0(s,v);break e;case 1:l=c;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ci===null||!ci.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=yx(s,l,e);v0(s,E);break e}}s=s.return}while(s!==null)}Lx(n)}catch(x){e=x,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function Dx(){var t=ad.current;return ad.current=od,t===null?od:t}function cy(){(ct===0||ct===3||ct===2)&&(ct=4),gt===null||!(ls&268435455)&&!(ch&268435455)||Kr(gt,It)}function ud(t,e){var n=Ie;Ie|=2;var r=Dx();(gt!==t||It!==e)&&(_r=null,Yi(t,e));do try{eA();break}catch(i){jx(t,i)}while(!0);if(Wg(),Ie=n,ad.current=r,it!==null)throw Error(L(261));return gt=null,It=0,ct}function eA(){for(;it!==null;)Ox(it)}function tA(){for(;it!==null&&!IN();)Ox(it)}function Ox(t){var e=Mx(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?Lx(t):it=e,iy.current=null}function Lx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KP(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,it=null;return}}else if(n=GP(n,e,cn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);ct===0&&(ct=5)}function $i(t,e,n){var r=Ne,i=In.transition;try{In.transition=null,Ne=1,nA(t,e,n,r)}finally{In.transition=i,Ne=r}return null}function nA(t,e,n,r){do co();while(ti!==null);if(Ie&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(LN(t,s),t===gt&&(it=gt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$c||($c=!0,Fx(Wu,function(){return co(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=In.transition,In.transition=null;var o=Ne;Ne=1;var l=Ie;Ie|=4,iy.current=null,YP(t,n),Nx(n,t),EP(Yp),Gu=!!Qp,Yp=Qp=null,t.current=n,XP(n),TN(),Ie=l,Ne=o,In.transition=s}else t.current=n;if($c&&($c=!1,ti=t,cd=i),s=t.pendingLanes,s===0&&(ci=null),NN(n.stateNode),on(t,et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ld)throw ld=!1,t=gm,gm=null,t;return cd&1&&t.tag!==0&&co(),s=t.pendingLanes,s&1?t===ym?Fa++:(Fa=0,ym=t):Fa=0,Ri(),null}function co(){if(ti!==null){var t=mE(cd),e=In.transition,n=Ne;try{if(In.transition=null,Ne=16>t?16:t,ti===null)var r=!1;else{if(t=ti,ti=null,cd=0,Ie&6)throw Error(L(331));var i=Ie;for(Ie|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:$a(8,d,s)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var f=d.sibling,m=d.return;if(Tx(d),d===u){G=null;break}if(f!==null){f.return=m,G=f;break}G=m}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var b=_.sibling;_.sibling=null,_=b}while(_!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$a(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,G=v;break e}G=s.return}}var g=t.current;for(G=g;G!==null;){o=G;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,G=w;else e:for(o=g;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:lh(9,l)}}catch(x){Qe(l,l.return,x)}if(l===o){G=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,G=E;break e}G=l.return}}if(Ie=i,Ri(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(eh,t)}catch{}r=!0}return r}finally{Ne=n,In.transition=e}}return!1}function V0(t,e,n){e=Eo(n,e),e=gx(t,e,1),t=li(t,e,1),e=Kt(),t!==null&&(Vl(t,1,e),on(t,e))}function Qe(t,e,n){if(t.tag===3)V0(t,t,n);else for(;e!==null;){if(e.tag===3){V0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ci===null||!ci.has(r))){t=Eo(n,t),t=yx(e,t,1),e=li(e,t,1),t=Kt(),e!==null&&(Vl(e,1,t),on(e,t));break}}e=e.return}}function rA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(It&n)===n&&(ct===4||ct===3&&(It&130023424)===It&&500>et()-oy?Yi(t,0):sy|=n),on(t,e)}function $x(t,e){e===0&&(t.mode&1?(e=Tc,Tc<<=1,!(Tc&130023424)&&(Tc=4194304)):e=1);var n=Kt();t=Pr(t,e),t!==null&&(Vl(t,e,n),on(t,n))}function iA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$x(t,n)}function sA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),$x(t,n)}var Mx;Mx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,qP(t,e,n);nn=!!(t.flags&131072)}else nn=!1,ze&&e.flags&1048576&&UE(e,ed,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;du(t,e),t=e.pendingProps;var i=vo(e,zt.current);lo(e,n),i=Zg(null,e,r,t,i,n);var s=ey();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(s=!0,Ju(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kg(e),i.updater=oh,e.stateNode=i,i._reactInternals=e,sm(e,r,t,n),e=lm(null,e,r,!0,s,n)):(e.tag=0,ze&&s&&Ug(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(du(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aA(r),t=$n(r,t),i){case 0:e=am(null,e,r,t,n);break e;case 1:e=N0(null,e,r,t,n);break e;case 11:e=R0(null,e,r,t,n);break e;case 14:e=k0(null,e,r,$n(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),am(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),N0(t,e,r,i,n);case 3:e:{if(bx(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,WE(t,e),rd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Eo(Error(L(423)),e),e=P0(t,e,r,n,i);break e}else if(r!==i){i=Eo(Error(L(424)),e),e=P0(t,e,r,n,i);break e}else for(un=ai(e.stateNode.containerInfo.firstChild),pn=e,ze=!0,Fn=null,n=QE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_o(),r===i){e=Ar(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return YE(e),t===null&&nm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xp(r,i)?o=null:s!==null&&Xp(r,s)&&(e.flags|=32),wx(t,e),qt(t,e,o,n),e.child;case 6:return t===null&&nm(e),null;case 13:return Ex(t,e,n);case 4:return Qg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wo(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),R0(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Oe(td,r._currentValue),r._currentValue=o,s!==null)if(Hn(s.value,o)){if(s.children===i.children&&!rn.current){e=Ar(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Tr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),rm(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),rm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lo(e,n),i=Rn(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=$n(r,e.pendingProps),i=$n(r.type,i),k0(t,e,r,i,n);case 15:return vx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),du(t,e),e.tag=1,sn(r)?(t=!0,Ju(e)):t=!1,lo(e,n),GE(e,r,i),sm(e,r,i,n),lm(null,e,r,!0,t,n);case 19:return xx(t,e,n);case 22:return _x(t,e,n)}throw Error(L(156,e.tag))};function Fx(t,e){return dE(t,e)}function oA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new oA(t,e,n,r)}function uy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aA(t){if(typeof t=="function")return uy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kg)return 11;if(t===Ng)return 14}return 2}function di(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")uy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hs:return Xi(n.children,i,s,e);case Rg:o=8,i|=8;break;case kp:return t=Cn(12,n,e,i|2),t.elementType=kp,t.lanes=s,t;case Np:return t=Cn(13,n,e,i),t.elementType=Np,t.lanes=s,t;case Pp:return t=Cn(19,n,e,i),t.elementType=Pp,t.lanes=s,t;case K1:return uh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q1:o=10;break e;case G1:o=9;break e;case kg:o=11;break e;case Ng:o=14;break e;case Wr:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=Cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xi(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function uh(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=K1,t.lanes=n,t.stateNode={isHidden:!1},t}function Wf(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function qf(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dy(t,e,n,r,i,s,o,l,c){return t=new lA(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kg(s),t}function cA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vx(t){if(!t)return vi;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(sn(n))return FE(t,n,e)}return e}function Ux(t,e,n,r,i,s,o,l,c){return t=dy(n,r,!0,t,i,s,o,l,c),t.context=Vx(null),n=t.current,r=Kt(),i=ui(n),s=Tr(r,i),s.callback=e??null,li(n,s,i),t.current.lanes=i,Vl(t,i,r),on(t,r),t}function dh(t,e,n,r){var i=e.current,s=Kt(),o=ui(i);return n=Vx(n),e.context===null?e.context=n:e.pendingContext=n,e=Tr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=li(i,e,o),t!==null&&(zn(t,i,o,s),lu(t,i,o)),o}function dd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hy(t,e){U0(t,e),(t=t.alternate)&&U0(t,e)}function uA(){return null}var zx=typeof reportError=="function"?reportError:function(t){console.error(t)};function fy(t){this._internalRoot=t}hh.prototype.render=fy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));dh(t,e,null,null)};hh.prototype.unmount=fy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){dh(null,t,null,null)}),e[Nr]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=vE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gr.length&&e!==0&&e<Gr[n].priority;n++);Gr.splice(n,0,t),n===0&&wE(t)}};function py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function z0(){}function dA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=dd(o);s.call(u)}}var o=Ux(e,r,t,0,null,!1,!1,"",z0);return t._reactRootContainer=o,t[Nr]=o.current,il(t.nodeType===8?t.parentNode:t),cs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=dd(c);l.call(u)}}var c=dy(t,0,!1,null,null,!1,!1,"",z0);return t._reactRootContainer=c,t[Nr]=c.current,il(t.nodeType===8?t.parentNode:t),cs(function(){dh(e,c,n,r)}),c}function ph(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=dd(o);l.call(c)}}dh(e,o,t,i)}else o=dA(n,e,t,i,r);return dd(o)}gE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wa(e.pendingLanes);n!==0&&(jg(e,n|1),on(e,et()),!(Ie&6)&&(xo=et()+500,Ri()))}break;case 13:cs(function(){var r=Pr(t,1);if(r!==null){var i=Kt();zn(r,t,1,i)}}),hy(t,1)}};Dg=function(t){if(t.tag===13){var e=Pr(t,134217728);if(e!==null){var n=Kt();zn(e,t,134217728,n)}hy(t,134217728)}};yE=function(t){if(t.tag===13){var e=ui(t),n=Pr(t,e);if(n!==null){var r=Kt();zn(n,t,e,r)}hy(t,e)}};vE=function(){return Ne};_E=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Up=function(t,e,n){switch(e){case"input":if(Dp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ih(r);if(!i)throw Error(L(90));Y1(r),Dp(r,i)}}}break;case"textarea":J1(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};sE=ay;oE=cs;var hA={usingClientEntryPoint:!1,Events:[zl,Ks,ih,rE,iE,ay]},fa={findFiberByHostInstance:zi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fA={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cE(t),t===null?null:t.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||uA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{eh=Mc.inject(fA),sr=Mc}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hA;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!py(e))throw Error(L(200));return cA(t,e,null,n)};_n.createRoot=function(t,e){if(!py(t))throw Error(L(299));var n=!1,r="",i=zx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dy(t,1,!1,null,null,n,!1,r,i),t[Nr]=e.current,il(t.nodeType===8?t.parentNode:t),new fy(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=cE(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return cs(t)};_n.hydrate=function(t,e,n){if(!fh(e))throw Error(L(200));return ph(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!py(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=zx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ux(e,null,t,1,n??null,i,!1,s,o),t[Nr]=e.current,il(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hh(e)};_n.render=function(t,e,n){if(!fh(e))throw Error(L(200));return ph(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!fh(t))throw Error(L(40));return t._reactRootContainer?(cs(function(){ph(null,null,t,!1,function(){t._reactRootContainer=null,t[Nr]=null})}),!0):!1};_n.unstable_batchedUpdates=ay;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fh(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return ph(t,e,n,!1,r)};_n.version="18.2.0-next-9e3b772b8-20220608";function Bx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bx)}catch(t){console.error(t)}}Bx(),U1.exports=_n;var pA=U1.exports,Hx,B0=pA;Hx=B0.createRoot,B0.hydrateRoot;var Wx={exports:{}},qx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=p;function mA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gA=typeof Object.is=="function"?Object.is:mA,yA=Hl.useSyncExternalStore,vA=Hl.useRef,_A=Hl.useEffect,wA=Hl.useMemo,bA=Hl.useDebugValue;qx.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=vA(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=wA(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return h=y}return h=m}if(y=h,gA(d,m))return y;var _=r(m);return i!==void 0&&i(y,_)?y:(d=m,h=_)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,i]);var l=yA(t,s[0],s[1]);return _A(function(){o.hasValue=!0,o.value=l},[l]),bA(l),l};Wx.exports=qx;var EA=Wx.exports,dn="default"in Tp?ie:Tp,H0=Symbol.for("react-redux-context"),W0=typeof globalThis<"u"?globalThis:{};function xA(){if(!dn.createContext)return{};const t=W0[H0]??(W0[H0]=new Map);let e=t.get(dn.createContext);return e||(e=dn.createContext(null),t.set(dn.createContext,e)),e}var _i=xA(),SA=()=>{throw new Error("uSES not initialized!")};function my(t=_i){return function(){return dn.useContext(t)}}var Gx=my(),Kx=SA,CA=t=>{Kx=t},IA=(t,e)=>t===e;function TA(t=_i){const e=t===_i?Gx:my(t),n=(r,i={})=>{const{equalityFn:s=IA,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:c,getServerState:u,stabilityCheck:d,identityFunctionCheck:h}=e();dn.useRef(!0);const f=dn.useCallback({[r.name](y){return r(y)}}[r.name],[r,d,o.stabilityCheck]),m=Kx(c.addNestedSub,l.getState,u||l.getState,f,s);return dn.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var Se=TA();function RA(t){t()}function kA(){let t=null,e=null;return{clear(){t=null,e=null},notify(){RA(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var q0={notify(){},get:()=>[]};function NA(t,e){let n,r=q0,i=0,s=!1;function o(_){d();const b=r.subscribe(_);let v=!1;return()=>{v||(v=!0,b(),h())}}function l(){r.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return s}function d(){i++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=kA())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=q0)}function f(){s||(s=!0,d())}function m(){s&&(s=!1,h())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return y}var PA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AA=PA?dn.useLayoutEffect:dn.useEffect;function jA({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=dn.useMemo(()=>{const u=NA(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),l=dn.useMemo(()=>t.getState(),[t]);AA(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const c=e||_i;return dn.createElement(c.Provider,{value:o},n)}var DA=jA;function Qx(t=_i){const e=t===_i?Gx:my(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var OA=Qx();function LA(t=_i){const e=t===_i?OA:Qx(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var gy=LA();CA(EA.useSyncExternalStoreWithSelector);function mu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(n){return typeof n}:mu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mu(t)}function $A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MA(t,e,n){return e&&G0(t.prototype,e),n&&G0(t,n),t}function FA(t,e){return e&&(mu(e)==="object"||typeof e=="function")?e:gu(t)}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function gu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bm(t,e)}function bm(t,e){return bm=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},bm(t,e)}function yu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yx=function(t){VA(e,t);function e(){var n,r;$A(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=FA(this,(n=wm(e)).call.apply(n,[this].concat(s))),yu(gu(r),"state",{bootstrapped:!1}),yu(gu(r),"_unsubscribe",void 0),yu(gu(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),u=c.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return MA(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(p.PureComponent);yu(Yx,"defaultProps",{children:null,loading:null});function wt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var UA=typeof Symbol=="function"&&Symbol.observable||"@@observable",K0=UA,Gf=()=>Math.random().toString(36).substring(7).split("").join("."),zA={INIT:`@@redux/INIT${Gf()}`,REPLACE:`@@redux/REPLACE${Gf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gf()}`},hd=zA;function yy(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function vy(t,e,n){if(typeof t!="function")throw new Error(wt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wt(1));return n(vy)(t,e)}let r=t,i=e,s=new Map,o=s,l=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((b,v)=>{o.set(v,b)}))}function d(){if(c)throw new Error(wt(3));return i}function h(b){if(typeof b!="function")throw new Error(wt(4));if(c)throw new Error(wt(5));let v=!0;u();const g=l++;return o.set(g,b),function(){if(v){if(c)throw new Error(wt(6));v=!1,u(),o.delete(g),s=null}}}function f(b){if(!yy(b))throw new Error(wt(7));if(typeof b.type>"u")throw new Error(wt(8));if(typeof b.type!="string")throw new Error(wt(17));if(c)throw new Error(wt(9));try{c=!0,i=r(i,b)}finally{c=!1}return(s=o).forEach(g=>{g()}),b}function m(b){if(typeof b!="function")throw new Error(wt(10));r=b,f({type:hd.REPLACE})}function y(){const b=h;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(wt(11));function g(){const E=v;E.next&&E.next(d())}return g(),{unsubscribe:b(g)}},[K0](){return this}}}return f({type:hd.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[K0]:y}}function BA(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:hd.INIT})>"u")throw new Error(wt(12));if(typeof n(void 0,{type:hd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wt(13))})}function HA(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{BA(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],f=n[h],m=o[h],y=f(m,l);if(typeof y>"u")throw l&&l.type,new Error(wt(14));u[h]=y,c=c||y!==m}return c=c||r.length!==Object.keys(o).length,c?u:o}}function fd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function WA(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(wt(15))};const o={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(o));return s=fd(...l)(i.dispatch),{...i,dispatch:s}}}function qA(t){return yy(t)&&"type"in t&&typeof t.type=="string"}var Xx=Symbol.for("immer-nothing"),Q0=Symbol.for("immer-draftable"),gn=Symbol.for("immer-state");function Vn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var So=Object.getPrototypeOf;function wi(t){return!!t&&!!t[gn]}function jr(t){var e;return t?Jx(t)||Array.isArray(t)||!!t[Q0]||!!((e=t.constructor)!=null&&e[Q0])||gh(t)||yh(t):!1}var GA=Object.prototype.constructor.toString();function Jx(t){if(!t||typeof t!="object")return!1;const e=So(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===GA}function fl(t,e){mh(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function mh(t){const e=t[gn];return e?e.type_:Array.isArray(t)?1:gh(t)?2:yh(t)?3:0}function Em(t,e){return mh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Zx(t,e,n){const r=mh(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function KA(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function gh(t){return t instanceof Map}function yh(t){return t instanceof Set}function Mi(t){return t.copy_||t.base_}function xm(t,e){if(gh(t))return new Map(t);if(yh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&Jx(t))return So(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[gn];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(So(t),n)}function _y(t,e=!1){return vh(t)||wi(t)||!jr(t)||(mh(t)>1&&(t.set=t.add=t.clear=t.delete=QA),Object.freeze(t),e&&fl(t,(n,r)=>_y(r,!0))),t}function QA(){Vn(2)}function vh(t){return Object.isFrozen(t)}var YA={};function us(t){const e=YA[t];return e||Vn(0,t),e}var pl;function eS(){return pl}function XA(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Y0(t,e){e&&(us("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Sm(t){Cm(t),t.drafts_.forEach(JA),t.drafts_=null}function Cm(t){t===pl&&(pl=t.parent_)}function X0(t){return pl=XA(pl,t)}function JA(t){const e=t[gn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function J0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[gn].modified_&&(Sm(e),Vn(4)),jr(t)&&(t=pd(e,t),e.parent_||md(e,t)),e.patches_&&us("Patches").generateReplacementPatches_(n[gn].base_,t,e.patches_,e.inversePatches_)):t=pd(e,n,[]),Sm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Xx?t:void 0}function pd(t,e,n){if(vh(e))return e;const r=e[gn];if(!r)return fl(e,(i,s)=>Z0(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return md(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),fl(s,(l,c)=>Z0(t,r,i,l,c,n,o)),md(t,i,!1),n&&t.patches_&&us("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Z0(t,e,n,r,i,s,o){if(wi(i)){const l=s&&e&&e.type_!==3&&!Em(e.assigned_,r)?s.concat(r):void 0,c=pd(t,i,l);if(Zx(n,r,c),wi(c))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(jr(i)&&!vh(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;pd(t,i),(!e||!e.scope_.parent_)&&md(t,i)}}function md(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&_y(e,n)}function ZA(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:eS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=wy;n&&(i=[r],s=ml);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var wy={get(t,e){if(e===gn)return t;const n=Mi(t);if(!Em(n,e))return ej(t,n,e);const r=n[e];return t.finalized_||!jr(r)?r:r===Kf(t.base_,e)?(Qf(t),t.copy_[e]=Tm(r,t)):r},has(t,e){return e in Mi(t)},ownKeys(t){return Reflect.ownKeys(Mi(t))},set(t,e,n){const r=tS(Mi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Kf(Mi(t),e),s=i==null?void 0:i[gn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(KA(n,i)&&(n!==void 0||Em(t.base_,e)))return!0;Qf(t),Im(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Kf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Qf(t),Im(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Mi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Vn(11)},getPrototypeOf(t){return So(t.base_)},setPrototypeOf(){Vn(12)}},ml={};fl(wy,(t,e)=>{ml[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ml.deleteProperty=function(t,e){return ml.set.call(this,t,e,void 0)};ml.set=function(t,e,n){return wy.set.call(this,t[0],e,n,t[0])};function Kf(t,e){const n=t[gn];return(n?Mi(n):t)[e]}function ej(t,e,n){var i;const r=tS(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function tS(t,e){if(!(e in t))return;let n=So(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=So(n)}}function Im(t){t.modified_||(t.modified_=!0,t.parent_&&Im(t.parent_))}function Qf(t){t.copy_||(t.copy_=xm(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var tj=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(c=s,...u){return o.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&Vn(6),r!==void 0&&typeof r!="function"&&Vn(7);let i;if(jr(e)){const s=X0(this),o=Tm(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?Sm(s):Cm(s)}return Y0(s,r),J0(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Xx&&(i=void 0),this.autoFreeze_&&_y(i,!0),r){const s=[],o=[];us("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Vn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){jr(t)||Vn(8),wi(t)&&(t=nS(t));const e=X0(this),n=Tm(t,void 0);return n[gn].isManual_=!0,Cm(e),n}finishDraft(t,e){const n=t&&t[gn];(!n||!n.isManual_)&&Vn(9);const{scope_:r}=n;return Y0(r,e),J0(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=us("Patches").applyPatches_;return wi(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Tm(t,e){const n=gh(t)?us("MapSet").proxyMap_(t,e):yh(t)?us("MapSet").proxySet_(t,e):ZA(t,e);return(e?e.scope_:eS()).drafts_.push(n),n}function nS(t){return wi(t)||Vn(10,t),rS(t)}function rS(t){if(!jr(t)||vh(t))return t;const e=t[gn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=xm(t,e.scope_.immer_.useStrictShallowCopy_)}else n=xm(t,!0);return fl(n,(r,i)=>{Zx(n,r,rS(i))}),e&&(e.finalized_=!1),n}var yn=new tj,iS=yn.produce;yn.produceWithPatches.bind(yn);yn.setAutoFreeze.bind(yn);yn.setUseStrictShallowCopy.bind(yn);yn.applyPatches.bind(yn);yn.createDraft.bind(yn);yn.finishDraft.bind(yn);function nj(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function rj(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ij(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var ew=t=>Array.isArray(t)?t:[t];function sj(t){const e=Array.isArray(t[0])?t[0]:t;return ij(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function oj(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var aj=class{constructor(t){this.value=t}deref(){return this.value}},lj=typeof WeakRef<"u"?WeakRef:aj,cj=0,tw=1;function Fc(){return{s:cj,v:void 0,o:null,p:null}}function by(t,e={}){let n=Fc();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var h;let l=n;const{length:c}=arguments;for(let f=0,m=c;f<m;f++){const y=arguments[f];if(typeof y=="function"||typeof y=="object"&&y!==null){let _=l.o;_===null&&(l.o=_=new WeakMap);const b=_.get(y);b===void 0?(l=Fc(),_.set(y,l)):l=b}else{let _=l.p;_===null&&(l.p=_=new Map);const b=_.get(y);b===void 0?(l=Fc(),_.set(y,l)):l=b}}const u=l;let d;if(l.s===tw?d=l.v:(d=t.apply(null,arguments),s++),u.s=tw,r){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&r(f,d)&&(d=f,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new lj(d):d}return u.v=d,d}return o.clearCache=()=>{n=Fc(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function sS(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),nj(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:h,memoizeOptions:f=[],argsMemoize:m=by,argsMemoizeOptions:y=[],devModeChecks:_={}}=d,b=ew(f),v=ew(y),g=sj(i),w=h(function(){return s++,u.apply(null,arguments)},...b),E=m(function(){o++;const S=oj(g,arguments);return l=w.apply(null,S),l},...v);return Object.assign(E,{resultFunc:u,memoizedResultFunc:w,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var uj=sS(by),dj=Object.assign((t,e=uj)=>{rj(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>dj});function oS(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var hj=oS(),fj=oS,pj=(...t)=>{const e=sS(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...l)=>i(wi(o)?nS(o):o,...l);return Object.assign(s,i),s},{withTypes:()=>n});return n};pj(by);var mj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fd:fd.apply(null,arguments)},gj=t=>t&&typeof t.match=="function";function Rr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(an(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>qA(r)&&r.type===t,n}var aS=class Ea extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ea.prototype)}static get[Symbol.species](){return Ea}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ea(...e[0].concat(this)):new Ea(...e.concat(this))}};function nw(t){return jr(t)?iS(t,()=>{}):t}function rw(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(an(10));const r=n.insert(e,t);return t.set(e,r),r}function yj(t){return typeof t=="boolean"}var vj=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new aS;return n&&(yj(n)?o.push(hj):o.push(fj(n.extraArgument))),o},_j="RTK_autoBatch",lS=t=>e=>{setTimeout(e,t)},wj=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lS(10),bj=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?wj:t.type==="callback"?t.queueNotification:lS(t.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[_j]),s=!i,s&&(o||(o=!0,c(u))),r.dispatch(d)}finally{i=!0}}})},Ej=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new aS(t);return r&&i.push(bj(typeof r=="object"?r:void 0)),i},xj=!0;function Sj(t){const e=vj(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(yy(n))l=HA(n);else throw new Error(an(1));let c;typeof r=="function"?c=r(e):c=e();let u=fd;i&&(u=mj({trace:!xj,...typeof i=="object"&&i}));const d=WA(...c),h=Ej(d);let f=typeof o=="function"?o(h):h();const m=u(...f);return vy(l,s,m)}function cS(t){const e={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(an(28));if(l in e)throw new Error(an(29));return e[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function Cj(t){return typeof t=="function"}function Ij(t,e){let[n,r,i]=cS(e),s;if(Cj(t))s=()=>nw(t());else{const l=nw(t);s=()=>l}function o(l=s(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(wi(d)){const m=h(d,c);return m===void 0?d:m}else{if(jr(d))return iS(d,f=>h(f,c));{const f=h(d,c);if(f===void 0){if(d===null)return d;throw new Error(an(9))}return f}}return d},l)}return o.getInitialState=s,o}var Tj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uS=(t=21)=>{let e="",n=t;for(;n--;)e+=Tj[Math.random()*64|0];return e},Rj=(t,e)=>gj(t)?t.match(e):t(e);function kj(...t){return e=>t.some(n=>Rj(n,e))}var Nj=["name","message","stack","code"],Yf=class{constructor(t,e){wf(this,"_type");this.payload=t,this.meta=e}},iw=class{constructor(t,e){wf(this,"_type");this.payload=t,this.meta=e}},Pj=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of Nj)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},xs=(()=>{function t(e,n,r){const i=Rr(e+"/fulfilled",(c,u,d,h)=>({payload:c,meta:{...h||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=Rr(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),o=Rr(e+"/rejected",(c,u,d,h,f)=>({payload:h,error:(r&&r.serializeError||Pj)(c||"Rejected"),meta:{...f||{},arg:d,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c){return(u,d,h)=>{const f=r!=null&&r.idGenerator?r.idGenerator(c):uS(),m=new AbortController;let y,_;function b(g){_=g,m.abort()}const v=async function(){var E,x;let g;try{let S=(E=r==null?void 0:r.condition)==null?void 0:E.call(r,c,{getState:d,extra:h});if(jj(S)&&(S=await S),S===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((I,j)=>{y=()=>{j({name:"AbortError",message:_||"Aborted"})},m.signal.addEventListener("abort",y)});u(s(f,c,(x=r==null?void 0:r.getPendingMeta)==null?void 0:x.call(r,{requestId:f,arg:c},{getState:d,extra:h}))),g=await Promise.race([C,Promise.resolve(n(c,{dispatch:u,getState:d,extra:h,requestId:f,signal:m.signal,abort:b,rejectWithValue:(I,j)=>new Yf(I,j),fulfillWithValue:(I,j)=>new iw(I,j)})).then(I=>{if(I instanceof Yf)throw I;return I instanceof iw?i(I.payload,f,c,I.meta):i(I,f,c)})])}catch(S){g=S instanceof Yf?o(null,f,c,S.payload,S.meta):o(S,f,c)}finally{y&&m.signal.removeEventListener("abort",y)}return r&&!r.dispatchConditionRejection&&o.match(g)&&g.meta.condition||u(g),g}();return Object.assign(v,{abort:b,requestId:f,arg:c,unwrap(){return v.then(Aj)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,settled:kj(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function Aj(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function jj(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Dj=Symbol.for("rtk-slice-createasyncthunk");function Oj(t,e){return`${t}/${e}`}function Lj({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Dj];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(an(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(Mj()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,E){const x=typeof w=="string"?w:w.type;if(!x)throw new Error(an(12));if(x in u.sliceCaseReducersByType)throw new Error(an(13));return u.sliceCaseReducersByType[x]=E,d},addMatcher(w,E){return u.sliceMatchers.push({matcher:w,reducer:E}),d},exposeAction(w,E){return u.actionCreators[w]=E,d},exposeCaseReducer(w,E){return u.sliceCaseReducersByName[w]=E,d}};c.forEach(w=>{const E=l[w],x={reducerName:w,type:Oj(s,w),createNotation:typeof i.reducers=="function"};Vj(E)?zj(x,E,d,e):Fj(x,E,d)});function h(){const[w={},E=[],x=void 0]=typeof i.extraReducers=="function"?cS(i.extraReducers):[i.extraReducers],S={...w,...u.sliceCaseReducersByType};return Ij(i.initialState,C=>{for(let I in S)C.addCase(I,S[I]);for(let I of u.sliceMatchers)C.addMatcher(I.matcher,I.reducer);for(let I of E)C.addMatcher(I.matcher,I.reducer);x&&C.addDefaultCase(x)})}const f=w=>w,m=new Map;let y;function _(w,E){return y||(y=h()),y(w,E)}function b(){return y||(y=h()),y.getInitialState()}function v(w,E=!1){function x(C){let I=C[w];return typeof I>"u"&&E&&(I=b()),I}function S(C=f){const I=rw(m,E,{insert:()=>new WeakMap});return rw(I,C,{insert:()=>{const j={};for(const[M,ee]of Object.entries(i.selectors??{}))j[M]=$j(ee,C,b,E);return j}})}return{reducerPath:w,getSelectors:S,get selectors(){return S(x)},selectSlice:x}}const g={name:s,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...v(o),injectInto(w,{reducerPath:E,...x}={}){const S=E??o;return w.inject({reducerPath:S,reducer:_},x),{...g,...v(S,!0)}}};return g}}function $j(t,e,n,r){function i(s,...o){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var Ss=Lj();function Mj(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Fj({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!Uj(r))throw new Error(an(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Rr(t,o):Rr(t))}function Vj(t){return t._reducerDefinitionType==="asyncThunk"}function Uj(t){return t._reducerDefinitionType==="reducerWithPrepare"}function zj({type:t,reducerName:e},n,r,i){if(!i)throw new Error(an(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=n,h=i(t,s,d);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),l&&r.addCase(h.pending,l),c&&r.addCase(h.rejected,c),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Vc,pending:l||Vc,rejected:c||Vc,settled:u||Vc})}function Vc(){}var Bj=(t,e)=>{if(typeof t!="function")throw new Error(an(32))},Ey="listenerMiddleware",Hj=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Rr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(an(21));return Bj(s),{predicate:i,type:e,effect:s}},Wj=Object.assign(t=>{const{type:e,predicate:n,effect:r}=Hj(t);return{id:uS(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(an(22))}}},{withTypes:()=>Wj}),qj=Object.assign(Rr(`${Ey}/add`),{withTypes:()=>qj});Rr(`${Ey}/removeAll`);var Gj=Object.assign(Rr(`${Ey}/remove`),{withTypes:()=>Gj});function an(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xy="persist:",Sy="persist/FLUSH",_h="persist/REHYDRATE",Cy="persist/PAUSE",Iy="persist/PERSIST",Ty="persist/PURGE",Ry="persist/REGISTER",Kj=-1;function vu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vu=function(n){return typeof n}:vu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vu(t)}function sw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sw(n,!0).forEach(function(r){Yj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sw(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xj(t,e,n,r){r.debug;var i=Qj({},n);return t&&vu(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function Jj(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:xy).concat(t.key),o=t.storage,l;t.serialize===!1?l=function(x){return x}:typeof t.serialize=="function"?l=t.serialize:l=Zj;var c=t.writeFailHandler||null,u={},d={},h=[],f=null,m=null,y=function(x){Object.keys(x).forEach(function(S){v(S)&&u[S]!==x[S]&&h.indexOf(S)===-1&&h.push(S)}),Object.keys(u).forEach(function(S){x[S]===void 0&&v(S)&&h.indexOf(S)===-1&&u[S]!==void 0&&h.push(S)}),f===null&&(f=setInterval(_,i)),u=x};function _(){if(h.length===0){f&&clearInterval(f),f=null;return}var E=h.shift(),x=r.reduce(function(S,C){return C.in(S,E,u)},u[E]);if(x!==void 0)try{d[E]=l(x)}catch(S){console.error("redux-persist/createPersistoid: error serializing state",S)}else delete d[E];h.length===0&&b()}function b(){Object.keys(d).forEach(function(E){u[E]===void 0&&delete d[E]}),m=o.setItem(s,l(d)).catch(g)}function v(E){return!(n&&n.indexOf(E)===-1&&E!=="_persist"||e&&e.indexOf(E)!==-1)}function g(E){c&&c(E)}var w=function(){for(;h.length!==0;)_();return m||Promise.resolve()};return{update:y,flush:w}}function Zj(t){return JSON.stringify(t)}function e2(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:xy).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=t2,r.getItem(n).then(function(s){if(s)try{var o={},l=i(s);return Object.keys(l).forEach(function(c){o[c]=e.reduceRight(function(u,d){return d.out(u,c,l)},i(l[c]))}),o}catch(c){throw c}else return})}function t2(t){return JSON.parse(t)}function n2(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:xy).concat(t.key);return e.removeItem(n,r2)}function r2(t){}function ow(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ow(n,!0).forEach(function(r){i2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ow(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s2(t,e){if(t==null)return{};var n=o2(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o2(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var a2=5e3;function Cs(t,e){var n=t.version!==void 0?t.version:Kj;t.debug;var r=t.stateReconciler===void 0?Xj:t.stateReconciler,i=t.getStoredState||e2,s=t.timeout!==void 0?t.timeout:a2,o=null,l=!1,c=!0,u=function(h){return h._persist.rehydrated&&o&&!c&&o.update(h),h};return function(d,h){var f=d||{},m=f._persist,y=s2(f,["_persist"]),_=y;if(h.type===Iy){var b=!1,v=function(I,j){b||(h.rehydrate(t.key,I,j),b=!0)};if(s&&setTimeout(function(){!b&&v(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),c=!1,o||(o=Jj(t)),m)return yr({},e(_,h),{_persist:m});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),i(t).then(function(C){var I=t.migrate||function(j,M){return Promise.resolve(j)};I(C,n).then(function(j){v(j)},function(j){v(void 0,j)})},function(C){v(void 0,C)}),yr({},e(_,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===Ty)return l=!0,h.result(n2(t)),yr({},e(_,h),{_persist:m});if(h.type===Sy)return h.result(o&&o.flush()),yr({},e(_,h),{_persist:m});if(h.type===Cy)c=!0;else if(h.type===_h){if(l)return yr({},_,{_persist:yr({},m,{rehydrated:!0})});if(h.key===t.key){var g=e(_,h),w=h.payload,E=r!==!1&&w!==void 0?r(w,d,g,t):g,x=yr({},E,{_persist:yr({},m,{rehydrated:!0})});return u(x)}}}if(!m)return e(d,h);var S=e(_,h);return S===_?d:u(yr({},S,{_persist:m}))}}function aw(t){return u2(t)||c2(t)||l2()}function l2(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c2(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function u2(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function lw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lw(n,!0).forEach(function(r){d2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lw(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dS={registry:[],bootstrapped:!1},h2=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dS,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Ry:return Rm({},e,{registry:[].concat(aw(e.registry),[n.key])});case _h:var r=e.registry.indexOf(n.key),i=aw(e.registry);return i.splice(r,1),Rm({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function f2(t,e,n){var r=n||!1,i=vy(h2,dS,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:Ry,key:u})},o=function(u,d,h){var f={type:_h,payload:d,err:h,key:u};t.dispatch(f),i.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=Rm({},i,{purge:function(){var u=[];return t.dispatch({type:Ty,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:Sy,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){t.dispatch({type:Cy})},persist:function(){t.dispatch({type:Iy,register:s,rehydrate:o})}});return e&&e.manualPersist||l.persist(),l}var ky={},Ny={};Ny.__esModule=!0;Ny.default=g2;function _u(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_u=function(n){return typeof n}:_u=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_u(t)}function Xf(){}var p2={getItem:Xf,setItem:Xf,removeItem:Xf};function m2(t){if((typeof self>"u"?"undefined":_u(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function g2(t){var e="".concat(t,"Storage");return m2(e)?self[e]:p2}ky.__esModule=!0;ky.default=_2;var y2=v2(Ny);function v2(t){return t&&t.__esModule?t:{default:t}}function _2(t){var e=(0,y2.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var hS=void 0,w2=b2(ky);function b2(t){return t&&t.__esModule?t:{default:t}}var E2=(0,w2.default)("local");hS=E2;var cw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},x2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;c||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new S2;const f=s<<2|l>>4;if(r.push(f),u!==64){const m=l<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C2=function(t){const e=fS(t);return pS.encodeByteArray(e,!0)},gd=function(t){return C2(t).replace(/\./g,"")},mS=function(t){try{return pS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=()=>I2().__FIREBASE_DEFAULTS__,R2=()=>{if(typeof process>"u"||typeof cw>"u")return;const t=cw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},k2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mS(t[1]);return e&&JSON.parse(e)},wh=()=>{try{return T2()||R2()||k2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gS=t=>{var e,n;return(n=(e=wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yS=t=>{const e=gS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vS=()=>{var t;return(t=wh())===null||t===void 0?void 0:t.config},_S=t=>{var e;return(e=wh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gd(JSON.stringify(n)),gd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function A2(){var t;const e=(t=wh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function D2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O2(){const t=ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function L2(){return!A2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bS(){try{return typeof indexedDB=="object"}catch{return!1}}function $2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M2,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?F2(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new mr(i,l,r)}}function F2(t,e){return t.replace(V2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const V2=/\{\$([^}]+)}/g;function U2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uw(s)&&uw(o)){if(!yd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Sa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function z2(t,e){const n=new B2(t,e);return n.subscribe.bind(n)}class B2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jf),i.error===void 0&&(i.error=Jf),i.complete===void 0&&(i.complete=Jf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return t&&t._delegate?t._delegate:t}class bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new N2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G2(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q2(t){return t===Fi?void 0:t}function G2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const Q2={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Y2=Ee.INFO,X2={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},J2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=X2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Py{constructor(e){this.name=e,this._logLevel=Y2,this._logHandler=J2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const Z2=(t,e)=>e.some(n=>t instanceof n);let dw,hw;function eD(){return dw||(dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tD(){return hw||(hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ES=new WeakMap,km=new WeakMap,xS=new WeakMap,Zf=new WeakMap,Ay=new WeakMap;function nD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ES.set(n,t)}).catch(()=>{}),Ay.set(e,t),e}function rD(t){if(km.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});km.set(t,e)}let Nm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iD(t){Nm=t(Nm)}function sD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ep(this),e,...n);return xS.set(r,e.sort?e.sort():[e]),hi(r)}:tD().includes(t)?function(...e){return t.apply(ep(this),e),hi(ES.get(this))}:function(...e){return hi(t.apply(ep(this),e))}}function oD(t){return typeof t=="function"?sD(t):(t instanceof IDBTransaction&&rD(t),Z2(t,eD())?new Proxy(t,Nm):t)}function hi(t){if(t instanceof IDBRequest)return nD(t);if(Zf.has(t))return Zf.get(t);const e=oD(t);return e!==t&&(Zf.set(t,e),Ay.set(e,t)),e}const ep=t=>Ay.get(t);function aD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=hi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(hi(o.result),c.oldVersion,c.newVersion,hi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const lD=["get","getKey","getAll","getAllKeys","count"],cD=["put","add","delete","clear"],tp=new Map;function fw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lD.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return tp.set(e,s),s}iD(t=>({...t,get:(e,n,r)=>fw(e,n)||t.get(e,n,r),has:(e,n)=>!!fw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pm="@firebase/app",pw="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Py("@firebase/app"),hD="@firebase/app-compat",fD="@firebase/analytics-compat",pD="@firebase/analytics",mD="@firebase/app-check-compat",gD="@firebase/app-check",yD="@firebase/auth",vD="@firebase/auth-compat",_D="@firebase/database",wD="@firebase/database-compat",bD="@firebase/functions",ED="@firebase/functions-compat",xD="@firebase/installations",SD="@firebase/installations-compat",CD="@firebase/messaging",ID="@firebase/messaging-compat",TD="@firebase/performance",RD="@firebase/performance-compat",kD="@firebase/remote-config",ND="@firebase/remote-config-compat",PD="@firebase/storage",AD="@firebase/storage-compat",jD="@firebase/firestore",DD="@firebase/firestore-compat",OD="firebase",LD="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",$D={[Pm]:"fire-core",[hD]:"fire-core-compat",[pD]:"fire-analytics",[fD]:"fire-analytics-compat",[gD]:"fire-app-check",[mD]:"fire-app-check-compat",[yD]:"fire-auth",[vD]:"fire-auth-compat",[_D]:"fire-rtdb",[wD]:"fire-rtdb-compat",[bD]:"fire-fn",[ED]:"fire-fn-compat",[xD]:"fire-iid",[SD]:"fire-iid-compat",[CD]:"fire-fcm",[ID]:"fire-fcm-compat",[TD]:"fire-perf",[RD]:"fire-perf-compat",[kD]:"fire-rc",[ND]:"fire-rc-compat",[PD]:"fire-gcs",[AD]:"fire-gcs-compat",[jD]:"fire-fst",[DD]:"fire-fst-compat","fire-js":"fire-js",[OD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Map,jm=new Map;function MD(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hs(t){const e=t.name;if(jm.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,t);for(const n of vd.values())MD(n,t);return!0}function bh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fi=new Wl("app","Firebase",FD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=LD;function SS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Am,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fi.create("bad-app-name",{appName:String(i)});if(n||(n=vS()),!n)throw fi.create("no-options");const s=vd.get(i);if(s){if(yd(n,s.options)&&yd(r,s.config))return s;throw fi.create("duplicate-app",{appName:i})}const o=new K2(i);for(const c of jm.values())o.addComponent(c);const l=new VD(n,r,o);return vd.set(i,l),l}function jy(t=Am){const e=vd.get(t);if(!e&&t===Am&&vS())return SS();if(!e)throw fi.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let i=(r=$D[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(l.join(" "));return}hs(new bi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="firebase-heartbeat-database",zD=1,gl="firebase-heartbeat-store";let np=null;function CS(){return np||(np=aD(UD,zD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gl)}catch(n){console.warn(n)}}}}).catch(t=>{throw fi.create("idb-open",{originalErrorMessage:t.message})})),np}async function BD(t){try{const n=(await CS()).transaction(gl),r=await n.objectStore(gl).get(IS(t));return await n.done,r}catch(e){if(e instanceof mr)ds.warn(e.message);else{const n=fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function mw(t,e){try{const r=(await CS()).transaction(gl,"readwrite");await r.objectStore(gl).put(e,IS(t)),await r.done}catch(n){if(n instanceof mr)ds.warn(n.message);else{const r=fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function IS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=1024,WD=30*24*60*60*1e3;class qD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=WD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gw(),{heartbeatsToSend:r,unsentEntries:i}=GD(this._heartbeatsCache.heartbeats),s=gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function gw(){return new Date().toISOString().substring(0,10)}function GD(t,e=HD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bS()?$2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yw(t){return gd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){hs(new bi("platform-logger",e=>new uD(e),"PRIVATE")),hs(new bi("heartbeat",e=>new qD(e),"PRIVATE")),ar(Pm,pw,t),ar(Pm,pw,"esm2017"),ar("fire-js","")}QD("");var YD="firebase",XD="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(YD,XD,"app");function Dy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JD=TS,RS=new Wl("auth","Firebase",TS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Py("@firebase/auth");function ZD(t,...e){_d.logLevel<=Ee.WARN&&_d.warn(`Auth (${Is}): ${t}`,...e)}function wu(t,...e){_d.logLevel<=Ee.ERROR&&_d.error(`Auth (${Is}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t,...e){throw Oy(t,...e)}function lr(t,...e){return Oy(t,...e)}function eO(t,e,n){const r=Object.assign(Object.assign({},JD()),{[e]:n});return new Wl("auth","Firebase",r).create(e,{appName:t.name})}function Oy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RS.create(t,...e)}function re(t,e,...n){if(!t)throw Oy(e,...n)}function Sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wu(e),new Error(e)}function Dr(t,e){t||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tO(){return vw()==="http:"||vw()==="https:"}function vw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tO()||j2()||"connection"in navigator)?navigator.onLine:!0}function rO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=P2()||D2()}get(){return nO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e){Dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new Gl(3e4,6e4);function Mr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fr(t,e,n,r,i={}){return NS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=ql(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),kS.fetch()(PS(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function NS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iO),e);try{const i=new aO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Uc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Uc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Uc(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw eO(t,d,u);Wn(t,d)}}catch(i){if(i instanceof mr)throw i;Wn(t,"network-request-failed",{message:String(i)})}}async function Kl(t,e,n,r,i={}){const s=await Fr(t,e,n,r,i);return"mfaPendingCredential"in s&&Wn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function PS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ly(t.config,i):`${t.config.apiScheme}://${i}`}function oO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),sO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(t,e,r);return i.customData._tokenResponse=n,i}function _w(t){return t!==void 0&&t.enterprise!==void 0}class lO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function cO(t,e){return Fr(t,"GET","/v2/recaptchaConfig",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(t,e){return Fr(t,"POST","/v1/accounts:delete",e)}async function dO(t,e){return Fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hO(t,e=!1){const n=Ge(t),r=await n.getIdToken(e),i=$y(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Va(rp(i.auth_time)),issuedAtTime:Va(rp(i.iat)),expirationTime:Va(rp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rp(t){return Number(t)*1e3}function $y(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wu("JWT malformed, contained fewer than 3 sections"),null;try{const i=mS(n);return i?JSON.parse(i):(wu("Failed to decode base64 JWT payload"),null)}catch(i){return wu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fO(t){const e=$y(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&pO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await yl(t,dO(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vO(s.providerUserInfo):[],l=yO(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new AS(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function gO(t){const e=Ge(t);await wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vO(t){return t.map(e=>{var{providerId:n}=e,r=Dy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e){const n=await NS(t,{},async()=>{const r=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PS(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",kS.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wO(t,e){return Fr(t,"POST","/v2/accounts:revokeToken",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return re(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await _O(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new vl;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ji{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Dy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new AS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await yl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hO(this,e)}reload(){return gO(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await yl(this,uO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:E,isAnonymous:x,providerData:S,stsTokenManager:C}=n;re(w&&C,e,"internal-error");const I=vl.fromJSON(this.name,C);re(typeof w=="string",e,"internal-error"),Br(h,e.name),Br(f,e.name),re(typeof E=="boolean",e,"internal-error"),re(typeof x=="boolean",e,"internal-error"),Br(m,e.name),Br(y,e.name),Br(_,e.name),Br(b,e.name),Br(v,e.name),Br(g,e.name);const j=new Ji({uid:w,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:x,photoURL:y,phoneNumber:m,tenantId:_,stsTokenManager:I,createdAt:v,lastLoginAt:g});return S&&Array.isArray(S)&&(j.providerData=S.map(M=>Object.assign({},M))),b&&(j._redirectEventId=b),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new vl;i.updateFromServerResponse(n);const s=new Ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new Map;function Cr(t){Dr(t instanceof Function,"Expected a class definition");let e=ww.get(t);return e?(Dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ww.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jS.type="NONE";const bw=jS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t,e,n){return`firebase:${t}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bu(this.userKey,i.apiKey,s),this.fullPersistenceKey=bu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(Cr(bw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Cr(bw);const o=bu(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Ji._fromJSON(e,d);u!==s&&(l=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new uo(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new uo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MS(e))return"Blackberry";if(FS(e))return"Webos";if(My(e))return"Safari";if((e.includes("chrome/")||OS(e))&&!e.includes("edge/"))return"Chrome";if($S(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DS(t=ot()){return/firefox\//i.test(t)}function My(t=ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OS(t=ot()){return/crios\//i.test(t)}function LS(t=ot()){return/iemobile/i.test(t)}function $S(t=ot()){return/android/i.test(t)}function MS(t=ot()){return/blackberry/i.test(t)}function FS(t=ot()){return/webos/i.test(t)}function Eh(t=ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bO(t=ot()){var e;return Eh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EO(){return O2()&&document.documentMode===10}function VS(t=ot()){return Eh(t)||$S(t)||FS(t)||MS(t)||/windows phone/i.test(t)||LS(t)}function xO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t,e=[]){let n;switch(t){case"Browser":n=Ew(ot());break;case"Worker":n=`${Ew(ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Is}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(t,e={}){return Fr(t,"GET","/v2/passwordPolicy",Mr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=6;class TO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:IO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xw(this),this.idTokenSubscription=new xw(this),this.beforeStateQueue=new SO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ge(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CO(this),n=new TO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=US(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ki(t){return Ge(t)}class xw{constructor(e){this.auth=e,this.observer=null,this.addObserver=z2(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kO(t){xh=t}function zS(t){return xh.loadJS(t)}function NO(){return xh.recaptchaEnterpriseScript}function PO(){return xh.gapiScript}function AO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const jO="recaptcha-enterprise",DO="NO_RECAPTCHA";class OO{constructor(e){this.type=jO,this.auth=ki(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{cO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new lO(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;_w(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(DO)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&_w(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=NO();c.length!==0&&(c+=l),zS(c).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function Sw(t,e,n,r=!1){const i=new OO(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function bd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Sw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Sw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t,e){const n=bh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(yd(s,e??{}))return i;Wn(i,"already-initialized")}return n.initialize({options:e})}function $O(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MO(t,e,n){const r=ki(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=BS(e),{host:o,port:l}=FO(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||VO()}function BS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FO(t){const e=BS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Cw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Cw(o)}}}function Cw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function UO(t,e){return Fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(t,e){return Kl(t,"POST","/v1/accounts:signInWithPassword",Mr(t,e))}async function HS(t,e){return Fr(t,"POST","/v1/accounts:sendOobCode",Mr(t,e))}async function BO(t,e){return HS(t,e)}async function HO(t,e){return HS(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e){return Kl(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))}async function qO(t,e){return Kl(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Fy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new _l(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _l(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bd(e,n,"signInWithPassword",zO);case"emailLink":return WO(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bd(e,r,"signUpPassword",UO);case"emailLink":return qO(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t,e){return Kl(t,"POST","/v1/accounts:signInWithIdp",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="http://localhost";class fs extends Fy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Dy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:GO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QO(t){const e=xa(Sa(t)).link,n=e?xa(Sa(e)).deep_link_id:null,r=xa(Sa(t)).deep_link_id;return(r?xa(Sa(r)).link:null)||r||n||e||t}class Vy{constructor(e){var n,r,i,s,o,l;const c=xa(Sa(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=KO((i=c.mode)!==null&&i!==void 0?i:null);re(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=QO(e);try{return new Vy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.providerId=Ho.PROVIDER_ID}static credential(e,n){return _l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Vy.parseLink(n);return re(r,"argument-error"),_l._fromEmailAndCode(e,r.code,r.tenantId)}}Ho.PROVIDER_ID="password";Ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends WS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Ql{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Ql{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Ql{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e){return Kl(t,"POST","/v1/accounts:signUp",Mr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ji._fromIdTokenResponse(e,r,i),o=Iw(r);return new ps({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Iw(r);return new ps({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends mr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ed(e,n,r,i)}}function qS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(t,s,e,r):s})}async function XO(t,e,n=!1){const r=await yl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ps._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await yl(t,qS(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=$y(s.idToken);re(o,r,"internal-error");const{sub:l}=o;return re(t.uid===l,r,"user-mismatch"),ps._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(t,e,n=!1){const r="signIn",i=await qS(t,r,e),s=await ps._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function ZO(t,e){return GS(ki(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e,n){var r;re(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),re(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(re(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(re(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(t){const e=ki(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eL(t,e,n){const r=ki(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&KS(r,i,n),await bd(r,i,"getOobCode",HO)}async function tL(t,e,n){const r=ki(t),o=await bd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YO).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&QS(t),c}),l=await ps._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function nL(t,e,n){return ZO(Ge(t),Ho.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QS(t),r})}async function rL(t,e){const n=Ge(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&KS(n.auth,i,e);const{email:s}=await BO(n.auth,i);s!==t.email&&await t.reload()}function iL(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function sL(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}const xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xd,"1"),this.storage.removeItem(xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){const t=ot();return My(t)||Eh(t)}const aL=1e3,lL=10;class XS extends YS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=oL()&&xO(),this.fallbackToPolling=VS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);EO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XS.type="LOCAL";const cL=XS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS extends YS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JS.type="SESSION";const ZS=JS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Sh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await uL(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=Uy("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function hL(t){cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function fL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mL(){return eC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebaseLocalStorageDb",gL=1,Sd="firebaseLocalStorage",nC="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(t,e){return t.transaction([Sd],e?"readwrite":"readonly").objectStore(Sd)}function yL(){const t=indexedDB.deleteDatabase(tC);return new Yl(t).toPromise()}function Om(){const t=indexedDB.open(tC,gL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sd,{keyPath:nC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sd)?e(r):(r.close(),await yL(),e(await Om()))})})}async function Tw(t,e,n){const r=Ch(t,!0).put({[nC]:e,value:n});return new Yl(r).toPromise()}async function vL(t,e){const n=Ch(t,!1).get(e),r=await new Yl(n).toPromise();return r===void 0?null:r.value}function Rw(t,e){const n=Ch(t,!0).delete(e);return new Yl(n).toPromise()}const _L=800,wL=3;class rC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(mL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fL(),!this.activeServiceWorker)return;this.sender=new dL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await Tw(e,xd,"1"),await Rw(e,xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ch(i,!1).getAll();return new Yl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rC.type="LOCAL";const bL=rC;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){return e?Cr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy extends Fy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xL(t){return GS(t.auth,new zy(t),t.bypassAuthState)}function SL(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),JO(n,new zy(t),t.bypassAuthState)}async function CL(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),XO(n,new zy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xL;case"linkViaPopup":case"linkViaRedirect":return CL;case"reauthViaPopup":case"reauthViaRedirect":return SL;default:Wn(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=new Gl(2e3,1e4);class to extends iC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IL.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="pendingRedirect",Eu=new Map;class RL extends iC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Eu.get(this.auth._key());if(!e){try{const r=await kL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eu.set(this.auth._key(),e)}return this.bypassAuthState||Eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kL(t,e){const n=AL(e),r=PL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function NL(t,e){Eu.set(t._key(),e)}function PL(t){return Cr(t._redirectPersistence)}function AL(t){return bu(TL,t.config.apiKey,t.name)}async function jL(t,e,n=!1){const r=ki(t),i=EL(r,e),o=await new RL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=10*60*1e3;class OL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DL&&this.cachedEventUids.clear(),this.cachedEventUids.has(kw(e))}saveEventToCache(e){this.cachedEventUids.add(kw(e)),this.lastProcessedEventTime=Date.now()}}function kw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(t,e={}){return Fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FL=/^https?/;async function VL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $L(t);for(const n of e)try{if(UL(n))return}catch{}Wn(t,"unauthorized-domain")}function UL(t){const e=Dm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FL.test(n))return!1;if(ML.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new Gl(3e4,6e4);function Nw(){const t=cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BL(t){return new Promise((e,n)=>{var r,i,s;function o(){Nw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nw(),n(lr(t,"network-request-failed"))},timeout:zL.get()})}if(!((i=(r=cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=cr().gapi)===null||s===void 0)&&s.load)o();else{const l=AO("iframefcb");return cr()[l]=()=>{gapi.load?o():n(lr(t,"network-request-failed"))},zS(`${PO()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw xu=null,e})}let xu=null;function HL(t){return xu=xu||BL(t),xu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new Gl(5e3,15e3),qL="__/auth/iframe",GL="emulator/auth/iframe",KL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YL(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ly(e,GL):`https://${t.config.authDomain}/${qL}`,r={apiKey:e.apiKey,appName:t.name,v:Is},i=QL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ql(r).slice(1)}`}async function XL(t){const e=await HL(t),n=cr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:YL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),l=cr().setTimeout(()=>{s(o)},WL.get());function c(){cr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZL=500,e4=600,t4="_blank",n4="http://localhost";class Pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r4(t,e,n,r=ZL,i=e4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},JL),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ot().toLowerCase();n&&(l=OS(u)?t4:n),DS(u)&&(e=e||n4,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(bO(u)&&l!=="_self")return i4(e||"",l),new Pw(null);const h=window.open(e||"",l,d);re(h,t,"popup-blocked");try{h.focus()}catch{}return new Pw(h)}function i4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="__/auth/handler",o4="emulator/auth/handler",a4=encodeURIComponent("fac");async function Aw(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Is,eventId:i};if(e instanceof WS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",U2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Ql){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${a4}=${encodeURIComponent(c)}`:"";return`${l4(t)}?${ql(l).slice(1)}${u}`}function l4({config:t}){return t.emulator?Ly(t,o4):`https://${t.authDomain}/${s4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class c4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZS,this._completeRedirectFn=jL,this._overrideRedirectResult=NL}async _openPopup(e,n,r,i){var s;Dr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Aw(e,n,r,Dm(),i);return r4(e,o,Uy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Aw(e,n,r,Dm(),i);return hL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Dr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XL(e),r=new OL(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ip];o!==void 0&&n(!!o),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VS()||My()||Eh()}}const u4=c4;var jw="@firebase/auth",Dw="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f4(t){hs(new bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:US(t)},u=new RO(r,i,s,c);return $O(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hs(new bi("auth-internal",e=>{const n=ki(e.getProvider("auth").getImmediate());return(r=>new d4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(jw,Dw,h4(t)),ar(jw,Dw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=5*60,m4=_S("authIdTokenMaxAge")||p4;let Ow=null;const g4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>m4)return;const i=n==null?void 0:n.token;Ow!==i&&(Ow=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function y4(t=jy()){const e=bh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LO(t,{popupRedirectResolver:u4,persistence:[bL,cL,ZS]}),r=_S("authTokenSyncURL");if(r){const s=g4(r);sL(n,s,()=>s(n.currentUser)),iL(n,o=>s(o))}const i=gS("auth");return i&&MO(n,`http://${i}`),n}function v4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",v4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f4("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebasestorage.googleapis.com",aC="storageBucket",_4=2*60*1e3,w4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends mr{constructor(e,n,r=0){super(sp(e),`Firebase Storage: ${n} (${sp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function sp(t){return"storage/"+t}function By(){const t="An unknown error occurred, please check the error payload for server response.";return new Ze(Xe.UNKNOWN,t)}function b4(t){return new Ze(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function E4(t){return new Ze(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function x4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ze(Xe.UNAUTHENTICATED,t)}function S4(){return new Ze(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function C4(t){return new Ze(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function I4(){return new Ze(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T4(){return new Ze(Xe.CANCELED,"User canceled the upload/download.")}function R4(t){return new Ze(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function k4(t){return new Ze(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function N4(){return new Ze(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aC+"' property when initializing the app?")}function P4(){return new Ze(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function A4(){return new Ze(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function j4(t){return new Ze(Xe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lm(t){return new Ze(Xe.INVALID_ARGUMENT,t)}function lC(){return new Ze(Xe.APP_DELETED,"The Firebase app was deleted.")}function D4(t){return new Ze(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ua(t,e){return new Ze(Xe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pa(t){throw new Ze(Xe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hn.makeFromUrl(e,n)}catch{return new hn(e,"")}if(r.path==="")return r;throw k4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},_=n===oC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",v=new RegExp(`^https?://${_}/${i}/${b}`,"i"),w=[{regex:l,indices:c,postModify:s},{regex:m,indices:y,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<w.length;E++){const x=w[E],S=x.regex.exec(e);if(S){const C=S[x.indices.bucket];let I=S[x.indices.path];I||(I=""),r=new hn(C,I),x.postModify(r);break}}if(r==null)throw R4(e);return r}}class O4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...b){u||(u=!0,e.apply(null,b))}function h(b){i=setTimeout(()=>{i=null,t(m,c())},b)}function f(){s&&clearTimeout(s)}function m(b,...v){if(u){f();return}if(b){f(),d.call(null,b,...v);return}if(c()||o){f(),d.call(null,b,...v);return}r<64&&(r*=2);let w;l===1?(l=2,w=0):w=(r+Math.random())*1e3,h(w)}let y=!1;function _(b){y||(y=!0,f(),!u&&(i!==null?(b||(l=2),clearTimeout(i),h(0)):b||(l=1)))}return h(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function $4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){return t!==void 0}function F4(t){return typeof t=="object"&&!Array.isArray(t)}function Hy(t){return typeof t=="string"||t instanceof String}function Lw(t){return Wy()&&t instanceof Blob}function Wy(){return typeof Blob<"u"}function $w(t,e,n,r){if(r<e)throw Lm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function cC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zi||(Zi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,i,s,o,l,c,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new zc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Zi.NO_ERROR,c=s.getStatus();if(!l||V4(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Zi.ABORT;r(!1,new zc(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new zc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());M4(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=By();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?lC():T4();o(c)}else{const c=I4();o(c)}};this.canceled_?n(!1,new zc(!1,null,!0)):this.backoffId_=L4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function z4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function B4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function H4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function W4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function q4(t,e,n,r,i,s,o=!0){const l=cC(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return H4(u,e),z4(u,n),B4(u,s),W4(u,r),new U4(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function K4(...t){const e=G4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Wy())return new Blob(t);throw new Ze(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Q4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){if(typeof atob>"u")throw j4("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class op{constructor(e,n){this.data=e,this.contentType=n||null}}function X4(t,e){switch(t){case nr.RAW:return new op(uC(e));case nr.BASE64:case nr.BASE64URL:return new op(dC(t,e));case nr.DATA_URL:return new op(Z4(e),e$(e))}throw By()}function uC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function J4(t){let e;try{e=decodeURIComponent(t)}catch{throw Ua(nr.DATA_URL,"Malformed data URL.")}return uC(e)}function dC(t,e){switch(t){case nr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ua(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case nr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ua(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Y4(e)}catch(i){throw i.message.includes("polyfill")?i:Ua(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class hC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ua(nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=t$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Z4(t){const e=new hC(t);return e.base64?dC(nr.BASE64,e.rest):J4(e.rest)}function e$(t){return new hC(t).contentType}function t$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){let r=0,i="";Lw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Lw(this.data_)){const r=this.data_,i=Q4(r,e,n);return i===null?null:new Zr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zr(r,!0)}}static getBlob(...e){if(Wy()){const n=e.map(r=>r instanceof Zr?r.data_:r);return new Zr(K4.apply(null,n))}else{const n=e.map(o=>Hy(o)?X4(nr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new Zr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){let e;try{e=JSON.parse(t)}catch{return null}return F4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function r$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function pC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t,e){return e}class Wt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||i$}}let Bc=null;function s$(t){return!Hy(t)||t.length<2?t:pC(t)}function mC(){if(Bc)return Bc;const t=[];t.push(new Wt("bucket")),t.push(new Wt("generation")),t.push(new Wt("metageneration")),t.push(new Wt("name","fullPath",!0));function e(s,o){return s$(o)}const n=new Wt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Wt("size");return i.xform=r,t.push(i),t.push(new Wt("timeCreated")),t.push(new Wt("updated")),t.push(new Wt("md5Hash",null,!0)),t.push(new Wt("cacheControl",null,!0)),t.push(new Wt("contentDisposition",null,!0)),t.push(new Wt("contentEncoding",null,!0)),t.push(new Wt("contentLanguage",null,!0)),t.push(new Wt("contentType",null,!0)),t.push(new Wt("metadata","customMetadata",!0)),Bc=t,Bc}function o$(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new hn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function a$(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return o$(r,t),r}function gC(t,e,n){const r=fC(e);return r===null?null:a$(t,r,n)}function l$(t,e,n,r){const i=fC(e);if(i===null||!Hy(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),m=Ih(f,n,r),y=cC({alt:"media",token:u});return m+y})[0]}function c$(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class qy{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){if(!t)throw By()}function u$(t,e){function n(r,i){const s=gC(t,i,e);return yC(s!==null),s}return n}function d$(t,e){function n(r,i){const s=gC(t,i,e);return yC(s!==null),l$(s,i,t.host,t._protocol)}return n}function vC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=S4():i=x4():n.getStatus()===402?i=E4(t.bucket):n.getStatus()===403?i=C4(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function _C(t){const e=vC(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=b4(t.path)),s.serverResponse=i.serverResponse,s}return n}function h$(t,e,n){const r=e.fullServerUrl(),i=Ih(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new qy(i,s,d$(t,n),o);return l.errorHandler=_C(e),l}function f$(t,e){const n=e.fullServerUrl(),r=Ih(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(c,u){}const l=new qy(r,i,o,s);return l.successCodes=[200,204],l.errorHandler=_C(e),l}function p$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function m$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=p$(null,e)),r}function g$(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=m$(e,r,i),d=c$(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",m=Zr.getBlob(h,r,f);if(m===null)throw P4();const y={name:u.fullPath},_=Ih(s,t.host,t._protocol),b="POST",v=t.maxUploadRetryTime,g=new qy(_,b,u$(t,n),v);return g.urlParams=y,g.headers=o,g.body=m.uploadData(),g.errorHandler=vC(e),g}class y${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw pa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class v$ extends y${initXhr(){this.xhr_.responseType="text"}}function Gy(){return new v$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this._service=e,n instanceof hn?this._location=n:this._location=hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ms(e,n)}get root(){const e=new hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pC(this._location.path)}get storage(){return this._service}get parent(){const e=n$(this._location.path);if(e===null)return null;const n=new hn(this._location.bucket,e);return new ms(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw D4(e)}}function _$(t,e,n){t._throwIfRoot("uploadBytes");const r=g$(t.storage,t._location,mC(),new Zr(e,!0),n);return t.storage.makeRequestWithTokens(r,Gy).then(i=>({metadata:i,ref:t}))}function w$(t){t._throwIfRoot("getDownloadURL");const e=h$(t.storage,t._location,mC());return t.storage.makeRequestWithTokens(e,Gy).then(n=>{if(n===null)throw A4();return n})}function b$(t){t._throwIfRoot("deleteObject");const e=f$(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Gy)}function E$(t,e){const n=r$(t._location.path,e),r=new hn(t._location.bucket,n);return new ms(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t){return/^[A-Za-z]+:\/\//.test(t)}function S$(t,e){return new ms(t,e)}function wC(t,e){if(t instanceof Ky){const n=t;if(n._bucket==null)throw N4();const r=new ms(n,n._bucket);return e!=null?wC(r,e):r}else return e!==void 0?E$(t,e):t}function C$(t,e){if(e&&x$(e)){if(t instanceof Ky)return S$(t,e);throw Lm("To use ref(service, url), the first argument must be a Storage instance.")}else return wC(t,e)}function Mw(t,e){const n=e==null?void 0:e[aC];return n==null?null:hn.makeFromBucketSpec(n,t)}function I$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:wS(i,t.app.options.projectId))}class Ky{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=oC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_4,this._maxUploadRetryTime=w4,this._requests=new Set,i!=null?this._bucket=hn.makeFromBucketSpec(i,this._host):this._bucket=Mw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hn.makeFromBucketSpec(this._url,e):this._bucket=Mw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$w("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$w("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ms(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new O4(lC());{const o=q4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Fw="@firebase/storage",Vw="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="storage";function T$(t,e,n){return t=Ge(t),_$(t,e,n)}function Xl(t){return t=Ge(t),w$(t)}function R$(t){return t=Ge(t),b$(t)}function Wo(t,e){return t=Ge(t),C$(t,e)}function k$(t=jy(),e){t=Ge(t);const r=bh(t,bC).getImmediate({identifier:e}),i=yS("storage");return i&&N$(r,...i),r}function N$(t,e,n,r={}){I$(t,e,n,r)}function P$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ky(n,r,i,e,Is)}function A$(){hs(new bi(bC,P$,"PUBLIC").setMultipleInstances(!0)),ar(Fw,Vw,""),ar(Fw,Vw,"esm2017")}A$();var j$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,Qy=Qy||{},ue=j$||self;function Th(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Jl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function D$(t){return Object.prototype.hasOwnProperty.call(t,ap)&&t[ap]||(t[ap]=++O$)}var ap="closure_uid_"+(1e9*Math.random()>>>0),O$=0;function L$(t,e,n){return t.call.apply(t.bind,arguments)}function $$(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vt=L$:Vt=$$,Vt.apply(null,arguments)}function Hc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function Ni(){this.s=this.s,this.o=this.o}var M$=0;Ni.prototype.s=!1;Ni.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),M$!=0)&&D$(this)};Ni.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const EC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Yy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Uw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Th(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var F$=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ue.addEventListener("test",n,e),ue.removeEventListener("test",n,e)}catch{}return t}();function wl(t){return/^[\s\xa0]*$/.test(t)}function Rh(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function tr(t){return Rh().indexOf(t)!=-1}function Xy(t){return Xy[" "](t),t}Xy[" "]=function(){};function V$(t,e){var n=AM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var U$=tr("Opera"),Co=tr("Trident")||tr("MSIE"),xC=tr("Edge"),$m=xC||Co,SC=tr("Gecko")&&!(Rh().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge"))&&!(tr("Trident")||tr("MSIE"))&&!tr("Edge"),z$=Rh().toLowerCase().indexOf("webkit")!=-1&&!tr("Edge");function CC(){var t=ue.document;return t?t.documentMode:void 0}var Mm;e:{var lp="",cp=function(){var t=Rh();if(SC)return/rv:([^\);]+)(\)|;)/.exec(t);if(xC)return/Edge\/([\d\.]+)/.exec(t);if(Co)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(z$)return/WebKit\/(\S+)/.exec(t);if(U$)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(cp&&(lp=cp?cp[1]:""),Co){var up=CC();if(up!=null&&up>parseFloat(lp)){Mm=String(up);break e}}Mm=lp}var Fm;if(ue.document&&Co){var zw=CC();Fm=zw||parseInt(Mm,10)||void 0}else Fm=void 0;var B$=Fm;function bl(t,e){if(Ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(SC){e:{try{Xy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:H$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bl.$.h.call(this)}}vt(bl,Ut);var H$={2:"touch",3:"pen",4:"mouse"};bl.prototype.h=function(){bl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zl="closure_listenable_"+(1e6*Math.random()|0),W$=0;function q$(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++W$,this.fa=this.ia=!1}function kh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Jy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function G$(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function IC(t){const e={};for(const n in t)e[n]=t[n];return e}const Bw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Bw.length;s++)n=Bw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Nh(t){this.src=t,this.g={},this.h=0}Nh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Um(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new q$(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Vm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=EC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(kh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Um(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Zy="closure_lm_"+(1e6*Math.random()|0),dp={};function RC(t,e,n,r,i){if(r&&r.once)return NC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)RC(t,e[s],n,r,i);return null}return n=nv(n),t&&t[Zl]?t.O(e,n,Jl(r)?!!r.capture:!!r,i):kC(t,e,n,!1,r,i)}function kC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Jl(i)?!!i.capture:!!i,l=tv(t);if(l||(t[Zy]=l=new Nh(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=K$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)F$||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(AC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function K$(){function t(n){return e.call(t.src,t.listener,n)}const e=Q$;return t}function NC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)NC(t,e[s],n,r,i);return null}return n=nv(n),t&&t[Zl]?t.P(e,n,Jl(r)?!!r.capture:!!r,i):kC(t,e,n,!0,r,i)}function PC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)PC(t,e[s],n,r,i);else r=Jl(r)?!!r.capture:!!r,n=nv(n),t&&t[Zl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Um(s,n,r,i),-1<n&&(kh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=tv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Um(e,n,r,i)),(n=-1<t?e[t]:null)&&ev(n))}function ev(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Zl])Vm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(AC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tv(e))?(Vm(n,t),n.h==0&&(n.src=null,e[Zy]=null)):kh(t)}}}function AC(t){return t in dp?dp[t]:dp[t]="on"+t}function Q$(t,e){if(t.fa)t=!0;else{e=new bl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ev(t),t=n.call(r,e)}return t}function tv(t){return t=t[Zy],t instanceof Nh?t:null}var hp="__closure_events_fn_"+(1e9*Math.random()>>>0);function nv(t){return typeof t=="function"?t:(t[hp]||(t[hp]=function(e){return t.handleEvent(e)}),t[hp])}function yt(){Ni.call(this),this.i=new Nh(this),this.S=this,this.J=null}vt(yt,Ni);yt.prototype[Zl]=!0;yt.prototype.removeEventListener=function(t,e,n,r){PC(this,t,e,n,r)};function Tt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ut(e,t);else if(e instanceof Ut)e.target=e.target||t;else{var i=e;e=new Ut(r,t),TC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Wc(o,r,!0,e)&&i}if(o=e.g=t,i=Wc(o,r,!0,e)&&i,i=Wc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Wc(o,r,!1,e)&&i}yt.prototype.N=function(){if(yt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kh(n[r]);delete t.g[e],t.h--}}this.J=null};yt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};yt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&Vm(t.i,o),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var rv=ue.JSON.stringify;class Y${constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function X$(){var t=iv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class J${constructor(){this.h=this.g=null}add(e,n){const r=jC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var jC=new Y$(()=>new Z$,t=>t.reset());class Z${constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function eM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function tM(t){ue.setTimeout(()=>{throw t},0)}let El,xl=!1,iv=new J$,DC=()=>{const t=ue.Promise.resolve(void 0);El=()=>{t.then(nM)}};var nM=()=>{for(var t;t=X$();){try{t.h.call(t.g)}catch(n){tM(n)}var e=jC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xl=!1};function Ph(t,e){yt.call(this),this.h=t||1,this.g=e||ue,this.j=Vt(this.qb,this),this.l=Date.now()}vt(Ph,yt);H=Ph.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tt(this,"tick"),this.ga&&(sv(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Ph.$.N.call(this),sv(this),delete this.g};function ov(t,e,n){if(typeof t=="function")n&&(t=Vt(t,n));else if(t&&typeof t.handleEvent=="function")t=Vt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function OC(t){t.g=ov(()=>{t.g=null,t.i&&(t.i=!1,OC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class rM extends Ni{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OC(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sl(t){Ni.call(this),this.h=t,this.g={}}vt(Sl,Ni);var Hw=[];function LC(t,e,n,r){Array.isArray(n)||(n&&(Hw[0]=n.toString()),n=Hw);for(var i=0;i<n.length;i++){var s=RC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function $C(t){Jy(t.g,function(e,n){this.g.hasOwnProperty(n)&&ev(e)},t),t.g={}}Sl.prototype.N=function(){Sl.$.N.call(this),$C(this)};Sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ah(){this.g=!0}Ah.prototype.Ea=function(){this.g=!1};function iM(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),c=0;c<l.length;c++){var u=l[c].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function sM(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function no(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+aM(t,n)+(r?" "+r:"")})}function oM(t,e){t.info(function(){return"TIMEOUT: "+e})}Ah.prototype.info=function(){};function aM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return rv(n)}catch{return e}}var Ts={},Ww=null;function jh(){return Ww=Ww||new yt}Ts.Ta="serverreachability";function MC(t){Ut.call(this,Ts.Ta,t)}vt(MC,Ut);function Cl(t){const e=jh();Tt(e,new MC(e))}Ts.STAT_EVENT="statevent";function FC(t,e){Ut.call(this,Ts.STAT_EVENT,t),this.stat=e}vt(FC,Ut);function Gt(t){const e=jh();Tt(e,new FC(e,t))}Ts.Ua="timingevent";function VC(t,e){Ut.call(this,Ts.Ua,t),this.size=e}vt(VC,Ut);function ec(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}var Dh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},UC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function av(){}av.prototype.h=null;function qw(t){return t.h||(t.h=t.i())}function zC(){}var tc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lv(){Ut.call(this,"d")}vt(lv,Ut);function cv(){Ut.call(this,"c")}vt(cv,Ut);var zm;function Oh(){}vt(Oh,av);Oh.prototype.g=function(){return new XMLHttpRequest};Oh.prototype.i=function(){return{}};zm=new Oh;function nc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Sl(this),this.P=lM,t=$m?125:void 0,this.V=new Ph(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new BC}function BC(){this.i=null,this.g="",this.h=!1}var lM=45e3,HC={},Bm={};H=nc.prototype;H.setTimeout=function(t){this.P=t};function Hm(t,e,n){t.L=1,t.A=$h(Or(e)),t.u=n,t.S=!0,WC(t,null)}function WC(t,e){t.G=Date.now(),rc(t),t.B=Or(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),ZC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new BC,t.g=wI(t.l,n?e:null,!t.u),0<t.O&&(t.M=new rM(Vt(t.Pa,t,t.g),t.O)),LC(t.U,t.g,"readystatechange",t.nb),e=t.I?IC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Cl(),iM(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;const e=this.M;e&&rr(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const d=rr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||$m||this.g&&(this.h.h||this.g.ja()||Yw(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?Cl(3):Cl(2)),Lh(this);var n=this.g.da();this.ca=n;t:if(qC(this)){var r=Yw(this.g);t="";var i=r.length,s=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wi(this),za(this);var o="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,sM(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wl(l)){var u=l;break t}}u=null}if(n=u)no(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wm(this,n);else{this.i=!1,this.s=3,Gt(12),Wi(this),za(this);break e}}this.S?(GC(this,d,o),$m&&this.i&&d==3&&(LC(this.U,this.V,"tick",this.mb),this.V.start())):(no(this.j,this.m,o,null),Wm(this,o)),d==4&&Wi(this),this.i&&!this.J&&(d==4?gI(this.l,this):(this.i=!1,rc(this)))}else kM(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),Wi(this),za(this)}}}catch{}finally{}};function qC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function GC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=cM(t,n),i==Bm){e==4&&(t.s=4,Gt(14),r=!1),no(t.j,t.m,null,"[Incomplete Response]");break}else if(i==HC){t.s=4,Gt(15),no(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else no(t.j,t.m,i,null),Wm(t,i);qC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mv(e),e.M=!0,Gt(11))):(no(t.j,t.m,n,"[Invalid Chunked Response]"),Wi(t),za(t))}H.mb=function(){if(this.g){var t=rr(this.g),e=this.g.ja();this.o<e.length&&(Lh(this),GC(this,t,e),this.i&&t!=4&&rc(this))}};function cM(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Bm:(n=Number(e.substring(n,r)),isNaN(n)?HC:(r+=1,r+n>e.length?Bm:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,Wi(this)};function rc(t){t.Y=Date.now()+t.P,KC(t,t.P)}function KC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ec(Vt(t.lb,t),e)}function Lh(t){t.C&&(ue.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(oM(this.j,this.B),this.L!=2&&(Cl(),Gt(17)),Wi(this),this.s=2,za(this)):KC(this,this.Y-t)};function za(t){t.l.H==0||t.J||gI(t.l,t)}function Wi(t){Lh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,sv(t.V),$C(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Wm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||qm(n.i,t))){if(!t.K&&qm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Td(n),Uh(n);else break e;pv(n),Gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ec(Vt(n.ib,n),6e3));if(1>=nI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else qi(n,11)}else if((t.K||n.g==t)&&Td(n),!wl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(uv(s,s.h),s.h=null))}if(r.F){const _=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Ve(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=_I(r,r.J?r.pa:null,r.Y),o.K){rI(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.C&&(Lh(l),rc(l)),r.g=o}else pI(r);0<n.j.length&&zh(n)}else u[0]!="stop"&&u[0]!="close"||qi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?qi(n,7):fv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Cl(4)}catch{}}function uM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Th(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function dM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Th(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function QC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Th(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=dM(t),r=uM(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var YC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function es(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof es){this.h=t.h,Cd(this,t.j),this.s=t.s,this.g=t.g,Id(this,t.m),this.l=t.l;var e=t.i,n=new Il;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Gw(this,n),this.o=t.o}else t&&(e=String(t).match(YC))?(this.h=!1,Cd(this,e[1]||"",!0),this.s=Ca(e[2]||""),this.g=Ca(e[3]||"",!0),Id(this,e[4]),this.l=Ca(e[5]||"",!0),Gw(this,e[6]||"",!0),this.o=Ca(e[7]||"")):(this.h=!1,this.i=new Il(null,this.h))}es.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ia(e,Kw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ia(e,Kw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ia(n,n.charAt(0)=="/"?mM:pM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ia(n,yM)),t.join("")};function Or(t){return new es(t)}function Cd(t,e,n){t.j=n?Ca(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Id(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Gw(t,e,n){e instanceof Il?(t.i=e,vM(t.i,t.h)):(n||(e=Ia(e,gM)),t.i=new Il(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function $h(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ca(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ia(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,fM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Kw=/[#\/\?@]/g,pM=/[#\?:]/g,mM=/[#\?]/g,gM=/[#\?@]/g,yM=/#/g;function Il(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pi(t){t.g||(t.g=new Map,t.h=0,t.i&&hM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=Il.prototype;H.add=function(t,e){Pi(this),this.i=null,t=qo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function XC(t,e){Pi(t),e=qo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function JC(t,e){return Pi(t),e=qo(t,e),t.g.has(e)}H.forEach=function(t,e){Pi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.ta=function(){Pi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};H.Z=function(t){Pi(this);let e=[];if(typeof t=="string")JC(this,t)&&(e=e.concat(this.g.get(qo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return Pi(this),this.i=null,t=qo(this,t),JC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ZC(t,e,n){XC(t,e),0<n.length&&(t.i=null,t.g.set(qo(t,e),Yy(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function qo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function vM(t,e){e&&!t.j&&(Pi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(XC(this,r),ZC(this,i,n))},t)),t.j=e}var _M=class{constructor(t,e){this.g=t,this.map=e}};function eI(t){this.l=t||wM,ue.PerformanceNavigationTiming?(t=ue.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wM=10;function tI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function nI(t){return t.h?1:t.g?t.g.size:0}function qm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uv(t,e){t.g?t.g.add(e):t.h=e}function rI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}eI.prototype.cancel=function(){if(this.i=iI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function iI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Yy(t.i)}var bM=class{stringify(t){return ue.JSON.stringify(t,void 0)}parse(t){return ue.JSON.parse(t,void 0)}};function EM(){this.g=new bM}function xM(t,e,n){const r=n||"";try{QC(t,function(i,s){let o=i;Jl(i)&&(o=rv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function SM(t,e){const n=new Ah;if(ue.Image){const r=new Image;r.onload=Hc(qc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hc(qc,n,r,"TestLoadImage: error",!1,e),r.onabort=Hc(qc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hc(qc,n,r,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function qc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Mh(t){this.l=t.ec||null,this.j=t.ob||!1}vt(Mh,av);Mh.prototype.g=function(){return new Fh(this.l,this.j)};Mh.prototype.i=function(t){return function(){return t}}({});function Fh(t,e){yt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=dv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vt(Fh,yt);var dv=0;H=Fh.prototype;H.open=function(t,e){if(this.readyState!=dv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tl(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ic(this)),this.readyState=dv};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tl(this)),this.g&&(this.readyState=3,Tl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function sI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ic(this):Tl(this),this.readyState==3&&sI(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,ic(this))};H.Ya=function(t){this.g&&(this.response=t,ic(this))};H.ka=function(){this.g&&ic(this)};function ic(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tl(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Tl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var CM=ue.JSON.parse;function Je(t){yt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oI,this.L=this.M=!1}vt(Je,yt);var oI="",IM=/^https?$/i,TM=["POST","PUT"];H=Je.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zm.g(),this.C=this.u?qw(this.u):qw(zm),this.g.onreadystatechange=Vt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Qw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ue.FormData&&t instanceof ue.FormData,!(0<=EC(TM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cI(this),0<this.B&&((this.L=RM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.ua,this)):this.A=ov(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Qw(this,s)}};function RM(t){return Co&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof Qy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))};function Qw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,aI(t),Vh(t)}function aI(t){t.F||(t.F=!0,Tt(t,"complete"),Tt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),Vh(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vh(this,!0)),Je.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?lI(this):this.kb())};H.kb=function(){lI(this)};function lI(t){if(t.h&&typeof Qy<"u"&&(!t.C[1]||rr(t)!=4||t.da()!=2)){if(t.v&&rr(t)==4)ov(t.La,0,t);else if(Tt(t,"readystatechange"),rr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(YC)[1]||null;!i&&ue.self&&ue.self.location&&(i=ue.self.location.protocol.slice(0,-1)),r=!IM.test(i?i.toLowerCase():"")}n=r}if(n)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var s=2<rr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",aI(t)}}finally{Vh(t)}}}}function Vh(t,e){if(t.g){cI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tt(t,"ready");try{n.onreadystatechange=r}catch{}}}function cI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function rr(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),CM(e)}};function Yw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case oI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function kM(t){const e={};t=(t.g&&2<=rr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(wl(t[r]))continue;var n=eM(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}G$(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function uI(t){let e="";return Jy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function hv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=uI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function ma(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function dI(t){this.Ga=0,this.j=[],this.l=new Ah,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ma("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ma("baseRetryDelayMs",5e3,t),this.hb=ma("retryDelaySeedMs",1e4,t),this.eb=ma("forwardChannelMaxRetries",2,t),this.xa=ma("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new eI(t&&t.concurrentRequestLimit),this.Ja=new EM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=dI.prototype;H.ra=8;H.H=1;function fv(t){if(hI(t),t.H==3){var e=t.W++,n=Or(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),sc(t,n),e=new nc(t,t.l,e),e.L=2,e.A=$h(Or(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon)try{n=ue.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ue.Image&&(new Image().src=e.A,n=!0),n||(e.g=wI(e.l,null),e.g.ha(e.A)),e.G=Date.now(),rc(e)}vI(t)}function Uh(t){t.g&&(mv(t),t.g.cancel(),t.g=null)}function hI(t){Uh(t),t.u&&(ue.clearTimeout(t.u),t.u=null),Td(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ue.clearTimeout(t.m),t.m=null)}function zh(t){if(!tI(t.i)&&!t.m){t.m=!0;var e=t.Na;El||DC(),xl||(El(),xl=!0),iv.add(e,t),t.C=0}}function NM(t,e){return nI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ec(Vt(t.Na,t,e),yI(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new nc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=IC(s),TC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=fI(this,i,e),n=Or(this.I),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),sc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(uI(s)))+"&"+e:this.o&&hv(n,this.o,s)),uv(this.i,i),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),i.aa=!0,Hm(i,n,null)):Hm(i,n,e),this.H=2}}else this.H==3&&(t?Xw(this,t):this.j.length==0||tI(this.i)||Xw(this))};function Xw(t,e){var n;e?n=e.m:n=t.W++;const r=Or(t.I);Ve(r,"SID",t.K),Ve(r,"RID",n),Ve(r,"AID",t.V),sc(t,r),t.o&&t.s&&hv(r,t.o,t.s),n=new nc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=fI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),uv(t.i,n),Hm(n,r,e)}function sc(t,e){t.na&&Jy(t.na,function(n,r){Ve(e,r,n)}),t.h&&QC({},function(n,r){Ve(e,r,n)})}function fI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Vt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let c=0;c<n;c++){let u=i[c].g;const d=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),l=!1;else try{xM(d,o,"req"+u+"_")}catch{r&&r(d)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function pI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;El||DC(),xl||(El(),xl=!0),iv.add(e,t),t.A=0}}function pv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ec(Vt(t.Ma,t),yI(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,mI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ec(Vt(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gt(10),Uh(this),mI(this))};function mv(t){t.B!=null&&(ue.clearTimeout(t.B),t.B=null)}function mI(t){t.g=new nc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Or(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),sc(t,e),t.o&&t.s&&hv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=$h(Or(e)),n.u=null,n.S=!0,WC(n,t)}H.ib=function(){this.v!=null&&(this.v=null,Uh(this),pv(this),Gt(19))};function Td(t){t.v!=null&&(ue.clearTimeout(t.v),t.v=null)}function gI(t,e){var n=null;if(t.g==e){Td(t),mv(t),t.g=null;var r=2}else if(qm(t.i,e))n=e.F,rI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=jh(),Tt(r,new VC(r,n)),zh(t)}else pI(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&NM(t,e)||r==2&&pv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:qi(t,5);break;case 4:qi(t,10);break;case 3:qi(t,6);break;default:qi(t,2)}}}function yI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function qi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Vt(t.pb,t);n||(n=new es("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||Cd(n,"https"),$h(n)),SM(n.toString(),r)}else Gt(2);t.H=0,t.h&&t.h.za(e),vI(t),hI(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gt(2)):(this.l.info("Failed to ping google.com"),Gt(1))};function vI(t){if(t.H=0,t.ma=[],t.h){const e=iI(t.i);(e.length!=0||t.j.length!=0)&&(Uw(t.ma,e),Uw(t.ma,t.j),t.i.i.length=0,Yy(t.j),t.j.length=0),t.h.ya()}}function _I(t,e,n){var r=n instanceof es?Or(n):new es(n);if(r.g!="")e&&(r.g=e+"."+r.g),Id(r,r.m);else{var i=ue.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new es(null);r&&Cd(s,r),e&&(s.g=e),i&&Id(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ve(r,n,e),Ve(r,"VER",t.ra),sc(t,r),r}function wI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Je(new Mh({ob:n})):new Je(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function bI(){}H=bI.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function Rd(){if(Co&&!(10<=Number(B$)))throw Error("Environmental error: no available transport.")}Rd.prototype.g=function(t,e){return new vn(t,e)};function vn(t,e){yt.call(this),this.g=new dI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!wl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Go(this)}vt(vn,yt);vn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=_I(t,null,t.Y),zh(t)};vn.prototype.close=function(){fv(this.g)};vn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=rv(t),t=n);e.j.push(new _M(e.fb++,t)),e.H==3&&zh(e)};vn.prototype.N=function(){this.g.h=null,delete this.j,fv(this.g),delete this.g,vn.$.N.call(this)};function EI(t){lv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}vt(EI,lv);function xI(){cv.call(this),this.status=1}vt(xI,cv);function Go(t){this.g=t}vt(Go,bI);Go.prototype.Ba=function(){Tt(this.g,"a")};Go.prototype.Aa=function(t){Tt(this.g,new EI(t))};Go.prototype.za=function(t){Tt(this.g,new xI)};Go.prototype.ya=function(){Tt(this.g,"b")};function PM(){this.blockSize=-1}function qn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vt(qn,PM);qn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function fp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}qn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)fp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){fp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){fp(this,r),i=0;break}}this.h=i,this.i+=e};qn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var AM={};function gv(t){return-128<=t&&128>t?V$(t,function(e){return new Pe([e|0],0>e?-1:0)}):new Pe([t|0],0>t?-1:0)}function ir(t){if(isNaN(t)||!isFinite(t))return fo;if(0>t)return xt(ir(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Gm;return new Pe(e,0)}function SI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return xt(SI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ir(Math.pow(e,8)),r=fo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ir(Math.pow(e,s)),r=r.R(s).add(ir(o))):(r=r.R(n),r=r.add(ir(o)))}return r}var Gm=4294967296,fo=gv(0),Km=gv(1),Jw=gv(16777216);H=Pe.prototype;H.ea=function(){if(Sn(this))return-xt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Gm+r)*e,e*=Gm}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ir(this))return"0";if(Sn(this))return"-"+xt(this).toString(t);for(var e=ir(Math.pow(t,6)),n=this,r="";;){var i=Nd(n,e).g;n=kd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ir(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ir(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Sn(t){return t.h==-1}H.X=function(t){return t=kd(this,t),Sn(t)?-1:Ir(t)?0:1};function xt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Pe(n,~t.h).add(Km)}H.abs=function(){return Sn(this)?xt(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Pe(n,n[n.length-1]&-2147483648?-1:0)};function kd(t,e){return t.add(xt(e))}H.R=function(t){if(Ir(this)||Ir(t))return fo;if(Sn(this))return Sn(t)?xt(this).R(xt(t)):xt(xt(this).R(t));if(Sn(t))return xt(this.R(xt(t)));if(0>this.X(Jw)&&0>t.X(Jw))return ir(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Gc(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Gc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,Gc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,Gc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Pe(n,0)};function Gc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ga(t,e){this.g=t,this.h=e}function Nd(t,e){if(Ir(e))throw Error("division by zero");if(Ir(t))return new ga(fo,fo);if(Sn(t))return e=Nd(xt(t),e),new ga(xt(e.g),xt(e.h));if(Sn(e))return e=Nd(t,xt(e)),new ga(xt(e.g),e.h);if(30<t.g.length){if(Sn(t)||Sn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Km,r=e;0>=r.X(t);)n=Zw(n),r=Zw(r);var i=Ms(n,1),s=Ms(r,1);for(r=Ms(r,2),n=Ms(n,2);!Ir(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ms(r,1),n=Ms(n,1)}return e=kd(t,i.R(e)),new ga(i,e)}for(i=fo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ir(n),o=s.R(e);Sn(o)||0<o.X(t);)n-=r,s=ir(n),o=s.R(e);Ir(s)&&(s=Km),i=i.add(s),t=kd(t,o)}return new ga(i,t)}H.gb=function(t){return Nd(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Pe(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Pe(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Pe(n,this.h^t.h)};function Zw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Pe(n,t.h)}function Ms(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Pe(i,t.h)}Rd.prototype.createWebChannel=Rd.prototype.g;vn.prototype.send=vn.prototype.u;vn.prototype.open=vn.prototype.m;vn.prototype.close=vn.prototype.close;Dh.NO_ERROR=0;Dh.TIMEOUT=8;Dh.HTTP_ERROR=6;UC.COMPLETE="complete";zC.EventType=tc;tc.OPEN="a";tc.CLOSE="b";tc.ERROR="c";tc.MESSAGE="d";yt.prototype.listen=yt.prototype.O;Je.prototype.listenOnce=Je.prototype.P;Je.prototype.getLastError=Je.prototype.Sa;Je.prototype.getLastErrorCode=Je.prototype.Ia;Je.prototype.getStatus=Je.prototype.da;Je.prototype.getResponseJson=Je.prototype.Wa;Je.prototype.getResponseText=Je.prototype.ja;Je.prototype.send=Je.prototype.ha;Je.prototype.setWithCredentials=Je.prototype.Oa;qn.prototype.digest=qn.prototype.l;qn.prototype.reset=qn.prototype.reset;qn.prototype.update=qn.prototype.j;Pe.prototype.add=Pe.prototype.add;Pe.prototype.multiply=Pe.prototype.R;Pe.prototype.modulo=Pe.prototype.gb;Pe.prototype.compare=Pe.prototype.X;Pe.prototype.toNumber=Pe.prototype.ea;Pe.prototype.toString=Pe.prototype.toString;Pe.prototype.getBits=Pe.prototype.D;Pe.fromNumber=ir;Pe.fromString=SI;var jM=function(){return new Rd},DM=function(){return jh()},pp=Dh,OM=UC,LM=Ts,eb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kc=zC,$M=Je,MM=qn,po=Pe;const tb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Py("@firebase/firestore");function ya(){return gs.logLevel}function B(t,...e){if(gs.logLevel<=Ee.DEBUG){const n=e.map(yv);gs.debug(`Firestore (${Ko}): ${t}`,...n)}}function fr(t,...e){if(gs.logLevel<=Ee.ERROR){const n=e.map(yv);gs.error(`Firestore (${Ko}): ${t}`,...n)}}function Io(t,...e){if(gs.logLevel<=Ee.WARN){const n=e.map(yv);gs.warn(`Firestore (${Ko}): ${t}`,...n)}}function yv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+t;throw fr(e),new Error(e)}function Le(t,e){t||ce()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class VM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UM{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ur,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new CI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new Lt(e)}}class zM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new HM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function To(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ce(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new Ce(0,0))}static max(){return new de(new Ce(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends Rl{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new De(n)}static emptyPath(){return new De([])}}const GM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Rl{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return GM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new U(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new U(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new U(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new U(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(De.fromString(e))}static fromName(e){return new Z(De.fromString(e).popFirst(5))}static empty(){return new Z(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new De(e.slice()))}}function KM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new Ei(i,Z.empty(),e)}function QM(t){return new Ei(t.readTime,t.key,-1)}class Ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ei(de.min(),Z.empty(),-1)}static max(){return new Ei(de.max(),Z.empty(),-1)}}function YM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==XM)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,r)=>{n(e)})}static reject(e){return new A((n,r)=>{r(e)})}static waitFor(e){return new A((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=A.resolve(!1);for(const r of e)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new A((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new A((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ur,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ba(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=_v(r.target.error);this.V.reject(new Ba(e,i))}}static open(e,n,r,i){try{return new vv(n,e.transaction(i,r))}catch(s){throw new Ba(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(B("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new eF(n)}}class Gi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Gi.S(ot())===12.2&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return B("SimpleDb","Removing database:",e),Ui(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!bS())return!1;if(Gi.C())return!0;const e=ot(),n=Gi.S(e),r=0<n&&n<10,i=Gi.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(B("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Ba(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new U(T.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new U(T.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ba(e,o))},i.onupgradeneeded=s=>{B("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{B("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=vv.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),A.reject(u))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&o<3;if(B("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ZM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ui(this.k.delete())}}class Ba extends U{constructor(e,n){super(T.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ac(t){return t.name==="IndexedDbTransactionError"}class eF{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(B("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(B("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ui(r)}add(e){return B("SimpleDb","ADD",this.store.name,e,e),Ui(this.store.add(e))}get(e){return Ui(this.store.get(e)).next(n=>(n===void 0&&(n=null),B("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return B("SimpleDb","DELETE",this.store.name,e),Ui(this.store.delete(e))}count(){return B("SimpleDb","COUNT",this.store.name),Ui(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new A((o,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(l,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new A((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){B("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new A((r,i)=>{n.onerror=s=>{const o=_v(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}G(e,n){const r=[];return new A((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void i();const c=new ZM(l),u=n(l.primaryKey,l.value,c);if(u instanceof A){const d=u.catch(h=>(c.done(),A.reject(h)));r.push(d)}c.isDone?i():c.$===null?l.continue():l.continue(c.$)}}).next(()=>A.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ui(t){return new A((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=_v(r.target.error);n(i)}})}let nb=!1;function _v(t){const e=Gi.S(ot());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new U("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nb||(nb=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}wv._e=-1;function Bh(t){return t==null}function Pd(t){return t===0&&1/t==-1/0}function tF(t){return typeof t=="number"&&Number.isInteger(t)&&!Pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Et.RED,this.left=i??Et.EMPTY,this.right=s??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Et(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ib(this.data.getIterator())}getIteratorFrom(e){return new ib(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class ib{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new fn([])}unionWith(e){let n=new Rt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new RI("Invalid base64 string: "+s):s}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const nF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(Le(!!t),typeof t=="string"){let e=0;const n=nF.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bv(t){const e=t.mapValue.fields.__previous_value__;return Hh(e)?bv(e):e}function kl(t){const e=xi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hh(t)?4:iF(t)?9007199254740991:10:ce()}function pr(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kl(t).isEqual(kl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=xi(i.timestampValue),l=xi(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ys(i.bytesValue).isEqual(ys(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return nt(i.geoPointValue.latitude)===nt(s.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return nt(i.integerValue)===nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=nt(i.doubleValue),l=nt(s.doubleValue);return o===l?Pd(o)===Pd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return To(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(rb(o)!==rb(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!pr(o[c],l[c])))return!1;return!0}(t,e);default:return ce()}}function Pl(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function Ro(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=nt(s.integerValue||s.doubleValue),c=nt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return sb(t.timestampValue,e.timestampValue);case 4:return sb(kl(t),kl(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(s,o){const l=ys(s),c=ys(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Re(l[u],c[u]);if(d!==0)return d}return Re(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Re(nt(s.latitude),nt(o.latitude));return l!==0?l:Re(nt(s.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let u=0;u<l.length&&u<c.length;++u){const d=Ro(l[u],c[u]);if(d)return d}return Re(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Yc.mapValue&&o===Yc.mapValue)return 0;if(s===Yc.mapValue)return 1;if(o===Yc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=Re(c[h],d[h]);if(f!==0)return f;const m=Ro(l[c[h]],u[d[h]]);if(m!==0)return m}return Re(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ce()}}function sb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=xi(t),r=xi(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function ko(t){return Qm(t)}function Qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Qm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Qm(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function Ad(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ym(t){return!!t&&"integerValue"in t}function Ev(t){return!!t&&"arrayValue"in t}function ob(t){return!!t&&"nullValue"in t}function ab(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Su(t){return!!t&&"mapValue"in t}function Ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ha(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ha(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Su(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Rs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn(Ha(this.value))}}function kI(t){const e=[];return Rs(t.fields,(n,r)=>{const i=new Ct([n]);if(Su(r)){const s=kI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Mt(e,0,de.min(),de.min(),de.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,de.min(),de.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,de.min(),de.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.position=e,this.inclusive=n}}function lb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Ro(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function sF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{}class st extends NI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aF(e,n,r):n==="array-contains"?new uF(e,r):n==="in"?new dF(e,r):n==="not-in"?new hF(e,r):n==="array-contains-any"?new fF(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lF(e,r):new cF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ro(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends NI{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Gn(e,n)}matches(e){return PI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function PI(t){return t.op==="and"}function AI(t){return oF(t)&&PI(t)}function oF(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function Xm(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+ko(t.value);if(AI(t))return t.filters.map(e=>Xm(e)).join(",");{const e=t.filters.map(n=>Xm(n)).join(",");return`${t.op}(${e})`}}function jI(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&pr(r.value,i.value)}(t,e):t instanceof Gn?function(r,i){return i instanceof Gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&jI(o,i.filters[l]),!0):!1}(t,e):void ce()}function DI(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`}(t):t instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(DI).join(" ,")+"}"}(t):"Filter"}class aF extends st{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class lF extends st{constructor(e,n){super(e,"in",n),this.keys=OI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cF extends st{constructor(e,n){super(e,"not-in",n),this.keys=OI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class uF extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ev(n)&&Pl(n.arrayValue,this.value)}}class dF extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class hF extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pl(this.value.arrayValue,n)}}class fF extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ce=null}}function ub(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pF(t,e,n,r,i,s,o)}function xv(t){const e=pe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ko(r)).join(",")),e.ce=n}return e.ce}function Sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cb(t.startAt,e.startAt)&&cb(t.endAt,e.endAt)}function Jm(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function mF(t,e,n,r,i,s,o,l){return new Qo(t,e,n,r,i,s,o,l)}function Cv(t){return new Qo(t)}function db(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Iv(t){return t.collectionGroup!==null}function mo(t){const e=pe(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Rt(Ct.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new jd(s,r))}),n.has(Ct.keyField().canonicalString())||e.le.push(new jd(Ct.keyField(),r))}return e.le}function dr(t){const e=pe(t);return e.he||(e.he=gF(e,mo(t))),e.he}function gF(t,e){if(t.limitType==="F")return ub(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jd(i.field,s)});const n=t.endAt?new No(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new No(t.startAt.position,t.startAt.inclusive):null;return ub(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zm(t,e){const n=t.filters.concat([e]);return new Qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dd(t,e,n){return new Qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wh(t,e){return Sv(dr(t),dr(e))&&t.limitType===e.limitType}function LI(t){return`${xv(dr(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DI(i)).join(", ")}]`),Bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ko(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ko(i)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function qh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of mo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=lb(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,mo(r),i)||r.endAt&&!function(o,l,c){const u=lb(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,mo(r),i))}(t,e)}function yF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $I(t){return(e,n)=>{let r=!1;for(const i of mo(t)){const s=vF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vF(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Ro(c,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return TI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=new Ke(Z.comparator);function Lr(){return _F}const MI=new Ke(Z.comparator);function Ta(...t){let e=MI;for(const n of t)e=e.insert(n.key,n);return e}function FI(t){let e=MI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ki(){return Wa()}function VI(){return Wa()}function Wa(){return new Yo(t=>t.toString(),(t,e)=>t.isEqual(e))}const wF=new Ke(Z.comparator),bF=new Rt(Z.comparator);function we(...t){let e=bF;for(const n of t)e=e.add(n);return e}const EF=new Rt(Re);function xF(){return EF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pd(e)?"-0":e}}function zI(t){return{integerValue:""+t}}function SF(t,e){return tF(e)?zI(e):UI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function CF(t,e,n){return t instanceof Od?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hh(s)&&(s=bv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Al?HI(t,e):t instanceof jl?WI(t,e):function(i,s){const o=BI(i,s),l=hb(o)+hb(i.Ie);return Ym(o)&&Ym(i.Ie)?zI(l):UI(i.serializer,l)}(t,e)}function IF(t,e,n){return t instanceof Al?HI(t,e):t instanceof jl?WI(t,e):n}function BI(t,e){return t instanceof Ld?function(r){return Ym(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Od extends Gh{}class Al extends Gh{constructor(e){super(),this.elements=e}}function HI(t,e){const n=qI(e);for(const r of t.elements)n.some(i=>pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class jl extends Gh{constructor(e){super(),this.elements=e}}function WI(t,e){let n=qI(e);for(const r of t.elements)n=n.filter(i=>!pr(i,r));return{arrayValue:{values:n}}}class Ld extends Gh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function hb(t){return nt(t.integerValue||t.doubleValue)}function qI(t){return Ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Al&&i instanceof Al||r instanceof jl&&i instanceof jl?To(r.elements,i.elements,pr):r instanceof Ld&&i instanceof Ld?pr(r.Ie,i.Ie):r instanceof Od&&i instanceof Od}(t.transform,e.transform)}class RF{constructor(e,n){this.version=e,this.transformResults=n}}class Tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kh{}function GI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tv(t.key,Tn.none()):new lc(t.key,t.data,Tn.none());{const n=t.data,r=tn.empty();let i=new Rt(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ai(t.key,r,new fn(i.toArray()),Tn.none())}}function kF(t,e,n){t instanceof lc?function(i,s,o){const l=i.value.clone(),c=pb(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ai?function(i,s,o){if(!Cu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=pb(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(KI(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function qa(t,e,n,r){return t instanceof lc?function(s,o,l,c){if(!Cu(s.precondition,o))return l;const u=s.value.clone(),d=mb(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ai?function(s,o,l,c){if(!Cu(s.precondition,o))return l;const u=mb(s.fieldTransforms,c,o),d=o.data;return d.setAll(KI(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,l){return Cu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function NF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=BI(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function fb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&To(r,i,(s,o)=>TF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lc extends Kh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ai extends Kh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pb(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,IF(o,l,n[i]))}return r}function mb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,CF(s,o,e))}return r}class Tv extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PF extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=GI(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,r)=>fb(n,r))&&To(this.baseMutations,e.baseMutations,(n,r)=>fb(n,r))}}class Rv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=function(){return wF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Rv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,xe;function OF(t){switch(t){default:return ce();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function QI(t){if(t===void 0)return fr("GRPC error has no .code"),T.UNKNOWN;switch(t){case tt.OK:return T.OK;case tt.CANCELLED:return T.CANCELLED;case tt.UNKNOWN:return T.UNKNOWN;case tt.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case tt.INTERNAL:return T.INTERNAL;case tt.UNAVAILABLE:return T.UNAVAILABLE;case tt.UNAUTHENTICATED:return T.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case tt.NOT_FOUND:return T.NOT_FOUND;case tt.ALREADY_EXISTS:return T.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return T.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case tt.ABORTED:return T.ABORTED;case tt.OUT_OF_RANGE:return T.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return T.UNIMPLEMENTED;case tt.DATA_LOSS:return T.DATA_LOSS;default:return ce()}}(xe=tt||(tt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=new po([4294967295,4294967295],0);function gb(t){const e=LF().encode(t),n=new MM;return n.update(e),new Uint8Array(n.digest())}function yb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new po([n,r],0),new po([i,s],0)]}class kv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ra(`Invalid padding: ${n}`);if(r<0)throw new Ra(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=po.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(po.fromNumber(r)));return i.compare($F)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=gb(e),[r,i]=yb(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new kv(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=gb(e),[r,i]=yb(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qh(de.min(),i,new Ke(Re),Lr(),we())}}class cc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class YI{constructor(e,n){this.targetId=e,this.fe=n}}class XI{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vb{constructor(){this.ge=0,this.pe=wb(),this.ye=Bt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=we(),n=we(),r=we();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new cc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=wb()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Le(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class MF{constructor(e){this.Le=e,this.ke=new Map,this.qe=Lr(),this.Qe=_b(),this.Ke=new Ke(Re)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Jm(s))if(r===0){const o=new Z(s.path);this.We(n,o,Mt.newNoDocument(o,de.min()))}else Le(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),c=l?this.et(l,e,o):1;if(c!==0){this.He(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ys(r).toUint8Array()}catch(c){if(c instanceof RI)return Io("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new kv(o,i,s)}catch(c){return Io(c instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const l=this.Ye(o);if(l){if(s.current&&Jm(l.target)){const c=new Z(l.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Mt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=we();this.Qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Qh(e,n,this.Ke,this.qe,r);return this.qe=Lr(),this.Qe=_b(),this.Ke=new Ke(Re),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new vb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Rt(Re),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new vb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _b(){return new Ke(Z.comparator)}function wb(){return new Ke(Z.comparator)}const FF={asc:"ASCENDING",desc:"DESCENDING"},VF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UF={and:"AND",or:"OR"};class zF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eg(t,e){return t.useProto3Json||Bh(e)?e:{value:e}}function $d(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BF(t,e){return $d(t,e.toTimestamp())}function hr(t){return Le(!!t),de.fromTimestamp(function(n){const r=xi(n);return new Ce(r.seconds,r.nanos)}(t))}function Nv(t,e){return tg(t,e).canonicalString()}function tg(t,e){const n=function(i){return new De(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZI(t){const e=De.fromString(t);return Le(iT(e)),e}function ng(t,e){return Nv(t.databaseId,e.path)}function mp(t,e){const n=ZI(e);if(n.get(1)!==t.databaseId.projectId)throw new U(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(tT(n))}function eT(t,e){return Nv(t.databaseId,e)}function HF(t){const e=ZI(t);return e.length===4?De.emptyPath():tT(e)}function rg(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tT(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bb(t,e,n){return{name:ng(t,e),fields:n.value.mapValue.fields}}function WF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Le(d===void 0||typeof d=="string"),Bt.fromBase64String(d||"")):(Le(d===void 0||d instanceof Uint8Array),Bt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?T.UNKNOWN:QI(u.code);return new U(d,u.message||"")}(o);n=new XI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mp(t,r.document.name),s=hr(r.document.updateTime),o=r.document.createTime?hr(r.document.createTime):de.min(),l=new tn({mapValue:{fields:r.document.fields}}),c=Mt.newFoundDocument(i,s,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Iu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mp(t,r.document),s=r.readTime?hr(r.readTime):de.min(),o=Mt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Iu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mp(t,r.document),s=r.removedTargetIds||[];n=new Iu([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new DF(i,s),l=r.targetId;n=new YI(l,o)}}return n}function qF(t,e){let n;if(e instanceof lc)n={update:bb(t,e.key,e.value)};else if(e instanceof Tv)n={delete:ng(t,e.key)};else if(e instanceof Ai)n={update:bb(t,e.key,e.data),updateMask:tV(e.fieldMask)};else{if(!(e instanceof PF))return ce();n={verify:ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Od)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ld)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:BF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function GF(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?hr(i.updateTime):hr(s);return o.isEqual(de.min())&&(o=hr(s)),new RF(o,i.transformResults||[])}(n,e))):[]}function KF(t,e){return{documents:[eT(t,e.path)]}}function QF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eT(t,i);const s=function(u){if(u.length!==0)return rT(Gn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Us(f.field),direction:JF(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=eg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function YF(t){let e=HF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=nT(h);return f instanceof Gn&&AI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new jd(zs(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,Bh(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,m=h.values||[];return new No(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new No(m,f)}(n.endAt)),mF(e,i,o,s,l,"F",c,u)}function XF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zs(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zs(n.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zs(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return st.create(zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(r=>nT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function JF(t){return FF[t]}function ZF(t){return VF[t]}function eV(t){return UF[t]}function Us(t){return{fieldPath:t.canonicalString()}}function zs(t){return Ct.fromServerFormat(t.fieldPath)}function rT(t){return t instanceof st?function(n){if(n.op==="=="){if(ab(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(ob(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ab(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(ob(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:ZF(n.op),value:n.value}}}(t):t instanceof Gn?function(n){const r=n.getFilters().map(i=>rT(i));return r.length===1?r[0]:{compositeFilter:{op:eV(n.op),filters:r}}}(t):ce()}function tV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n,r,i,s=de.min(),o=de.min(),l=Bt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.ct=e}}function rV(t){const e=YF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this._n=new sV}addToCollectionParentIndex(e,n){return this._n.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Ei.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class sV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(De.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Po(0)}static Bn(){return new Po(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.changes=new Yo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qa(r.mutation,i,fn.empty(),Ce.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Ki();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ta();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ki();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Lr();const o=Wa(),l=function(){return Wa()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ai)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),qa(d.mutation,u,d.mutation.getFieldMask(),Ce.now())):o.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new aV(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Wa();let i=new Ke((o,l)=>o-l),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||fn.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(i.get(l.batchId)||we()).add(c);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=VI();d.forEach(f=>{if(!s.has(f)){const m=GI(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Iv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):A.resolve(Ki());let l=-1,c=s;return o.next(u=>A.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),s.get(d)?A.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,we())).next(d=>({batchId:l,changes:FI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=Ta();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ta();return this.indexManager.getCollectionParents(e,s).next(l=>A.forEach(l,c=>{const u=function(h,f){return new Qo(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Mt.newInvalidDocument(d)))});let l=Ta();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&qa(d.mutation,u,fn.empty(),Ce.now()),qh(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return A.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hr(i.createTime)}}(n)),A.resolve()}getNamedQuery(e,n){return A.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:rV(i.bundledQuery),readTime:hr(i.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.overlays=new Ke(Z.comparator),this.hr=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ki();return A.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),A.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){const i=Ki(),s=n.length+1,o=new Z(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return A.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Ki(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Ki(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return A.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jF(n,r));let s=this.hr.get(n);s===void 0&&(s=we(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.Pr=new Rt(ft.Ir),this.Tr=new Rt(ft.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new ft(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ft(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Z(new De([])),r=new ft(n,e),i=new ft(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Z(new De([])),r=new ft(n,e),i=new ft(n,e+1);let s=we();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ft(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ft{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Z.comparator(e.key,n.key)||Re(e.pr,n.pr)}static Er(e,n){return Re(e.pr,n.pr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Rt(ft.Ir)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AF(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new ft(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ft(n,0),i=new ft(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(Re);return n.forEach(i=>{const s=new ft(i,0),o=new ft(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),A.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const o=new ft(new Z(s),0);let l=new Rt(Re);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.pr)),!0)},o),A.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return A.forEach(n.mutations,i=>{const s=new ft(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new ft(n,0),i=this.wr.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.vr=e,this.docs=function(){return new Ke(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Lr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mt.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Lr();const o=n.path,l=new Z(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||YM(QM(d),r)<=0||(i.has(d.key)||qh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return A.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Fr(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fV(this)}getSize(e){return A.resolve(this.size)}}class fV extends oV{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.persistence=e,this.Mr=new Yo(n=>xv(n),Sv),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Pv,this.targetCount=0,this.Br=Po.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),A.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.qn(n),A.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),A.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n){this.Lr={},this.overlays={},this.kr=new wv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new pV(this),this.indexManager=new iV,this.remoteDocumentCache=function(i){return new hV(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new nV(n),this.$r=new cV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new dV(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new gV(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return A.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class gV extends JM{constructor(e){super(),this.currentSequenceNumber=e}}class Av{constructor(e){this.persistence=e,this.zr=new Pv,this.jr=null}static Hr(e){return new Av(e)}get Jr(){if(this.jr)return this.jr;throw ce()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),A.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Jr,r=>{const i=Z.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return A.or([()=>A.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return L2()?8:Gi.v(ot())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new yV;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ya()<=Ee.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),A.resolve()):(ya()<=Ee.DEBUG&&B("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ya()<=Ee.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):A.resolve())}ji(e,n){if(db(n))return A.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dd(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,l);return this.Xi(n,u,o,c.readTime)?this.ji(e,Dd(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return db(n)||i.isEqual(de.min())?A.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?A.resolve(null):(ya()<=Ee.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vs(n)),this.es(e,o,n,KM(i,-1)).next(l=>l))})}Zi(e,n){let r=new Rt($I(e));return n.forEach((i,s)=>{qh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ya()<=Ee.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.zi.getDocumentsMatchingQuery(e,n,Ei.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ke(Re),this.rs=new Yo(s=>xv(s),Sv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function wV(t,e,n,r){return new _V(t,e,n,r)}async function sT(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=we();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:l}))})})}function bV(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let m=A.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(c,y)).next(_=>{const b=u.docVersions.get(y);Le(b!==null),_.version.compareTo(b)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=we();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oT(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function EV(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;l.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Bt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(_,b,v){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,m,d)&&l.push(n.Qr.updateTargetData(s,m))});let c=Lr(),u=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(xV(s,o,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!r.isEqual(de.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return A.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function xV(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Lr();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(de.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):B("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function SV(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CV(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,A.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ni(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ig(t,e,n){const r=pe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ac(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Eb(t,e,n){const r=pe(t);let i=de.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=pe(c),f=h.rs.get(d);return f!==void 0?A.resolve(h.ns.get(f)):h.Qr.getTargetData(u,d)}(r,o,dr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?s:we())).next(l=>(IV(r,yF(e),l),{documents:l,hs:s})))}function IV(t,e,n){let r=t.ss.get(e)||de.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class xb{constructor(){this.activeTargetIds=xF()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TV{constructor(){this.no=new xb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new xb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function gp(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class PV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const l=gp(),c=this.bo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(d=>(B("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Io("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",i),d})}vo(n,r,i,s,o,l){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=kV[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=gp();return new Promise((o,l)=>{const c=new $M;c.setWithCredentials(!0),c.listenOnce(OM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case pp.NO_ERROR:const d=c.getResponseJson();B(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case pp.TIMEOUT:B(Ot,`RPC '${e}' ${s} timed out`),l(new U(T.DEADLINE_EXCEEDED,"Request time out"));break;case pp.HTTP_ERROR:const h=c.getStatus();if(B(Ot,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(v)>=0?v:T.UNKNOWN}(m.status);l(new U(y,m.message))}else l(new U(T.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new U(T.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{B(Ot,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);B(Ot,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=gp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jM(),l=DM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");B(Ot,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=o.createWebChannel(d,c);let f=!1,m=!1;const y=new NV({lo:b=>{m?B(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(B(Ot,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),B(Ot,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},ho:()=>h.close()}),_=(b,v,g)=>{b.listen(v,w=>{try{g(w)}catch(E){setTimeout(()=>{throw E},0)}})};return _(h,Kc.EventType.OPEN,()=>{m||B(Ot,`RPC '${e}' stream ${i} transport opened.`)}),_(h,Kc.EventType.CLOSE,()=>{m||(m=!0,B(Ot,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),_(h,Kc.EventType.ERROR,b=>{m||(m=!0,Io(Ot,`RPC '${e}' stream ${i} transport errored:`,b),y.Vo(new U(T.UNAVAILABLE,"The operation could not be completed")))}),_(h,Kc.EventType.MESSAGE,b=>{var v;if(!m){const g=b.data[0];Le(!!g);const w=g,E=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(E){B(Ot,`RPC '${e}' stream ${i} received error:`,E);const x=E.status;let S=function(j){const M=tt[j];if(M!==void 0)return QI(M)}(x),C=E.message;S===void 0&&(S=T.INTERNAL,C="Unknown error status: "+x+" with message "+E.message),m=!0,y.Vo(new U(S,C)),h.close()}else B(Ot,`RPC '${e}' stream ${i} received:`,g),y.mo(g)}}),_(l,LM.STAT_EVENT,b=>{b.stat===eb.PROXY?B(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===eb.NOPROXY&&B(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t){return new zF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r,i,s,o,l,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new aT(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new U(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AV extends lT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=WF(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?hr(o.readTime):de.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=rg(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Jm(c)?{documents:KF(s,c)}:{query:QF(s,c).ut},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=JI(s,o.resumeToken);const u=eg(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(de.min())>0){l.readTime=$d(s,o.snapshotVersion.toTimestamp());const u=eg(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=XF(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=rg(this.serializer),n.removeTarget=e,this.t_(n)}}class jV extends lT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=GF(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.T_(r,n)}return Le(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=rg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qF(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new U(T.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,tg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(T.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,tg(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(T.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class OV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(fr(n),this.g_=!1):B("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{ks(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=pe(c);u.v_.add(4),await uc(u),u.x_.set("Unknown"),u.v_.delete(4),await Xh(u)}(this))})}),this.x_=new OV(r,i)}}async function Xh(t){if(ks(t))for(const e of t.F_)await e(!0)}async function uc(t){for(const e of t.F_)await e(!1)}function cT(t,e){const n=pe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Lv(n)?Ov(n):Xo(n).Jo()&&Dv(n,e))}function uT(t,e){const n=pe(t),r=Xo(n);n.C_.delete(e),r.Jo()&&dT(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ks(n)&&n.x_.set("Unknown"))}function Dv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).c_(e)}function dT(t,e){t.O_.Oe(e),Xo(t).l_(e)}function Ov(t){t.O_=new MF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.x_.p_()}function Lv(t){return ks(t)&&!Xo(t).Ho()&&t.C_.size>0}function ks(t){return pe(t).v_.size===0}function hT(t){t.O_=void 0}async function $V(t){t.C_.forEach((e,n)=>{Dv(t,e)})}async function MV(t,e){hT(t),Lv(t)?(t.x_.S_(e),Ov(t)):t.x_.set("Unknown")}async function FV(t,e,n){if(t.x_.set("Online"),e instanceof XI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.C_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.C_.delete(l),i.O_.removeTarget(l))}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Md(t,r)}else if(e instanceof Iu?t.O_.$e(e):e instanceof YI?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(de.min()))try{const r=await oT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.O_.it(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.C_.get(u);d&&s.C_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=s.C_.get(c);if(!d)return;s.C_.set(c,d.withResumeToken(Bt.EMPTY_BYTE_STRING,d.snapshotVersion)),dT(s,c);const h=new ni(d.target,c,u,d.sequenceNumber);Dv(s,h)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await Md(t,r)}}async function Md(t,e,n){if(!ac(e))throw e;t.v_.add(1),await uc(t),t.x_.set("Offline"),n||(n=()=>oT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Xh(t)})}function fT(t,e){return e().catch(n=>Md(t,n,e))}async function Jh(t){const e=pe(t),n=Si(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;VV(e);)try{const i=await SV(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,UV(e,i)}catch(i){await Md(e,i)}pT(e)&&mT(e)}function VV(t){return ks(t)&&t.D_.length<10}function UV(t,e){t.D_.push(e);const n=Si(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function pT(t){return ks(t)&&!Si(t).Ho()&&t.D_.length>0}function mT(t){Si(t).start()}async function zV(t){Si(t).d_()}async function BV(t){const e=Si(t);for(const n of t.D_)e.I_(n.mutations)}async function HV(t,e,n){const r=t.D_.shift(),i=Rv.from(r,e,n);await fT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jh(t)}async function WV(t,e){e&&Si(t).P_&&await async function(r,i){if(function(o){return OF(o)&&o!==T.ABORTED}(i.code)){const s=r.D_.shift();Si(r).Zo(),await fT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Jh(r)}}(t,e),pT(t)&&mT(t)}async function Cb(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=ks(n);n.v_.add(3),await uc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Xh(n)}async function qV(t,e){const n=pe(t);e?(n.v_.delete(2),await Xh(n)):e||(n.v_.add(2),await uc(n),n.x_.set("Unknown"))}function Xo(t){return t.N_||(t.N_=function(n,r,i){const s=pe(n);return s.R_(),new AV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:$V.bind(null,t),To:MV.bind(null,t),u_:FV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Lv(t)?Ov(t):t.x_.set("Unknown")):(await t.N_.stop(),hT(t))})),t.N_}function Si(t){return t.B_||(t.B_=function(n,r,i){const s=pe(n);return s.R_(),new jV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:zV.bind(null,t),To:WV.bind(null,t),E_:BV.bind(null,t),T_:HV.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Jh(t)):(await t.B_.stop(),t.D_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new $v(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mv(t,e){if(fr("AsyncQueue",`${e}: ${t}`),ac(t))return new U(T.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Ta(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new go(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.L_=new Ke(Z.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ce():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ao{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ao(e,n,go.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.q_=void 0,this.Q_=[]}}class KV{constructor(){this.queries=new Yo(e=>LI(e),Wh),this.onlineState="Unknown",this.K_=new Set}}async function gT(t,e){const n=pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new GV),i)try{s.q_=await n.onListen(r)}catch(o){const l=Mv(o,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&Fv(n)}async function yT(t,e){const n=pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function QV(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Q_)l.W_(i)&&(r=!0);o.q_=i}}r&&Fv(n)}function YV(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function Fv(t){t.K_.forEach(e=>{e.next()})}class vT{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.key=e}}class wT{constructor(e){this.key=e}}class XV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=we(),this.mutatedKeys=we(),this.ua=$I(e),this.ca=new go(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Ib,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=qh(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;f&&m?f.data.isEqual(m.data)?y!==_&&(r.track({type:3,doc:m}),b=!0):this.Ia(f,m)||(r.track({type:2,doc:m}),b=!0,(c&&this.ua(m,c)>0||u&&this.ua(m,u)<0)&&(l=!0)):!f&&m?(r.track({type:0,doc:m}),b=!0):f&&!m&&(r.track({type:1,doc:f}),b=!0,(c||u)&&(l=!0)),b&&(m?(o=o.add(m),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ca:o,Pa:r,Xi:l,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((d,h)=>function(m,y){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return _(m)-_(y)}(d.type,h.type)||this.ua(d.doc,h.doc)),this.Ta(r),i=i!=null&&i;const l=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new Ao(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Ib,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=we(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new wT(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new _T(r))}),n}Ra(e){this.oa=e.hs,this.aa=we();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Ao.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class JV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZV{constructor(e){this.key=e,this.ma=!1}}class e3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Yo(l=>LI(l),Wh),this.pa=new Map,this.ya=new Set,this.wa=new Ke(Z.comparator),this.Sa=new Map,this.ba=new Pv,this.Da={},this.Ca=new Map,this.va=Po.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function t3(t,e){const n=d3(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await CV(n.localStore,dr(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await n3(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&cT(n.remoteStore,o)}return i}async function n3(t,e,n,r,i){t.Ma=(h,f,m)=>async function(_,b,v,g){let w=b.view.ha(v);w.Xi&&(w=await Eb(_.localStore,b.query,!1).then(({documents:C})=>b.view.ha(C,w)));const E=g&&g.targetChanges.get(b.targetId),x=g&&g.targetMismatches.get(b.targetId)!=null,S=b.view.applyChanges(w,_.isPrimaryClient,E,x);return Rb(_,b.targetId,S.da),S.snapshot}(t,h,f,m);const s=await Eb(t.localStore,e,!0),o=new XV(e,s.hs),l=o.ha(s.documents),c=cc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);Rb(t,n,u.da);const d=new JV(e,n,o);return t.ga.set(e,d),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function r3(t,e){const n=pe(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Wh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ig(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),uT(n.remoteStore,r.targetId),sg(n,r.targetId)}).catch(oc)):(sg(n,r.targetId),await ig(n.localStore,r.targetId,!0))}async function i3(t,e,n){const r=h3(t);try{const i=await function(o,l){const c=pe(o),u=Ce.now(),d=l.reduce((m,y)=>m.add(y.key),we());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Lr(),_=we();return c.os.getEntries(m,d).next(b=>{y=b,y.forEach((v,g)=>{g.isValidDocument()||(_=_.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(b=>{h=b;const v=[];for(const g of l){const w=NF(g,h.get(g.key).overlayedDocument);w!=null&&v.push(new Ai(g.key,w,kI(w.value.mapValue),Tn.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,v,l)}).next(b=>{f=b;const v=b.applyToLocalDocumentSet(h,_);return c.documentOverlayCache.saveOverlays(m,b.batchId,v)})}).then(()=>({batchId:f.batchId,changes:FI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Da[o.currentUser.toKey()];u||(u=new Ke(Re)),u=u.insert(l,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await dc(r,i.changes),await Jh(r.remoteStore)}catch(i){const s=Mv(i,"Failed to persist write");n.reject(s)}}async function bT(t,e){const n=pe(t);try{const r=await EV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Le(o.ma):i.removedDocuments.size>0&&(Le(o.ma),o.ma=!1))}),await dc(n,r,e)}catch(r){await oc(r)}}function Tb(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const l=o.view.U_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=pe(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Q_)f.U_(l)&&(u=!0)}),u&&Fv(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function s3(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Ke(Z.comparator);o=o.insert(s,Mt.newNoDocument(s,de.min()));const l=we().add(s),c=new Qh(de.min(),new Map,new Ke(Re),o,l);await bT(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),Vv(r)}else await ig(r.localStore,e,!1).then(()=>sg(r,e,n)).catch(oc)}async function o3(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await bV(n.localStore,e);xT(n,r,null),ET(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dc(n,i)}catch(i){await oc(i)}}async function a3(t,e,n){const r=pe(t);try{const i=await function(o,l){const c=pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Le(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);xT(r,e,n),ET(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dc(r,i)}catch(i){await oc(i)}}function ET(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function xT(t,e,n){const r=pe(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function sg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||ST(t,r)})}function ST(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(uT(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Vv(t))}function Rb(t,e,n){for(const r of n)r instanceof _T?(t.ba.addReference(r.key,e),l3(t,r)):r instanceof wT?(B("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||ST(t,r.key)):ce()}function l3(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(B("SyncEngine","New document in limbo: "+n),t.ya.add(r),Vv(t))}function Vv(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new Z(De.fromString(e)),r=t.va.next();t.Sa.set(r,new ZV(n)),t.wa=t.wa.insert(n,r),cT(t.remoteStore,new ni(dr(Cv(n.path)),r,"TargetPurposeLimboResolution",wv._e))}}async function dc(t,e,n){const r=pe(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=jv.Ki(c.targetId,u);s.push(d)}}))}),await Promise.all(o),r.fa.u_(i),await async function(c,u){const d=pe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>A.forEach(u,f=>A.forEach(f.qi,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>A.forEach(f.Qi,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!ac(h))throw h;B("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.ns.get(f),y=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(y);d.ns=d.ns.insert(f,_)}}}(r.localStore,s))}async function c3(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await sT(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(l=>{l.forEach(c=>{c.reject(new U(T.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dc(n,r.us)}}function u3(t,e){const n=pe(t),r=n.Sa.get(e);if(r&&r.ma)return we().add(r.key);{let i=we();const s=n.pa.get(e);if(!s)return i;for(const o of s){const l=n.ga.get(o);i=i.unionWith(l.view.la)}return i}}function d3(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s3.bind(null,e),e.fa.u_=QV.bind(null,e.eventManager),e.fa.xa=YV.bind(null,e.eventManager),e}function h3(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a3.bind(null,e),e}class kb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return wV(this.persistence,new vV,e.initialUser,this.serializer)}createPersistence(e){return new mV(Av.Hr,this.serializer)}createSharedClientState(e){return new TV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class f3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=c3.bind(null,this.syncEngine),await qV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KV}()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),r=function(s){return new PV(s)}(e.databaseInfo);return function(s,o,l,c){return new DV(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new LV(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Tb(this.syncEngine,n,0),function(){return Sb.D()?new Sb:new RV}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,d){const h=new e3(i,s,o,l,c,u);return d&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=pe(r);B("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await uc(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=II.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vp(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Nb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await g3(t);B("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Cb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Cb(e.remoteStore,i)),t._onlineComponents=e}function m3(t){return t.name==="FirebaseError"?t.code===T.FAILED_PRECONDITION||t.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function g3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!m3(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await vp(t,new kb)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await vp(t,new kb);return t._offlineComponents}async function IT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await Nb(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await Nb(t,new f3))),t._onlineComponents}function y3(t){return IT(t).then(e=>e.syncEngine)}async function TT(t){const e=await IT(t),n=e.eventManager;return n.onListen=t3.bind(null,e.syncEngine),n.onUnlisten=r3.bind(null,e.syncEngine),n}function v3(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const d=new CT({next:f=>{o.enqueueAndForget(()=>yT(s,h));const m=f.docs.has(l);!m&&f.fromCache?u.reject(new U(T.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?u.reject(new U(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new vT(Cv(l.path),d,{includeMetadataChanges:!0,Z_:!0});return gT(s,h)}(await TT(t),t.asyncQueue,e,n,r)),r.promise}function _3(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const d=new CT({next:f=>{o.enqueueAndForget(()=>yT(s,h)),f.fromCache&&c.source==="server"?u.reject(new U(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new vT(l,d,{includeMetadataChanges:!0,Z_:!0});return gT(s,h)}(await TT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t,e,n){if(!n)throw new U(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function w3(t,e,n,r){if(e===!0&&r===!0)throw new U(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ab(t){if(!Z.isDocumentKey(t))throw new U(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jb(t){if(Z.isDocumentKey(t))throw new U(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(t);throw new U(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function b3(t,e){if(e<=0)throw new U(T.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Db({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Db(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FM;switch(r.type){case"firstParty":return new BM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Pb.get(n);r&&(B("ComponentProvider","Removing Datastore"),Pb.delete(n),r.terminate())}(this),Promise.resolve()}}function E3(t,e,n,r={}){var i;const s=(t=Kn(t,ef))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Lt.MOCK_USER;else{l=wS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new U(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Lt(u)}t._authCredentials=new VM(new CI(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class Qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class pi extends ji{constructor(e,n,r){super(e,n,Cv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Z(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}function Ci(t,e,...n){if(t=Ge(t),kT("collection","path",e),t instanceof ef){const r=De.fromString(e,...n);return jb(r),new pi(t,null,r)}{if(!(t instanceof Qt||t instanceof pi))throw new U(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return jb(r),new pi(t.firestore,null,r)}}function hc(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=II.newId()),kT("doc","path",e),t instanceof ef){const r=De.fromString(e,...n);return Ab(r),new Qt(t,null,new Z(r))}{if(!(t instanceof Qt||t instanceof pi))throw new U(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return Ab(r),new Qt(t.firestore,t instanceof pi?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new aT(this,"async_queue_retry"),this._u=()=>{const n=yp();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=yp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new ur;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!ac(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw fr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=$v.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&ce()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class Ns extends ef{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new x3}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||NT(this),this._firestoreClient.terminate()}}function S3(t,e){const n=typeof t=="object"?t:jy(),r=typeof t=="string"?t:e||"(default)",i=bh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yS("firestore");s&&E3(i,...s)}return i}function Uv(t){return t._firestoreClient||NT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function NT(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,d){return new rF(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RT(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new p3(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(Bt.fromBase64String(e))}catch(n){throw new U(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jo(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=/^__.*__$/;class I3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new lc(e,this.data,n,this.fieldTransforms)}}class PT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class Hv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Fd(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(AT(this.du)&&C3.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class T3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yh(e)}Su(e,n,r,i=!1){return new Hv({du:e,methodName:n,wu:r,path:Ct.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fc(t){const e=t._freezeSettings(),n=Yh(t._databaseId);return new T3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jT(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);Wv("Data must be an object, but it was:",o,r);const l=OT(r,o);let c,u;if(s.merge)c=new fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=og(e,h,n);if(!o.contains(f))throw new U(T.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);$T(d,f)||d.push(f)}c=new fn(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new I3(new tn(l),c,u)}class nf extends zv{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}function R3(t,e,n,r){const i=t.Su(1,e,n);Wv("Data must be an object, but it was:",i,r);const s=[],o=tn.empty();Rs(r,(c,u)=>{const d=qv(e,c,n);u=Ge(u);const h=i.fu(d);if(u instanceof nf)s.push(d);else{const f=pc(u,h);f!=null&&(s.push(d),o.set(d,f))}});const l=new fn(s);return new PT(o,l,i.fieldTransforms)}function k3(t,e,n,r,i,s){const o=t.Su(1,e,n),l=[og(e,r,n)],c=[i];if(s.length%2!=0)throw new U(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)l.push(og(e,s[f])),c.push(s[f+1]);const u=[],d=tn.empty();for(let f=l.length-1;f>=0;--f)if(!$T(u,l[f])){const m=l[f];let y=c[f];y=Ge(y);const _=o.fu(m);if(y instanceof nf)u.push(m);else{const b=pc(y,_);b!=null&&(u.push(m),d.set(m,b))}}const h=new fn(u);return new PT(d,h,o.fieldTransforms)}function DT(t,e,n,r=!1){return pc(n,t.Su(r?4:3,e))}function pc(t,e){if(LT(t=Ge(t)))return Wv("Unsupported field value:",e,t),OT(t,e);if(t instanceof zv)return function(r,i){if(!AT(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=pc(l,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ce.fromDate(r);return{timestampValue:$d(i.serializer,s)}}if(r instanceof Ce){const s=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$d(i.serializer,s)}}if(r instanceof Bv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jo)return{bytesValue:JI(i.serializer,r._byteString)};if(r instanceof Qt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Nv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Zh(r)}`)}(t,e)}function OT(t,e){const n={};return TI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(t,(r,i)=>{const s=pc(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof Bv||t instanceof jo||t instanceof Qt||t instanceof zv)}function Wv(t,e,n){if(!LT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function og(t,e,n){if((e=Ge(e))instanceof tf)return e._internalPath;if(typeof e=="string")return qv(t,e);throw Fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const N3=new RegExp("[~\\*/\\[\\]]");function qv(t,e,n){if(e.search(N3)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tf(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new U(T.INVALID_ARGUMENT,l+t+c)}function $T(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P3 extends Gv{data(){return super.data()}}function Kv(t,e){return typeof e=="string"?qv(t,e):e instanceof tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qv{}class Yv extends Qv{}function Vd(t,e,...n){let r=[];e instanceof Qv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Xv).length,l=s.filter(c=>c instanceof rf).length;if(o>1||o>0&&l>0)throw new U(T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rf extends Yv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rf(e,n,r)}_apply(e){const n=this._parse(e);return FT(e._query,n),new ji(e.firestore,e.converter,Zm(e._query,n))}_parse(e){const n=fc(e.firestore);return function(s,o,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new U(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){$b(h,d);const m=[];for(const y of h)m.push(Lb(c,s,y));f={arrayValue:{values:m}}}else f=Lb(c,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||$b(h,d),f=DT(l,o,h,d==="in"||d==="not-in");return st.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function MT(t,e,n){const r=e,i=Kv("where",t);return rf._create(i,r,n)}class Xv extends Qv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)FT(o,c),o=Zm(o,c)}(e._query,n),new ji(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jv extends Yv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Jv(e,n,r)}_apply(e){return new ji(e.firestore,e.converter,Dd(e._query,this._limit,this._limitType))}}function Ob(t){return b3("limit",t),Jv._create("limit",t,"F")}class Zv extends Yv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Zv(e,n,r)}_apply(e){const n=D3(e,this.type,this._docOrFields,this._inclusive);return new ji(e.firestore,e.converter,function(i,s){return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function j3(...t){return Zv._create("startAfter",t,!1)}function D3(t,e,n,r){if(n[0]=Ge(n[0]),n[0]instanceof Gv)return function(s,o,l,c,u){if(!c)throw new U(T.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const h of mo(s))if(h.field.isKeyField())d.push(Ad(o,c.key));else{const f=c.data.field(h.field);if(Hh(f))throw new U(T.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=h.field.canonicalString();throw new U(T.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(f)}return new No(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=fc(t.firestore);return function(o,l,c,u,d,h){const f=o.explicitOrderBy;if(d.length>f.length)throw new U(T.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<d.length;y++){const _=d[y];if(f[y].field.isKeyField()){if(typeof _!="string")throw new U(T.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof _}`);if(!Iv(o)&&_.indexOf("/")!==-1)throw new U(T.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${_}' contains a slash.`);const b=o.path.child(De.fromString(_));if(!Z.isDocumentKey(b))throw new U(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const v=new Z(b);m.push(Ad(l,v))}else{const b=DT(c,u,_);m.push(b)}}return new No(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Lb(t,e,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new U(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iv(e)&&n.indexOf("/")!==-1)throw new U(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!Z.isDocumentKey(r))throw new U(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ad(t,new Z(r))}if(n instanceof Qt)return Ad(t,n._key);throw new U(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function $b(t,e){if(!Array.isArray(t)||t.length===0)throw new U(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FT(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(T.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(T.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O3{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Rs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Bv(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=xi(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);Le(iT(r));const i=new Nl(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||fr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UT extends Gv{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tu extends UT{data(e={}){return super.data(e)}}class L3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ka(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tu(this._firestore,this._userDataWriter,r.key,r,new ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Tu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ka(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Tu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ka(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:$3(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t){t=Kn(t,Qt);const e=Kn(t.firestore,Ns);return v3(Uv(e),t._key).then(n=>z3(e,t,n))}class zT extends O3{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function mc(t){t=Kn(t,ji);const e=Kn(t.firestore,Ns),n=Uv(e),r=new zT(e);return A3(t._query),_3(n,t._query).then(i=>new L3(e,r,t,i))}function F3(t,e,n){t=Kn(t,Qt);const r=Kn(t.firestore,Ns),i=VT(t.converter,e,n);return sf(r,[jT(fc(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Tn.none())])}function V3(t,e,n,...r){t=Kn(t,Qt);const i=Kn(t.firestore,Ns),s=fc(i);let o;return o=typeof(e=Ge(e))=="string"||e instanceof tf?k3(s,"updateDoc",t._key,e,n,r):R3(s,"updateDoc",t._key,e),sf(i,[o.toMutation(t._key,Tn.exists(!0))])}function U3(t){return sf(Kn(t.firestore,Ns),[new Tv(t._key,Tn.none())])}function BT(t,e){const n=Kn(t.firestore,Ns),r=hc(t),i=VT(t.converter,e);return sf(n,[jT(fc(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tn.exists(!1))]).then(()=>r)}function sf(t,e){return function(r,i){const s=new ur;return r.asyncQueue.enqueueAndForget(async()=>i3(await y3(r),i,s)),s.promise}(Uv(t),e)}function z3(t,e,n){const r=n.docs.get(e._key),i=new zT(t);return new UT(t,i,e._key,r,new ka(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ko=i})(Is),hs(new bi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ns(new UM(r.getProvider("auth-internal")),new WM(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new U(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ar(tb,"4.4.2",e),ar(tb,"4.4.2","esm2017")})();const B3={apiKey:"AIzaSyCYLJeEfFs7lQUJbczLFP87sLr7oDGK73Y",authDomain:"acguatuso-sys.firebaseapp.com",projectId:"acguatuso-sys",storageBucket:"acguatuso-sys.appspot.com",messagingSenderId:"148217571881",appId:"1:148217571881:web:5b959afe3352b16dae0a38"},e_=SS(B3),Nn=S3(e_),t_=y4(e_),Jo=k$(e_),H3={notification:null,emailVerified:!1,loggedIn:!1,user:null,error:null},HT=Ss({name:"auth",initialState:H3,reducers:{loginSuccess:(t,e)=>{t.loggedIn=!0,t.user=e.payload,t.emailVerified=!0,t.error=null},loginFailure:(t,e)=>{t.loggedIn=!1,t.user=null,t.error=e.payload},signupSuccess:(t,e)=>{t.notification=e.payload.msg,t.emailVerified=e.payload.emailVerified,t.error=null},signupFailure:(t,e)=>{t.error=e.payload,t.notification=null,t.emailVerified=!1},logOut:t=>{t.loggedIn=!1,t.user=null},editInfo:(t,e)=>{t.user=e.payload}}}),{loginSuccess:W3,loginFailure:Mb,signupSuccess:q3,signupFailure:Ud,logOut:G3,editInfo:K3}=HT.actions,Q3=HT.reducer,Y3=(t,e)=>async n=>{try{if(!(await nL(t_,t,e)).user.emailVerified)throw new Error("Por favor, verifica tu dirección de correo electrónico antes de iniciar sesión.");const i=await WT(t);i!==null&&(i.user_type==0?n(Mb("No tienes permiso para iniciar sesión.")):(console.log(i.user_type),n(W3(i))))}catch(r){const i=r.message.replace("Firebase: ","");n(Mb(i))}},WT=async t=>{const e=Ci(Nn,"Usuarios");try{const n=Vd(e,MT("correo","==",t)),i=(await mc(n)).docs[0];if(i){const s=i.data(),o=s.fechaNacimiento instanceof Ce?s.fechaNacimiento.toDate().toDateString():s.fechaNacimiento.toString();return{nombre:s.nombre,correo:s.correo,cedula:s.cedula,telefono:s.telefono,provincia:s.provincia,canton:s.canton,distrito:s.distrito,direccion:s.direccion,fechaNacimiento:o,genero:s.genero,user_type:s.user_type,estado:s.estado}}else return console.log("No se encontró el documento del usuario"),null}catch(n){return console.error("Error al obtener el documento del usuario: ",n),null}},X3=t=>async e=>{try{const n=await tL(t_,t.correo,t.password);await J3(t),await rL(n.user),e(q3({msg:"Cuenta creada con éxito!",emailVerified:n.user.emailVerified}))}catch(n){n.message==="Firebase: Error (auth/email-already-in-use)."?e(Ud("El correo electrónico ya se encuentra en uso, inténte con otro porfavor.")):e(Ud("El correo electrónico está en un formato no permitido, revíselo porfavor."))}},J3=async t=>{const e={nombre:t.nombre,correo:t.correo,cedula:t.cedula,telefono:t.telefono,provincia:t.provincia,canton:t.canton,distrito:t.distrito,direccion:t.direccion,fechaNacimiento:Ce.fromDate(new Date(t.fechaNacimiento)),genero:t.genero,user_type:0,estado:1},n=Ci(Nn,"Usuarios");try{await BT(n,e)}catch{}},Z3=(t,e,n)=>async r=>{const i=Ci(Nn,"Usuarios");try{const s=Vd(i,MT("correo","==",e)),o=await mc(s);if(!o.empty){const l=o.docs[0],c=hc(Nn,"Usuarios",l.id);await F3(c,t);const u=await WT(e);n||r(K3(u))}}catch{}},eU=async t=>{try{await eL(t_,t),alert("Se ha enviado un correo electrónico para restablecer tu contraseña.")}catch{}},tU={dataEmpresa:null},qT=Ss({name:"empresa",initialState:tU,reducers:{setEmpresaData(t,e){t.dataEmpresa=e.payload}}}),nU=()=>async t=>{try{const e=await Ci(Nn,"Empresa"),s=(await mc(e)).docs[0].data();if(s){const o={correo:s.correo,facebookUrl:s.redes[0].red_url,titulo_footer:s.titulo_principal,subtitulo_footer:s.subtitulo_principal,direccionCorta:s.direccion_corta,telefonos:[s.telefonos[0],s.telefonos[1]],horarios:[s.horarios[0],s.horarios[1],s.horarios[2],s.horarios[3],s.horarios[4],s.horarios[5],s.horarios[6]]};t(GT(o))}}catch(e){console.error("Error al obtener los datos de la empresa:",e)}},rU=t=>t.empresa.dataEmpresa,{setEmpresaData:GT}=qT.actions,iU=qT.reducer,gc=async t=>{try{const e=hc(Nn,t);return(await M3(e)).data()}catch(e){console.log(e)}},gr=async t=>(await mc(Ci(Nn,t))).docs.map(r=>({...r.data(),id:r.id})),Zo=async(t,e,n=null)=>{let r;n?r=Vd(Ci(Nn,t),Ob(e),j3(n)):r=Vd(Ci(Nn,t),Ob(e));const i=await mc(r),s=i.docs.map(l=>({...l.data(),id:l.id})),o=i.docs[i.docs.length-1];return{dataList:s,newLastVisible:o}},Ru=xs("about/fetchMainSection",async()=>{const t=await gc("/Empresa/ZktZQqsBnqVVoL4dfRHv");return{image_principal_url:t.image_principal_url,subtitulo_principal:t.subtitulo_principal,titulo_principal:t.titulo_principal,download_url_principal:t.download_url_principal}}),ku=xs("about/fetchSections",async()=>await gr("/Empresa/ZktZQqsBnqVVoL4dfRHv/secciones")),sU={head:{image_principal_url:"",subtitulo_principal:"",titulo_principal:"",download_url_principal:""},sections:[],loading:!1,error:void 0},KT=Ss({name:"about",initialState:sU,reducers:{mainSection(t,e){t.head=e.payload},adsSections(t,e){t.sections=e.payload},addSection(t,e){t.sections=[...t.sections,e.payload]},editSection(t,e){const n=t.sections.map(r=>r.id==e.payload.id?e.payload:r);t.sections=n},deleteSection(t,e){const n=t.sections.filter(r=>r.id!=e.payload.id);t.sections=n}},extraReducers:t=>{t.addCase(Ru.pending,e=>{e.loading=!0}),t.addCase(Ru.fulfilled,(e,n)=>{e.loading=!1,e.head=n.payload}),t.addCase(Ru.rejected,(e,n)=>{e.loading=!1,e.head={},e.error=n.error.message}),t.addCase(ku.pending,e=>{e.loading=!0}),t.addCase(ku.fulfilled,(e,n)=>{e.loading=!1,e.sections=n.payload}),t.addCase(ku.rejected,(e,n)=>{e.loading=!1,e.sections=[],e.error=n.error.message})}}),QT=t=>t.about,{mainSection:oU,adsSections:Ez,addSection:aU,editSection:lU,deleteSection:cU}=KT.actions,uU=KT.reducer,dU={datosPais:null,loading:!1,error:null},zd=Ss({name:"paisInfo",initialState:dU,reducers:{fetchDataStart(t){t.loading=!0,t.error=null},fetchDataSuccess(t,e){t.loading=!1,t.datosPais=e.payload},fetchDataFailure(t,e){t.loading=!1,t.error=e.payload}}});zd.actions;const hU=zd.reducer,fU=async()=>{const e=await(await fetch("https://gist.githubusercontent.com/josuenoel/80daca657b71bc1cfd95a4e27d547abe/raw")).json();localStorage.setItem("data-paises",JSON.stringify(e))},pU=()=>JSON.parse(localStorage.getItem("data-paises")),YT=()=>async t=>{try{await fU();const e=await pU(),n={};Object.values(e.provincias).forEach(r=>{const i={};Object.values(r.cantones).forEach(s=>{i[s.nombre]=s}),n[r.nombre]={...r,cantones:i}}),t(zd.actions.fetchDataSuccess(n))}catch(e){console.error("Ocurrió un error al obtener el JSON:",e),t(zd.actions.fetchDataFailure(e.message||"Ha ocurrido un error"))}};function ag(t){return Object.keys(t)}function Nu(t,e){if(!e||!e[t]||!e[t].cantones)return[];const n=e[t];return Object.keys(n.cantones)}function Pu(t){return Object.values(t)}const mU={loading:!1,cursos:[],numSolicitantes:{},error:void 0},ts=xs("users/fetchCursos",async()=>{const e=await gr("Cursos"),n={};return e.forEach(s=>{s.id&&(n[s.id]=s.postulados.length)}),{cursos:e.filter(s=>s.fechaCreacion!==void 0).sort((s,o)=>o.fechaCreacion.toMillis()-s.fechaCreacion.toMillis()),numSolicitantes:n}});function lg(t){switch(t){case 0:return"Presencial";case 1:return"Virtual";case 2:return"Mixta";default:return"No Definida"}}const XT=Ss({name:"cursos",initialState:mU,extraReducers:t=>{t.addCase(ts.pending,e=>{e.loading=!0}),t.addCase(ts.fulfilled,(e,n)=>{e.loading=!1,e.cursos=n.payload.cursos,e.numSolicitantes=n.payload.numSolicitantes}),t.addCase(ts.rejected,(e,n)=>{e.loading=!1,e.cursos=[],e.error=n.error.message})},reducers:{addCurso:(t,e)=>{t.cursos.unshift(e.payload),t.numSolicitantes[e.payload.id]=0},editCurso(t,e){const n=t.cursos.map(r=>r.id===e.payload.id?{...e.payload,fechaCreacion:r.fechaCreacion}:r);t.cursos=n},deleteCurso(t,e){const n=t.cursos.filter(r=>(console.log(r.id,e.payload.id,"deletecurso"),r.id!=e.payload.id));t.cursos=n},changeCursoEstado:(t,e)=>{const n=e.payload,r=t.cursos.find(i=>i.id===n);r&&(r.estado=r.estado===0?1:0)},changeCursoVisible:(t,e)=>{const{cursoId:n,visible:r}=e.payload,i=t.cursos.find(s=>s.id===n);i&&(i.visible=r)}}}),{addCurso:gU,deleteCurso:yU,editCurso:vU,changeCursoEstado:_U,changeCursoVisible:Fb}=XT.actions,wU=XT.reducer,Au=xs("ads/fetchMainAds",async()=>await gc("/Avisos/1x9cYIlY1FaQcw9jZhf6")),ju=xs("ads/fetchAds",async()=>await gr("/Avisos/1x9cYIlY1FaQcw9jZhf6/Anuncios")),bU={loading:!1,error:void 0,adsList:[],main:{estado:1,titulo:"",subtitulo:"",image_url:"",download_url:""}},JT=Ss({name:"ads",initialState:bU,reducers:{mainAds(t,e){t.main=e.payload},ads(t,e){t.adsList=e.payload},addAds(t,e){t.adsList=[...t.adsList,e.payload]},editAds(t,e){const n=t.adsList.map(r=>r.id==e.payload.id?e.payload:r);t.adsList=n},deleteAds(t,e){const n=t.adsList.filter(r=>r.id!=e.payload.id);t.adsList=n}},extraReducers:t=>{t.addCase(Au.pending,e=>{e.loading=!0}),t.addCase(Au.fulfilled,(e,n)=>{e.loading=!1,e.main=n.payload}),t.addCase(Au.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message}),t.addCase(ju.pending,e=>{e.loading=!0}),t.addCase(ju.fulfilled,(e,n)=>{e.loading=!1,e.adsList=n.payload}),t.addCase(ju.rejected,(e,n)=>{e.loading=!1,e.adsList=[],e.error=n.error.message})}}),ZT=t=>t.avisos,{mainAds:EU,addAds:xU,deleteAds:SU,editAds:CU}=JT.actions,IU=JT.reducer,Du=xs("Service/fetchMainService",async()=>await gc("/Servicios/xsc94XcgZ4Agn9IisLop")),Ou=xs("Service/fetchService",async()=>await gr("/Servicios/xsc94XcgZ4Agn9IisLop/Lista_servicios")),TU={loading:!1,error:void 0,ServiceList:[],main:{estado:1,titulo:"",subtitulo:"",image_url:"",download_url:""}},eR=Ss({name:"Service",initialState:TU,reducers:{mainService(t,e){t.main=e.payload},Service(t,e){t.ServiceList=e.payload},addService(t,e){t.ServiceList=[...t.ServiceList,e.payload]},editService(t,e){const n=t.ServiceList.map(r=>r.id==e.payload.id?e.payload:r);t.ServiceList=n},deleteService(t,e){const n=t.ServiceList.filter(r=>r.id!=e.payload.id);t.ServiceList=n}},extraReducers:t=>{t.addCase(Du.pending,e=>{e.loading=!0}),t.addCase(Du.fulfilled,(e,n)=>{e.loading=!1,e.main=n.payload}),t.addCase(Du.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message}),t.addCase(Ou.pending,e=>{e.loading=!0}),t.addCase(Ou.fulfilled,(e,n)=>{e.loading=!1,e.ServiceList=n.payload}),t.addCase(Ou.rejected,(e,n)=>{e.loading=!1,e.ServiceList=[],e.error=n.error.message})}}),tR=t=>t.servicios,{mainService:RU,addService:kU,deleteService:NU,editService:PU}=eR.actions,AU=eR.reducer,Ps={key:"root",storage:hS},jU=Cs(Ps,Q3),DU=Cs(Ps,iU),OU=Cs(Ps,uU),LU=Cs(Ps,hU),$U=Cs(Ps,wU),MU=Cs(Ps,IU),FU=Cs(Ps,AU),nR=Sj({reducer:{auth:jU,empresa:DU,about:OU,paisInfo:LU,cursos:$U,avisos:MU,servicios:FU},middleware:t=>t({serializableCheck:{ignoredActions:[Sy,_h,Cy,Iy,Ty,Ry]}})}),VU=f2(nR);/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(this,arguments)}var ri;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ri||(ri={}));const Vb="popstate";function UU(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return cg("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bd(i)}return BU(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function n_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zU(){return Math.random().toString(36).substr(2,8)}function Ub(t,e){return{usr:t.state,key:t.key,idx:e}}function cg(t,e,n,r){return n===void 0&&(n=null),Dl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ea(e):e,{state:n,key:e&&e.key||r||zU()})}function Bd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ea(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ri.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Dl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=ri.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:l,location:_.location,delta:v})}function f(b,v){l=ri.Push;let g=cg(_.location,b,v);n&&n(g,b),u=d()+1;let w=Ub(g,u),E=_.createHref(g);try{o.pushState(w,"",E)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(E)}s&&c&&c({action:l,location:_.location,delta:1})}function m(b,v){l=ri.Replace;let g=cg(_.location,b,v);n&&n(g,b),u=d();let w=Ub(g,u),E=_.createHref(g);o.replaceState(w,"",E),s&&c&&c({action:l,location:_.location,delta:0})}function y(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof b=="string"?b:Bd(b);return Ye(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let _={get action(){return l},get location(){return t(i,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Vb,h),c=b,()=>{i.removeEventListener(Vb,h),c=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let v=y(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(b){return o.go(b)}};return _}var zb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zb||(zb={}));function HU(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ea(e):e,i=Do(r.pathname||"/",n);if(i==null)return null;let s=rR(t);WU(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=e6(s[l],n6(i));return o}function rR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ye(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=mi([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rR(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:JU(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of iR(s.path))i(s,o,c)}),e}function iR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=iR(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function WU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qU=/^:[\w-]+$/,GU=3,KU=2,QU=1,YU=10,XU=-2,Bb=t=>t==="*";function JU(t,e){let n=t.split("/"),r=n.length;return n.some(Bb)&&(r+=XU),e&&(r+=KU),n.filter(i=>!Bb(i)).reduce((i,s)=>i+(qU.test(s)?GU:s===""?QU:YU),r)}function ZU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function e6(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=ug({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(r,d.params);let h=l.route;s.push({params:r,pathname:mi([i,d.pathname]),pathnameBase:a6(mi([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=mi([i,d.pathnameBase]))}return s}function ug(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=t6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let _=l[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=l[h];return m&&!y?u[f]=void 0:u[f]=r6(y||"",f),u},{}),pathname:s,pathnameBase:o,pattern:t}}function t6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),n_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function n6(t){try{return decodeURI(t)}catch(e){return n_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function r6(t,e){try{return decodeURIComponent(t)}catch(n){return n_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Do(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function i6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ea(t):t;return{pathname:n?n.startsWith("/")?n:s6(n,e):e,search:l6(r),hash:c6(i)}}function s6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _p(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function o6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sR(t,e){let n=o6(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ea(t):(i=Dl({},t),Ye(!i.pathname||!i.pathname.includes("?"),_p("?","pathname","search",i)),Ye(!i.pathname||!i.pathname.includes("#"),_p("#","pathname","hash",i)),Ye(!i.search||!i.search.includes("#"),_p("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=i6(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const mi=t=>t.join("/").replace(/\/\/+/g,"/"),a6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function u6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aR=["post","put","patch","delete"];new Set(aR);const d6=["get",...aR];new Set(d6);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}const of=p.createContext(null),lR=p.createContext(null),Di=p.createContext(null),af=p.createContext(null),As=p.createContext({outlet:null,matches:[],isDataRoute:!1}),cR=p.createContext(null);function h6(t,e){let{relative:n}=e===void 0?{}:e;yc()||Ye(!1);let{basename:r,navigator:i}=p.useContext(Di),{hash:s,pathname:o,search:l}=lf(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:mi([r,o])),i.createHref({pathname:c,search:l,hash:s})}function yc(){return p.useContext(af)!=null}function vc(){return yc()||Ye(!1),p.useContext(af).location}function uR(t){p.useContext(Di).static||p.useLayoutEffect(t)}function bn(){let{isDataRoute:t}=p.useContext(As);return t?C6():f6()}function f6(){yc()||Ye(!1);let t=p.useContext(of),{basename:e,future:n,navigator:r}=p.useContext(Di),{matches:i}=p.useContext(As),{pathname:s}=vc(),o=JSON.stringify(sR(i,n.v7_relativeSplatPath)),l=p.useRef(!1);return uR(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=oR(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:mi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function lf(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Di),{matches:i}=p.useContext(As),{pathname:s}=vc(),o=JSON.stringify(sR(i,r.v7_relativeSplatPath));return p.useMemo(()=>oR(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function p6(t,e){return m6(t,e)}function m6(t,e,n,r){yc()||Ye(!1);let{navigator:i}=p.useContext(Di),{matches:s}=p.useContext(As),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=vc(),d;if(e){var h;let b=typeof e=="string"?ea(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Ye(!1),d=b}else d=u;let f=d.pathname||"/",m=c==="/"?f:f.slice(c.length)||"/",y=HU(t,{pathname:m}),_=w6(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:mi([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:mi([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&_?p.createElement(af.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ri.Pop}},_):_}function g6(){let t=S6(),e=u6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:i},n):null,null)}const y6=p.createElement(g6,null);class v6 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(As.Provider,{value:this.props.routeContext},p.createElement(cR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _6(t){let{routeContext:e,match:n,children:r}=t,i=p.useContext(of);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(As.Provider,{value:e},r)}function w6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));d>=0||Ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,y=!1,_=null,b=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,_=h.route.errorElement||y6,c&&(u<0&&f===0?(I6("route-fallback",!1),y=!0,b=null):u===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),g=()=>{let w;return m?w=_:y?w=b:h.route.Component?w=p.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,p.createElement(_6,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(v6,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var dR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dR||{}),Hd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hd||{});function b6(t){let e=p.useContext(of);return e||Ye(!1),e}function E6(t){let e=p.useContext(lR);return e||Ye(!1),e}function x6(t){let e=p.useContext(As);return e||Ye(!1),e}function hR(t){let e=x6(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function S6(){var t;let e=p.useContext(cR),n=E6(Hd.UseRouteError),r=hR(Hd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function C6(){let{router:t}=b6(dR.UseNavigateStable),e=hR(Hd.UseNavigateStable),n=p.useRef(!1);return uR(()=>{n.current=!0}),p.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ol({fromRouteId:e},s)))},[t,e])}const Hb={};function I6(t,e,n){!e&&!Hb[t]&&(Hb[t]=!0)}function Zt(t){Ye(!1)}function T6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ri.Pop,navigator:s,static:o=!1,future:l}=t;yc()&&Ye(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:s,static:o,future:Ol({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=ea(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:y="default"}=r,_=p.useMemo(()=>{let b=Do(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:y},navigationType:i}},[c,d,h,f,m,y,i]);return _==null?null:p.createElement(Di.Provider,{value:u},p.createElement(af.Provider,{children:n,value:_}))}function R6(t){let{children:e,location:n}=t;return p6(dg(e),n)}new Promise(()=>{});function dg(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,i)=>{if(!p.isValidElement(r))return;let s=[...e,i];if(r.type===p.Fragment){n.push.apply(n,dg(r.props.children,s));return}r.type!==Zt&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}function fR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function k6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function N6(t,e){return t.button===0&&(!e||e==="_self")&&!k6(t)}const P6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],A6=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],j6="6";try{window.__reactRouterVersion=j6}catch{}const D6=p.createContext({isTransitioning:!1}),O6="startTransition",Wb=Tp[O6];function L6(t){let{basename:e,children:n,future:r,window:i}=t,s=p.useRef();s.current==null&&(s.current=UU({window:i,v5Compat:!0}));let o=s.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&Wb?Wb(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.createElement(T6,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const $6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ns=p.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=fR(e,P6),{basename:m}=p.useContext(Di),y,_=!1;if(typeof u=="string"&&M6.test(u)&&(y=u,$6))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),x=Do(E.pathname,m);E.origin===w.origin&&x!=null?u=x+E.search+E.hash:_=!0}catch{}let b=h6(u,{relative:i}),v=V6(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,unstable_viewTransition:h});function g(w){r&&r(w),w.defaultPrevented||v(w)}return p.createElement("a",Wd({},f,{href:y||b,onClick:_||s?r:g,ref:n,target:c}))}),vr=p.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,unstable_viewTransition:u,children:d}=e,h=fR(e,A6),f=lf(c,{relative:h.relative}),m=vc(),y=p.useContext(lR),{navigator:_,basename:b}=p.useContext(Di),v=y!=null&&U6(f)&&u===!0,g=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,w=m.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(w=w.toLowerCase(),E=E?E.toLowerCase():null,g=g.toLowerCase()),E&&b&&(E=Do(E,b)||E);const x=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let S=w===g||!o&&w.startsWith(g)&&w.charAt(x)==="/",C=E!=null&&(E===g||!o&&E.startsWith(g)&&E.charAt(g.length)==="/"),I={isActive:S,isPending:C,isTransitioning:v},j=S?r:void 0,M;typeof s=="function"?M=s(I):M=[s,S?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let ee=typeof l=="function"?l(I):l;return p.createElement(ns,Wd({},h,{"aria-current":j,className:M,ref:n,style:ee,to:c,unstable_viewTransition:u}),typeof d=="function"?d(I):d)});var hg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hg||(hg={}));var qb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qb||(qb={}));function F6(t){let e=p.useContext(of);return e||Ye(!1),e}function V6(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=bn(),u=vc(),d=lf(t,{relative:o});return p.useCallback(h=>{if(N6(h,n)){h.preventDefault();let f=r!==void 0?r:Bd(u)===Bd(d);c(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[u,c,d,r,i,n,t,s,o,l])}function U6(t,e){e===void 0&&(e={});let n=p.useContext(D6);n==null&&Ye(!1);let{basename:r}=F6(hg.useViewTransitionState),i=lf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Do(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Do(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ug(i.pathname,o)!=null||ug(i.pathname,s)!=null}var pR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gb=ie.createContext&&ie.createContext(pR),z6=["attr","size","title"];function B6(t,e){if(t==null)return{};var n=H6(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}function Kb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kb(Object(n),!0).forEach(function(r){W6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W6(t,e,n){return e=q6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q6(t){var e=G6(t,"string");return typeof e=="symbol"?e:e+""}function G6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mR(t){return t&&t.map((e,n)=>ie.createElement(e.tag,Gd({key:n},e.attr),mR(e.child)))}function jn(t){return e=>ie.createElement(K6,qd({attr:Gd({},t.attr)},e),mR(t.child))}function K6(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=B6(t,z6),l=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),ie.createElement("svg",qd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:Gd(Gd({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&ie.createElement("title",null,s),t.children)};return Gb!==void 0?ie.createElement(Gb.Consumer,null,n=>e(n)):e(pR)}function Q6(t){return jn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-352 96c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H86.4C74 384 64 375.4 64 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2zM512 312c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function gR(t){return jn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function Y6(t){return jn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(t)}function yR(t){return jn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function vR(t){return jn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function X6(t){return jn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function _R(t){return jn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function J6(t){return jn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function wR(t){return jn({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Z6(t){return jn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const e5=({isOpen:t,onClose:e})=>{const[n,r]=p.useState(""),i=()=>{eU(n),e()};return a.jsx(a.Fragment,{children:t&&a.jsx("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:-1,role:"dialog",children:a.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Enviar Correo Electrónico para Cambiar Contraseña"}),a.jsx("button",{title:"Cerrar",type:"button",className:"btn-close",onClick:e})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"Correo Electrónico:"}),a.jsx("input",{id:"email",type:"email",className:"form-control",value:n,onChange:s=>r(s.target.value),required:!0})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-primary",onClick:i,children:"Enviar Correo"}),a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cerrar"})]})]})})})})},Qb=()=>{const t=bn(),[e,n]=p.useState(""),[r,i]=p.useState(""),[s,o]=p.useState(!1),[l,c]=p.useState(!1),u=gy(),d=Se(E=>E.auth.loggedIn),h=Se(E=>E.auth.user),f=Se(E=>E.auth.error),m=Se(E=>E.auth.emailVerified),y=E=>{E.preventDefault(),setTimeout(()=>{u(Y3(e,r))},1e3)},_=E=>{n(E.target.value)},b=E=>{i(E.target.value)},v=()=>{o(!s)},[g,w]=p.useState("");return p.useEffect(()=>{(async()=>{const E=Wo(Jo,"Empresa/Logo/logo");Xl(E).then(x=>{w(x)}).catch(x=>{console.error("Error descargando el logo:",x)})})()},[]),p.useEffect(()=>{if(d&&h&&m){const E=setTimeout(()=>{t("/home")},3e3);return()=>clearTimeout(E)}},[d,h,m,t]),a.jsx("div",{className:"container",children:a.jsx("div",{className:"row justify-content-center",children:a.jsx("div",{className:"col-md-6",children:a.jsxs("div",{className:"card shadow-lg",children:[f&&a.jsx("div",{className:"alert-popup",children:a.jsx("div",{className:"alert-message alert alert-danger",children:a.jsx("span",{children:f})})}),!h&&a.jsxs("form",{onSubmit:y,children:[a.jsxs("div",{children:[a.jsx("img",{src:g,alt:"logo",width:"200",height:"150"}),a.jsx("h3",{children:"¡Bienvenido!"}),a.jsx("h3",{children:"Inicio de Sesión"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"email",className:"form-label text-start text-muted",children:"Correo:"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:_,className:"form-control",placeholder:"Ej... correo@ejemplo.com"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"password",className:"form-label text-start text-muted",children:"Contraseña:"}),a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:s?"text":"password",id:"password",value:r,onChange:b,className:"form-control",placeholder:"Ej... contraseña123"}),a.jsxs("button",{className:"btn btn-outline-secondary",type:"button",onClick:v,children:[s?a.jsx(_R,{}):a.jsx(X6,{})," "]})]})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Iniciar Sesión"}),a.jsxs("div",{children:[a.jsx("br",{}),a.jsx("label",{children:"¿No tiene una cuenta?"}),a.jsx(ns,{to:"/crear-cuenta",children:"Crear Cuenta"})]}),a.jsxs("div",{children:[a.jsx("span",{children:"¿Olvidaste tu contraseña? "}),a.jsx("span",{className:"link-style",onClick:()=>c(!0),children:"Haz clic aquí"}),a.jsx(e5,{isOpen:l,onClose:()=>c(!1)})]})]}),h&&a.jsxs("div",{children:[a.jsxs("div",{children:[a.jsx("img",{src:g,alt:"logo",width:"200",height:"150"}),a.jsx("h3",{children:"¡Bienvenido!"})]}),a.jsx("label",{children:"¡Credenciales Correctas!"}),a.jsxs("label",{children:["¡Hola ",h.nombre,"!"]})]})]})})})})},Be=()=>gy(),js=Se,t5={nombre:"",correo:"",password:"",cedula:"",telefono:"",provincia:"",canton:"",distrito:"",direccion:"",fechaNacimiento:"",genero:""},bR=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[i,s]=p.useState([]),[o,l]=p.useState(""),c=Be(),u=Se(x=>x.auth.emailVerified),d=Se(x=>x.auth.notification),h=Se(x=>x.auth.error),f=Se(x=>x.paisInfo.datosPais),m=Se(x=>x.auth.loggedIn),y=Se(x=>x.auth.user),[_,b]=p.useState(t5);p.useEffect(()=>{if(c(YT()),f){const x=ag(f);e(x)}},[]);const v=x=>{const{name:S,value:C}=x.target;if(S==="provincia"){l(C);const I=Nu(C,f);r(I),s([]),b({..._,[S]:C})}else if(S==="canton"){b({..._,[S]:C,distrito:""});const I=Pu(f[o].cantones[C].distritos);s(I)}else b({..._,[S]:C})},g=p.useRef(null);p.useEffect(()=>{(async()=>{try{const S=Wo(Jo,"Empresa/Logo/logo"),C=await Xl(S);g.current&&(g.current.src=C)}catch(S){console.error("Error downloading logo:",S)}})()},[]);const w=x=>{if(x.preventDefault(),!Object.values(_).every(C=>C.trim()!=="")){c(Ud("Porfavor llene todos los campos."));return}c(X3(_))},E=()=>{c(Ud(""))};return a.jsxs("div",{children:[a.jsxs("div",{className:"container",children:[a.jsxs("div",{children:[a.jsx("img",{ref:g,alt:"logo",width:"200",height:"150"}),!y&&!m&&a.jsxs(a.Fragment,{children:[a.jsx("h2",{children:"Bienvenido!"}),a.jsx("h2",{children:"Crear Cuenta de Usuario "})]})]}),!u&&d&&a.jsx("div",{children:a.jsxs("p",{children:[d,", Debes confirmar tu correo electrónico! "]})}),!d&&a.jsx("div",{className:"card shadow-lg",children:a.jsxs("form",{onSubmit:w,className:"signup-form",children:[h&&a.jsx("div",{className:"alert-popup",children:a.jsx("div",{className:"alert-message alert alert-danger",children:a.jsx("span",{children:h})})}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"nombre",children:"Nombre Completo:"}),a.jsx("input",{type:"text",id:"nombre",name:"nombre",value:_.nombre,onChange:v,className:"form-control",placeholder:"Ej: Juan Pérez"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"fechaNacimiento",children:"Fecha de Nacimiento:"}),a.jsx("input",{type:"date",id:"fechaNacimiento",name:"fechaNacimiento",value:_.fechaNacimiento,onChange:v,className:"form-control"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"provincia",children:"Provincia:"}),a.jsxs("select",{id:"provincia",name:"provincia",value:_.provincia,onChange:v,className:"form-control",children:[a.jsx("option",{value:"",children:"Seleccione una provincia..."}),t.map((x,S)=>a.jsx("option",{value:x,children:x},S))]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"direccion",children:"Dirección Exacta:"}),a.jsx("input",{type:"text",id:"direccion",name:"direccion",value:_.direccion,onChange:v,className:"form-control",placeholder:"Ej: 123 Calle Principal, Barrio Los Ángeles",required:!0})]})]}),a.jsxs("div",{className:"col",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"correo",children:"Correo:"}),a.jsx("input",{type:"correo",id:"correo",name:"correo",value:_.correo,onChange:v,className:"form-control",placeholder:"Ej: correo@example.com"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"telefono",children:"Teléfono:"}),a.jsx("input",{type:"text",id:"telefono",name:"telefono",value:_.telefono,onChange:v,className:"form-control",placeholder:"Ej: 8888-8888",pattern:"\\d*",title:"Solo se permiten números."})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"canton",children:"Cantón:"}),a.jsxs("select",{id:"canton",name:"canton",value:_.canton,onChange:v,className:"form-control",children:[a.jsx("option",{value:"",children:"Seleccione un cantón..."}),n.map((x,S)=>a.jsx("option",{value:x,children:x},S))]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"genero",children:"Género:"}),a.jsxs("select",{id:"genero",name:"genero",value:_.genero,onChange:v,className:"form-control",children:[a.jsx("option",{value:"",children:"Seleccione un género..."}),a.jsx("option",{value:"M",children:"Masculino"}),a.jsx("option",{value:"F",children:"Femenino"}),a.jsx("option",{value:"O",children:"Otro"})]})]})]}),a.jsxs("div",{className:"col",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"password",children:"Contraseña:"}),a.jsx("input",{type:"password",id:"password",name:"password",value:_.password,onChange:v,className:"form-control",placeholder:"Ej: contraseña123"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"cedula",children:"Cédula:"}),a.jsx("input",{type:"text",id:"cedula",name:"cedula",value:_.cedula,onChange:v,className:"form-control",placeholder:"Ej: 123456789",pattern:"\\d*",title:"Solo se permiten números"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"distrito",children:"Distrito:"}),a.jsxs("select",{id:"distrito",name:"distrito",value:_.distrito,onChange:v,className:"form-control",children:[a.jsx("option",{value:"",children:"Seleccione un distrito..."}),i.map((x,S)=>a.jsx("option",{value:x,children:x},S))]})]})]})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Crear Cuenta"})]})})]}),a.jsx("br",{}),!y&&!m&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{children:"¿Ya tiene cuenta?"}),a.jsx(ns,{to:"/iniciar-sesion",children:"Iniciar Sesión"})]}),a.jsxs("div",{children:[a.jsx("label",{children:"¿Desea crear otra cuenta?"}),a.jsx(ns,{to:"/crear-cuenta",onClick:E,children:"Crear Cuenta"})]})]})]})};function n5(){const t=bn(),e=Se(r=>r.auth.user),n=Se(r=>r.auth.loggedIn);return p.useEffect(()=>{!n&&!e&&t("/")},[n,e,t]),a.jsxs(a.Fragment,{children:[a.jsx("h2",{children:"Gestión del Sistema de Matrícula"}),a.jsx("div",{children:a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx(ns,{to:"/matriculaAdmin",className:"card my-3 custom-card",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title",children:"Gestión de Matrícula"}),a.jsx("p",{className:"card-text text-secondary",children:"Administre las solicitudes de matrícula."}),a.jsx(Z6,{style:{fontSize:"48px",color:"#4dd46d"}})]})}),a.jsx(ns,{to:"/evaluacionEstudiantes",className:"card my-3 custom-card",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title",children:"Gestión de Aprobaciones"}),a.jsx("p",{className:"card-text text-secondary",children:"Apruebe o repruebe estudiantes en los cursos."}),a.jsx(J6,{style:{fontSize:"48px",color:"#4dd46d"}})]})})]}),a.jsx("div",{className:"col-md-6",children:a.jsx(ns,{to:"/gestionar-cursos",className:"card my-3 custom-card",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title",children:" Gestión de Cursos"}),a.jsx("p",{className:"card-text text-secondary",children:"Administre la oferta de cursos disponibles."}),a.jsx(Y6,{style:{fontSize:"48px",color:"#4dd46d"}})]})})})]})})]})}const cf=async(t,e)=>{try{const n=Ci(Nn,t),r=await BT(n,e);return console.log("Nuevo documento agregado con ID:",r.id),r}catch(n){console.error("Error al agregar el nuevo documento:",n)}},ut=async(t,e)=>{const n=hc(Nn,t);try{await V3(n,e),console.log("Doc updated")}catch(r){console.log(r)}},Pn=async(t,e)=>{const n=Wo(Jo,e);try{let r="";return await T$(n,t).then(i=>Xl(i.ref).then(s=>r=s)),console.log("Imagen subida",n.fullPath),r}catch(r){console.log(r)}},Nt=t=>{const e=new Date,n=`${e.getHours()}:${e.getMinutes()}`;return a.jsx(a.Fragment,{children:a.jsx("div",{className:"position-fixed bottom-0 end-0 p-3",style:{zIndex:11},children:a.jsxs("div",{id:t.id,className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-delay":"10000",children:[a.jsxs("div",{className:"toast-header",children:[a.jsx("img",{src:"../../assets/LogoUCAG.png",className:"rounded me-2",alt:"..."}),a.jsx("strong",{className:"me-auto",children:t.title}),a.jsx("small",{children:n}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})]}),a.jsx("div",{className:"toast-body",children:t.message})]})})})};function r_(t){return jn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}const Ll=({texto:t,mostrar:e,onClose:n,onConfirm:r,segundos:i})=>(p.useEffect(()=>{if(i){const s=setTimeout(()=>{n&&n()},i*1e3);return()=>clearTimeout(s)}},[i,n]),a.jsx("div",{className:`modal ${e?"show":""}`,style:{display:e?"block":"none"},children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Notificación"}),n&&a.jsx("button",{title:"btn-close",type:"button",className:"btn-close",onClick:n})," "]}),a.jsx("div",{className:"modal-body",children:a.jsx("p",{children:t})}),a.jsxs("div",{className:"modal-footer",children:[n&&a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Cancelar"})," ",r&&a.jsx("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Aceptar"})," "]})]})})})),Pt=t=>{const e=document.getElementById(t);new bootstrap.Toast(e).show()},Yb=t=>{const[e,n]=p.useState(""),[r,i]=p.useState(""),[s,o]=p.useState(-1),[l,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(""),[m,y]=p.useState([{dia:"",hora:""}]),[_,b]=p.useState(null),[v,g]=p.useState(!1),[w,E]=p.useState(!1),[x,S]=p.useState(!1),[C,I]=p.useState(!1),j=Be();p.useEffect(()=>{t.curso!==null&&(n(t.curso.nombre),i(t.curso.descripcion),o(t.curso.modalidad),c(t.curso.fecha_inicio instanceof Ce?t.curso.fecha_inicio.toDate():null),d(t.curso.fecha_finalizacion instanceof Ce?t.curso.fecha_finalizacion.toDate():null),f(t.curso.link_plataforma),y(t.curso.horario),S(!0),I(!0))},[t.curso]);const M=()=>{t.curso!==null&&(n(t.curso.nombre),i(t.curso.descripcion),o(t.curso.modalidad),c(t.curso.fecha_inicio instanceof Ce?t.curso.fecha_inicio.toDate():null),d(t.curso.fecha_finalizacion instanceof Ce?t.curso.fecha_finalizacion.toDate():null),f(t.curso.link_plataforma),y(t.curso.horario),S(!0),I(!0),b(null))},ee=R=>{o(parseInt(R.target.value))},fe=R=>{n(R.target.value)},ne=R=>{i(R.target.value)},J=R=>{f(R.target.value)},he=R=>{S(!1);const k=R.target.value;c(new Date(k))},ve=R=>{I(!1);const k=R.target.value;d(new Date(k))},_e=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],V=(R,k)=>{const D=m.map((P,Y)=>Y===R?{...P,dia:k.target.value}:P);y(D)},z=(R,k)=>{const D=m.map((P,Y)=>Y===R?{...P,hora:k.target.value}:P);y(D)},K=()=>{y([...m,{dia:"",hora:""}])},se=R=>{if(m.length!==1){const k=[...m];k.splice(R,1),y(k)}},N=()=>{n(""),i(""),o(-1),c(null),d(null),f(""),b(null),g(!1),y([{dia:"",hora:""}])},O=async()=>{let R;_!=null&&(R=await Pn(_,`/Cursos/${e}/image1`));let k={nombre:e,descripcion:r,modalidad:s,fecha_inicio:Ce.fromDate(l),fecha_finalizacion:Ce.fromDate(u),link_plataforma:h,horario:m,fechaCreacion:Ce.now(),image_url:`/Cursos/${e}/image1`,aprobados:[],reprobados:[],matriculados:[],postulados:[],estado:0,visible:0,download_url:R};console.log(k);const D=await cf("Cursos",k);console.log(D),k={...k,id:D.id},j(gU(k)),$(`#${t.id}`).modal("hide"),N(),setTimeout(()=>{Pt("toast-form-cursos-add")},1e3)},W=async()=>{var k;let R;if(_!=null?R=await Pn(_,`/Cursos/${e}/image1`):R=(k=t.curso)==null?void 0:k.download_url,t.curso!==null){let D={nombre:e,descripcion:r,modalidad:s,fecha_inicio:Ce.fromDate(l),fecha_finalizacion:Ce.fromDate(u),link_plataforma:h,horario:m,image_url:`/Cursos/${e}/image1`,estado:0,download_url:R};await ut(`/Cursos/${t.curso.id}`,D),D={...D,id:t.curso.id},j(vU(D)),$(`#${t.id}`).modal("hide"),b(null),g(!1),E(!1),setTimeout(()=>{Pt("toast-form-cursos-edit")},1e3)}},X=()=>{E(!1)},Q=()=>{if(g(!0),!(e===""||r===""||s===-1||l===null||u===null||t.id.startsWith("course-section-modal-add")&&_===void 0||(s===1||s===2)&&h===""||m.length>0&&(m[m.length-1].dia===""||m[m.length-1].hora===""))){switch(!0){case t.id.startsWith("course-section-modal-add"):O();break;case t.id.startsWith("course-section-modal-edit"):E(!0);break;default:console.error("ID de modal no reconocido:",t.id)}b(null)}};function te(R,k){var D;if(!k&&R)return R?R.toISOString().substring(0,10):void 0;if(R){const P=(D=R.toLocaleDateString())==null?void 0:D.split("/");if(P)return P[2]+"-"+Ae(P[1])+"-"+Ae(P[0])}}function Ae(R){return R.length<2?"0"+R:R}return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:t.styleButton,"data-bs-toggle":"modal","data-bs-target":`#${t.id}`,children:t.nombreButton}),a.jsx("div",{className:"modal fade",id:t.id,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header border-0",children:[a.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:t.titulo}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t.id.startsWith("course-section-modal-add")?N:M})]}),a.jsx("div",{className:"modal-body text-start",children:a.jsx("form",{id:"form-modal-cursos",children:a.jsxs("div",{className:"accordion",id:"accordionExample",children:[a.jsxs("div",{className:"accordion-item",children:[a.jsx("h2",{className:"accordion-header",id:"informacionHeading",children:a.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#informacionCollapse","aria-expanded":"true","aria-controls":"informacionCollapse",children:"Información"})}),a.jsx("div",{id:"informacionCollapse",className:"accordion-collapse collapse","aria-labelledby":"informacionHeading",children:a.jsxs("div",{className:"accordion-body",children:[a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col",children:[a.jsxs("label",{className:"form-label",htmlFor:"nombre",children:["Nombre ",a.jsx("span",{className:"required-indicator text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:`form-control ${v&&e===""?"is-invalid":""}`,id:"nombre",name:"nombre",value:e,onChange:fe,placeholder:"Nombre del curso",required:!0})]}),a.jsxs("div",{className:"col",children:[a.jsxs("label",{className:"form-label",htmlFor:"descripcion",children:["Descripción ",a.jsx("span",{className:"required-indicator text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:`form-control ${v&&r===""?"is-invalid":""}`,id:"descripcion",name:"descripcion",value:r,onChange:ne,placeholder:"Descripción del curso",required:!0})]}),a.jsxs("div",{className:"col",children:[a.jsxs("label",{className:"form-label",htmlFor:"modalidad",children:["Modalidad ",a.jsx("span",{className:"required-indicator text-danger",children:"*"})]}),a.jsxs("select",{id:"modalidad",className:`form-select ${v&&s===-1?"is-invalid":""}`,name:"modalidad",value:s,onChange:ee,required:!0,children:[a.jsx("option",{disabled:!0,value:-1,children:"Selecciona una modalidad"}),a.jsx("option",{value:0,children:"Presencial"}),a.jsx("option",{value:1,children:"Virtual"}),a.jsx("option",{value:2,children:"Mixta"})]})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col",children:[a.jsxs("label",{className:"form-label",htmlFor:"fechaInicio",children:["Fecha de Inicio ",a.jsx("span",{className:"required-indicator text-danger",children:"*"})]}),a.jsx("input",{type:"date",className:`form-control ${v&&l===null?"is-invalid":""}`,id:"fechaInicio",name:"fechaInicio",value:l?te(l,x):"",onChange:he,required:!0})]}),a.jsxs("div",{className:"col",children:[a.jsxs("label",{className:"form-label",htmlFor:"fechaFin",children:["Fecha de Fin ",a.jsx("span",{className:"required-indicator text-danger",children:"*"})]}),a.jsx("input",{type:"date",className:`form-control ${v&&u===null?"is-invalid":""}`,id:"fechaFin",name:"fechaFin",value:u?te(u,C):"",onChange:ve,required:!0})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col",children:[a.jsxs("label",{className:"form-label",htmlFor:"linkClase",children:["Link de Clase ",s===1||s===2?a.jsx("span",{className:" required-indicator text-danger",children:"*"}):null]}),a.jsx("input",{type:"url",className:`form-control ${v&&(s===1||s===2)&&h===""?"is-invalid":""}`,id:"linkClase",name:"linkClase",value:h,onChange:J,required:s===1||s===2})]}),a.jsxs("div",{className:"col",children:[a.jsxs("label",{className:"form-label",htmlFor:"imagen",children:["Imagen Ilustrativa  ",t.id.startsWith("course-section-modal-add")?a.jsx("span",{className:"required-indicator text-danger",children:"*"}):null," "]}),a.jsx("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",className:`form-control ${v&&t.id.startsWith("course-section-modal-add")&&_===null?"is-invalid":""}`,id:"imagen",name:"imagen",value:_?void 0:"",onChange:R=>b(R.target.files[0])})]})]})]})})]}),a.jsxs("div",{className:"accordion-item",children:[a.jsx("h2",{className:"accordion-header",id:"horariosHeading",children:a.jsxs("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#horariosCollapse","aria-expanded":"false","aria-controls":"horariosCollapse",children:["Horarios ",a.jsx("span",{className:"required-indicator text-danger",children:" *"})]})}),a.jsx("div",{id:"horariosCollapse",className:"accordion-collapse collapse","aria-labelledby":"horariosHeading",children:a.jsx("div",{className:"accordion-body",children:a.jsxs("div",{children:[m.map((R,k)=>a.jsxs("div",{className:"input-group mb-3 has-validation",children:[a.jsxs("select",{value:R.dia,className:`form-select input-group-text text-start ${v&&R.dia===""?"is-invalid":""}`,onChange:D=>V(k,D),children:[a.jsx("option",{value:"",children:"Seleccione un día"}),_e.map((D,P)=>a.jsx("option",{value:D,children:D},P))]}),a.jsx("input",{type:"text",className:`form-control ${v&&R.hora===""?"is-invalid":""}`,value:R.hora,onChange:D=>z(k,D)}),a.jsxs("button",{type:"button",className:"btn btn-danger",onClick:()=>se(k),children:[" ",a.jsx(r_,{})," "]})]},k)),a.jsx("div",{className:"text-end",children:a.jsx("button",{type:"button",className:"btn btn-primary",onClick:K,children:"Agregar Día"})})]})})})]})]})})}),a.jsxs("div",{className:"modal-footer border-0",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t.id.startsWith("course-section-modal-add")?N:M,children:"Cancelar"}),a.jsx("button",{type:"button",className:"btn btn-primary",onClick:Q,children:t.submitButton})]})]})})}),a.jsx(Ll,{texto:"¿Está seguro que desea guardar los cambios?",mostrar:w,onClose:X,onConfirm:W}),a.jsx(Nt,{id:"toast-form-cursos-add",message:"Curso agregado con éxito!",title:"Seccion de avisos"}),a.jsx(Nt,{id:"toast-form-cursos-edit",message:"Curso editado con éxito!",title:"Seccion de avisos"})]})},_c=async t=>{const e=hc(Nn,t);await U3(e),console.log("Se borra el documento")},ER=t=>a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:t.buttonStyle,"data-bs-toggle":"modal","data-bs-target":`#${t.id}`,children:t.buttonName}),a.jsx("div",{className:"modal fade",id:t.id,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:t.modalTitle}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:t.body}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:t.classSecondaryButton,"data-bs-dismiss":"modal",children:t.secondaryButtonText}),a.jsx("button",{type:"button",className:t.classPrimaryButton,"data-bs-dismiss":"modal",onClick:()=>t.functionButtonOption(),children:t.primaryButtonText})]})]})})})]}),uf=async t=>{try{const e=Wo(Jo,t);R$(e),console.log("Imagen borrada",t)}catch(e){console.log(e)}};function r5(t){const e=Be(),n=async()=>{await _c(`/Cursos/${t.id}`),await uf(t.image_url),e(yU(t)),setTimeout(()=>{Pt("delete-modal-curso")},1e3)};return a.jsxs(a.Fragment,{children:[a.jsx(ER,{id:`course-section-modal-delete-${t.id}`,buttonStyle:"btn btn-danger",modalTitle:"Notificación",buttonName:a.jsx(r_,{}),modalName:"Eliminar",body:"¿Está seguro que desea eliminar este curso?",secondaryButtonText:"Cancelar",primaryButtonText:"Aceptar",classSecondaryButton:"btn btn-secondary",classPrimaryButton:"btn btn-danger",functionButtonOption:()=>{n()}}),a.jsx(Nt,{id:"delete-modal-curso",message:"¡Curso eliminado con éxito!",title:"Seccion de avisos"})]})}var Ft=function(){return Ft=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ft.apply(this,arguments)};function Kd(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Fe="-ms-",Ga="-moz-",ke="-webkit-",xR="comm",df="rule",i_="decl",i5="@import",SR="@keyframes",s5="@layer",CR=Math.abs,s_=String.fromCharCode,fg=Object.assign;function o5(t,e){return mt(t,0)^45?(((e<<2^mt(t,0))<<2^mt(t,1))<<2^mt(t,2))<<2^mt(t,3):0}function IR(t){return t.trim()}function wr(t,e){return(t=e.exec(t))?t[0]:t}function ge(t,e,n){return t.replace(e,n)}function Lu(t,e,n){return t.indexOf(e,n)}function mt(t,e){return t.charCodeAt(e)|0}function Oo(t,e,n){return t.slice(e,n)}function Zn(t){return t.length}function TR(t){return t.length}function Na(t,e){return e.push(t),t}function a5(t,e){return t.map(e).join("")}function Xb(t,e){return t.filter(function(n){return!wr(n,e)})}var hf=1,Lo=1,RR=0,An=0,rt=0,ta="";function ff(t,e,n,r,i,s,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:hf,column:Lo,length:o,return:"",siblings:l}}function Hr(t,e){return fg(ff("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Fs(t){for(;t.root;)t=Hr(t.root,{children:[t]});Na(t,t.siblings)}function l5(){return rt}function c5(){return rt=An>0?mt(ta,--An):0,Lo--,rt===10&&(Lo=1,hf--),rt}function Bn(){return rt=An<RR?mt(ta,An++):0,Lo++,rt===10&&(Lo=1,hf++),rt}function rs(){return mt(ta,An)}function $u(){return An}function pf(t,e){return Oo(ta,t,e)}function pg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function u5(t){return hf=Lo=1,RR=Zn(ta=t),An=0,[]}function d5(t){return ta="",t}function wp(t){return IR(pf(An-1,mg(t===91?t+2:t===40?t+1:t)))}function h5(t){for(;(rt=rs())&&rt<33;)Bn();return pg(t)>2||pg(rt)>3?"":" "}function f5(t,e){for(;--e&&Bn()&&!(rt<48||rt>102||rt>57&&rt<65||rt>70&&rt<97););return pf(t,$u()+(e<6&&rs()==32&&Bn()==32))}function mg(t){for(;Bn();)switch(rt){case t:return An;case 34:case 39:t!==34&&t!==39&&mg(rt);break;case 40:t===41&&mg(t);break;case 92:Bn();break}return An}function p5(t,e){for(;Bn()&&t+rt!==57;)if(t+rt===84&&rs()===47)break;return"/*"+pf(e,An-1)+"*"+s_(t===47?t:Bn())}function m5(t){for(;!pg(rs());)Bn();return pf(t,An)}function g5(t){return d5(Mu("",null,null,null,[""],t=u5(t),0,[0],t))}function Mu(t,e,n,r,i,s,o,l,c){for(var u=0,d=0,h=o,f=0,m=0,y=0,_=1,b=1,v=1,g=0,w="",E=i,x=s,S=r,C=w;b;)switch(y=g,g=Bn()){case 40:if(y!=108&&mt(C,h-1)==58){Lu(C+=ge(wp(g),"&","&\f"),"&\f",CR(u?l[u-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:C+=wp(g);break;case 9:case 10:case 13:case 32:C+=h5(y);break;case 92:C+=f5($u()-1,7);continue;case 47:switch(rs()){case 42:case 47:Na(y5(p5(Bn(),$u()),e,n,c),c);break;default:C+="/"}break;case 123*_:l[u++]=Zn(C)*v;case 125*_:case 59:case 0:switch(g){case 0:case 125:b=0;case 59+d:v==-1&&(C=ge(C,/\f/g,"")),m>0&&Zn(C)-h&&Na(m>32?Zb(C+";",r,n,h-1,c):Zb(ge(C," ","")+";",r,n,h-2,c),c);break;case 59:C+=";";default:if(Na(S=Jb(C,e,n,u,d,i,l,w,E=[],x=[],h,s),s),g===123)if(d===0)Mu(C,e,S,S,E,s,h,l,x);else switch(f===99&&mt(C,3)===110?100:f){case 100:case 108:case 109:case 115:Mu(t,S,S,r&&Na(Jb(t,S,S,0,0,i,l,w,i,E=[],h,x),x),i,x,h,l,r?E:x);break;default:Mu(C,S,S,S,[""],x,0,l,x)}}u=d=m=0,_=v=1,w=C="",h=o;break;case 58:h=1+Zn(C),m=y;default:if(_<1){if(g==123)--_;else if(g==125&&_++==0&&c5()==125)continue}switch(C+=s_(g),g*_){case 38:v=d>0?1:(C+="\f",-1);break;case 44:l[u++]=(Zn(C)-1)*v,v=1;break;case 64:rs()===45&&(C+=wp(Bn())),f=rs(),d=h=Zn(w=C+=m5($u())),g++;break;case 45:y===45&&Zn(C)==2&&(_=0)}}return s}function Jb(t,e,n,r,i,s,o,l,c,u,d,h){for(var f=i-1,m=i===0?s:[""],y=TR(m),_=0,b=0,v=0;_<r;++_)for(var g=0,w=Oo(t,f+1,f=CR(b=o[_])),E=t;g<y;++g)(E=IR(b>0?m[g]+" "+w:ge(w,/&\f/g,m[g])))&&(c[v++]=E);return ff(t,e,n,i===0?df:l,c,u,d,h)}function y5(t,e,n,r){return ff(t,e,n,xR,s_(l5()),Oo(t,2,-2),0,r)}function Zb(t,e,n,r,i){return ff(t,e,n,i_,Oo(t,0,r),Oo(t,r+1,-1),r,i)}function kR(t,e,n){switch(o5(t,e)){case 5103:return ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+t+t;case 4789:return Ga+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+t+Ga+t+Fe+t+t;case 5936:switch(mt(t,e+11)){case 114:return ke+t+Fe+ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ke+t+Fe+ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ke+t+Fe+ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ke+t+Fe+t+t;case 6165:return ke+t+Fe+"flex-"+t+t;case 5187:return ke+t+ge(t,/(\w+).+(:[^]+)/,ke+"box-$1$2"+Fe+"flex-$1$2")+t;case 5443:return ke+t+Fe+"flex-item-"+ge(t,/flex-|-self/g,"")+(wr(t,/flex-|baseline/)?"":Fe+"grid-row-"+ge(t,/flex-|-self/g,""))+t;case 4675:return ke+t+Fe+"flex-line-pack"+ge(t,/align-content|flex-|-self/g,"")+t;case 5548:return ke+t+Fe+ge(t,"shrink","negative")+t;case 5292:return ke+t+Fe+ge(t,"basis","preferred-size")+t;case 6060:return ke+"box-"+ge(t,"-grow","")+ke+t+Fe+ge(t,"grow","positive")+t;case 4554:return ke+ge(t,/([^-])(transform)/g,"$1"+ke+"$2")+t;case 6187:return ge(ge(ge(t,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),t,"")+t;case 5495:case 3959:return ge(t,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return ge(ge(t,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+Fe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+t+t;case 4200:if(!wr(t,/flex-|baseline/))return Fe+"grid-column-align"+Oo(t,e)+t;break;case 2592:case 3360:return Fe+ge(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,wr(r.props,/grid-\w+-end/)})?~Lu(t+(n=n[e].value),"span",0)?t:Fe+ge(t,"-start","")+t+Fe+"grid-row-span:"+(~Lu(n,"span",0)?wr(n,/\d+/):+wr(n,/\d+/)-+wr(t,/\d+/))+";":Fe+ge(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return wr(r.props,/grid-\w+-start/)})?t:Fe+ge(ge(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ge(t,/(.+)-inline(.+)/,ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zn(t)-1-e>6)switch(mt(t,e+1)){case 109:if(mt(t,e+4)!==45)break;case 102:return ge(t,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+Ga+(mt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Lu(t,"stretch",0)?kR(ge(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ge(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,l,c,u){return Fe+i+":"+s+u+(o?Fe+i+"-span:"+(l?c:+c-+s)+u:"")+t});case 4949:if(mt(t,e+6)===121)return ge(t,":",":"+ke)+t;break;case 6444:switch(mt(t,mt(t,14)===45?18:11)){case 120:return ge(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ke+(mt(t,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+Fe+"$2box$3")+t;case 100:return ge(t,":",":"+Fe)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ge(t,"scroll-","scroll-snap-")+t}return t}function Qd(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function v5(t,e,n,r){switch(t.type){case s5:if(t.children.length)break;case i5:case i_:return t.return=t.return||t.value;case xR:return"";case SR:return t.return=t.value+"{"+Qd(t.children,r)+"}";case df:if(!Zn(t.value=t.props.join(",")))return""}return Zn(n=Qd(t.children,r))?t.return=t.value+"{"+n+"}":""}function _5(t){var e=TR(t);return function(n,r,i,s){for(var o="",l=0;l<e;l++)o+=t[l](n,r,i,s)||"";return o}}function w5(t){return function(e){e.root||(e=e.return)&&t(e)}}function b5(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case i_:t.return=kR(t.value,t.length,n);return;case SR:return Qd([Hr(t,{value:ge(t.value,"@","@"+ke)})],r);case df:if(t.length)return a5(n=t.props,function(i){switch(wr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Fs(Hr(t,{props:[ge(i,/:(read-\w+)/,":"+Ga+"$1")]})),Fs(Hr(t,{props:[i]})),fg(t,{props:Xb(n,r)});break;case"::placeholder":Fs(Hr(t,{props:[ge(i,/:(plac\w+)/,":"+ke+"input-$1")]})),Fs(Hr(t,{props:[ge(i,/:(plac\w+)/,":"+Ga+"$1")]})),Fs(Hr(t,{props:[ge(i,/:(plac\w+)/,Fe+"input-$1")]})),Fs(Hr(t,{props:[i]})),fg(t,{props:Xb(n,r)});break}return""})}}var E5={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ln={},$o=typeof process<"u"&&ln!==void 0&&(ln.REACT_APP_SC_ATTR||ln.SC_ATTR)||"data-styled",NR="active",PR="data-styled-version",mf="6.1.8",o_=`/*!sc*/
`,a_=typeof window<"u"&&"HTMLElement"in window,x5=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ln!==void 0&&ln.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ln.REACT_APP_SC_DISABLE_SPEEDY!==""?ln.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ln.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ln!==void 0&&ln.SC_DISABLE_SPEEDY!==void 0&&ln.SC_DISABLE_SPEEDY!==""&&ln.SC_DISABLE_SPEEDY!=="false"&&ln.SC_DISABLE_SPEEDY),gf=Object.freeze([]),Mo=Object.freeze({});function S5(t,e,n){return n===void 0&&(n=Mo),t.theme!==n.theme&&t.theme||e||n.theme}var AR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),C5=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,I5=/(^-|-$)/g;function e1(t){return t.replace(C5,"-").replace(I5,"")}var T5=/(a)(d)/gi,Jc=52,t1=function(t){return String.fromCharCode(t+(t>25?39:97))};function gg(t){var e,n="";for(e=Math.abs(t);e>Jc;e=e/Jc|0)n=t1(e%Jc)+n;return(t1(e%Jc)+n).replace(T5,"$1-$2")}var bp,jR=5381,ro=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},DR=function(t){return ro(jR,t)};function R5(t){return gg(DR(t)>>>0)}function k5(t){return t.displayName||t.name||"Component"}function Ep(t){return typeof t=="string"&&!0}var OR=typeof Symbol=="function"&&Symbol.for,LR=OR?Symbol.for("react.memo"):60115,N5=OR?Symbol.for("react.forward_ref"):60112,P5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},A5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$R={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},j5=((bp={})[N5]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bp[LR]=$R,bp);function n1(t){return("type"in(e=t)&&e.type.$$typeof)===LR?$R:"$$typeof"in t?j5[t.$$typeof]:P5;var e}var D5=Object.defineProperty,O5=Object.getOwnPropertyNames,r1=Object.getOwnPropertySymbols,L5=Object.getOwnPropertyDescriptor,$5=Object.getPrototypeOf,i1=Object.prototype;function MR(t,e,n){if(typeof e!="string"){if(i1){var r=$5(e);r&&r!==i1&&MR(t,r,n)}var i=O5(e);r1&&(i=i.concat(r1(e)));for(var s=n1(t),o=n1(e),l=0;l<i.length;++l){var c=i[l];if(!(c in A5||n&&n[c]||o&&c in o||s&&c in s)){var u=L5(e,c);try{D5(t,c,u)}catch{}}}}return t}function _s(t){return typeof t=="function"}function l_(t){return typeof t=="object"&&"styledComponentId"in t}function Qi(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function s1(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function $l(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function yg(t,e,n){if(n===void 0&&(n=!1),!n&&!$l(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=yg(t[r],e[r]);else if($l(e))for(var r in e)t[r]=yg(t[r],e[r]);return t}function c_(t,e){Object.defineProperty(t,"toString",{value:e})}function ws(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var M5=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ws(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),c=(o=0,n.length);o<c;o++)this.tag.insertRule(l,n[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(o_);return n},t}(),Fu=new Map,Yd=new Map,Vu=1,Zc=function(t){if(Fu.has(t))return Fu.get(t);for(;Yd.has(Vu);)Vu++;var e=Vu++;return Fu.set(t,e),Yd.set(e,t),e},F5=function(t,e){Vu=e+1,Fu.set(t,e),Yd.set(e,t)},V5="style[".concat($o,"][").concat(PR,'="').concat(mf,'"]'),U5=new RegExp("^".concat($o,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),z5=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},B5=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(o_),i=[],s=0,o=r.length;s<o;s++){var l=r[s].trim();if(l){var c=l.match(U5);if(c){var u=0|parseInt(c[1],10),d=c[2];u!==0&&(F5(d,u),z5(t,d,c[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(l)}}};function H5(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var FR=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(l){var c=Array.from(l.querySelectorAll("style[".concat($o,"]")));return c[c.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute($o,NR),r.setAttribute(PR,mf);var o=H5();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},W5=function(){function t(e){this.element=FR(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw ws(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),q5=function(){function t(e){this.element=FR(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),G5=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),o1=a_,K5={isServer:!a_,useCSSOMInjection:!x5},VR=function(){function t(e,n,r){e===void 0&&(e=Mo),n===void 0&&(n={});var i=this;this.options=Ft(Ft({},K5),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&a_&&o1&&(o1=!1,function(s){for(var o=document.querySelectorAll(V5),l=0,c=o.length;l<c;l++){var u=o[l];u&&u.getAttribute($o)!==NR&&(B5(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),c_(this,function(){return function(s){for(var o=s.getTag(),l=o.length,c="",u=function(h){var f=function(v){return Yd.get(v)}(h);if(f===void 0)return"continue";var m=s.names.get(f),y=o.getGroup(h);if(m===void 0||y.length===0)return"continue";var _="".concat($o,".g").concat(h,'[id="').concat(f,'"]'),b="";m!==void 0&&m.forEach(function(v){v.length>0&&(b+="".concat(v,","))}),c+="".concat(y).concat(_,'{content:"').concat(b,'"}').concat(o_)},d=0;d<l;d++)u(d);return c}(i)})}return t.registerId=function(e){return Zc(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Ft(Ft({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new G5(i):r?new W5(i):new q5(i)}(this.options),new M5(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Zc(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Zc(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Zc(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Q5=/&/g,Y5=/^\s*\/\/.*$/gm;function UR(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=UR(n.children,e)),n})}function X5(t){var e,n,r,i=t===void 0?Mo:t,s=i.options,o=s===void 0?Mo:s,l=i.plugins,c=l===void 0?gf:l,u=function(f,m,y){return y.startsWith(n)&&y.endsWith(n)&&y.replaceAll(n,"").length>0?".".concat(e):f},d=c.slice();d.push(function(f){f.type===df&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(Q5,n).replace(r,u))}),o.prefix&&d.push(b5),d.push(v5);var h=function(f,m,y,_){m===void 0&&(m=""),y===void 0&&(y=""),_===void 0&&(_="&"),e=_,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var b=f.replace(Y5,""),v=g5(y||m?"".concat(y," ").concat(m," { ").concat(b," }"):b);o.namespace&&(v=UR(v,o.namespace));var g=[];return Qd(v,_5(d.concat(w5(function(w){return g.push(w)})))),g};return h.hash=c.length?c.reduce(function(f,m){return m.name||ws(15),ro(f,m.name)},jR).toString():"",h}var J5=new VR,vg=X5(),zR=ie.createContext({shouldForwardProp:void 0,styleSheet:J5,stylis:vg});zR.Consumer;ie.createContext(void 0);function a1(){return p.useContext(zR)}var Z5=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=vg);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,c_(this,function(){throw ws(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=vg),this.name+e.hash},t}(),e9=function(t){return t>="A"&&t<="Z"};function l1(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;e9(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var BR=function(t){return t==null||t===!1||t===""},HR=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!BR(s)&&(Array.isArray(s)&&s.isCss||_s(s)?r.push("".concat(l1(i),":"),s,";"):$l(s)?r.push.apply(r,Kd(Kd(["".concat(i," {")],HR(s),!1),["}"],!1)):r.push("".concat(l1(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in E5||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function is(t,e,n,r){if(BR(t))return[];if(l_(t))return[".".concat(t.styledComponentId)];if(_s(t)){if(!_s(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return is(i,e,n,r)}var s;return t instanceof Z5?n?(t.inject(n,r),[t.getName(r)]):[t]:$l(t)?HR(t):Array.isArray(t)?Array.prototype.concat.apply(gf,t.map(function(o){return is(o,e,n,r)})):[t.toString()]}function t9(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(_s(n)&&!l_(n))return!1}return!0}var n9=DR(mf),r9=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&t9(e),this.componentId=n,this.baseHash=ro(n9,n),this.baseStyle=r,VR.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Qi(i,this.staticRulesId);else{var s=s1(is(this.rules,e,n,r)),o=gg(ro(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var l=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,l)}i=Qi(i,o),this.staticRulesId=o}else{for(var c=ro(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var h=this.rules[d];if(typeof h=="string")u+=h;else if(h){var f=s1(is(h,e,n,r));c=ro(c,f+d),u+=f}}if(u){var m=gg(c>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),i=Qi(i,m)}}return i},t}(),Xd=ie.createContext(void 0);Xd.Consumer;function i9(t){var e=ie.useContext(Xd),n=p.useMemo(function(){return function(r,i){if(!r)throw ws(14);if(_s(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw ws(8);return i?Ft(Ft({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?ie.createElement(Xd.Provider,{value:n},t.children):null}var xp={};function s9(t,e,n){var r=l_(t),i=t,s=!Ep(t),o=e.attrs,l=o===void 0?gf:o,c=e.componentId,u=c===void 0?function(E,x){var S=typeof E!="string"?"sc":e1(E);xp[S]=(xp[S]||0)+1;var C="".concat(S,"-").concat(R5(mf+S+xp[S]));return x?"".concat(x,"-").concat(C):C}(e.displayName,e.parentComponentId):c,d=e.displayName,h=d===void 0?function(E){return Ep(E)?"styled.".concat(E):"Styled(".concat(k5(E),")")}(t):d,f=e.displayName&&e.componentId?"".concat(e1(e.displayName),"-").concat(e.componentId):e.componentId||u,m=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,y=e.shouldForwardProp;if(r&&i.shouldForwardProp){var _=i.shouldForwardProp;if(e.shouldForwardProp){var b=e.shouldForwardProp;y=function(E,x){return _(E,x)&&b(E,x)}}else y=_}var v=new r9(n,f,r?i.componentStyle:void 0);function g(E,x){return function(S,C,I){var j=S.attrs,M=S.componentStyle,ee=S.defaultProps,fe=S.foldedComponentIds,ne=S.styledComponentId,J=S.target,he=ie.useContext(Xd),ve=a1(),_e=S.shouldForwardProp||ve.shouldForwardProp,V=S5(C,he,ee)||Mo,z=function(X,Q,te){for(var Ae,R=Ft(Ft({},Q),{className:void 0,theme:te}),k=0;k<X.length;k+=1){var D=_s(Ae=X[k])?Ae(R):Ae;for(var P in D)R[P]=P==="className"?Qi(R[P],D[P]):P==="style"?Ft(Ft({},R[P]),D[P]):D[P]}return Q.className&&(R.className=Qi(R.className,Q.className)),R}(j,C,V),K=z.as||J,se={};for(var N in z)z[N]===void 0||N[0]==="$"||N==="as"||N==="theme"&&z.theme===V||(N==="forwardedAs"?se.as=z.forwardedAs:_e&&!_e(N,K)||(se[N]=z[N]));var O=function(X,Q){var te=a1(),Ae=X.generateAndInjectStyles(Q,te.styleSheet,te.stylis);return Ae}(M,z),W=Qi(fe,ne);return O&&(W+=" "+O),z.className&&(W+=" "+z.className),se[Ep(K)&&!AR.has(K)?"class":"className"]=W,se.ref=I,p.createElement(K,se)}(w,E,x)}g.displayName=h;var w=ie.forwardRef(g);return w.attrs=m,w.componentStyle=v,w.displayName=h,w.shouldForwardProp=y,w.foldedComponentIds=r?Qi(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=f,w.target=r?i.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?function(x){for(var S=[],C=1;C<arguments.length;C++)S[C-1]=arguments[C];for(var I=0,j=S;I<j.length;I++)yg(x,j[I],!0);return x}({},i.defaultProps,E):E}}),c_(w,function(){return".".concat(w.styledComponentId)}),s&&MR(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function c1(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var u1=function(t){return Object.assign(t,{isCss:!0})};function dt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_s(t)||$l(t))return u1(is(c1(gf,Kd([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?is(r):u1(is(c1(r,e)))}function _g(t,e,n){if(n===void 0&&(n=Mo),!e)throw ws(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,dt.apply(void 0,Kd([i],s,!1)))};return r.attrs=function(i){return _g(t,e,Ft(Ft({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return _g(t,e,Ft(Ft({},n),i))},r}var WR=function(t){return _g(s9,t)},ye=WR;AR.forEach(function(t){ye[t]=WR(t)});var gi;function Fo(t,e){return t[e]}function o9(t=[],e,n=0){return[...t.slice(0,n),e,...t.slice(n)]}function a9(t=[],e,n="id"){const r=t.slice(),i=Fo(e,n);return i?r.splice(r.findIndex(s=>Fo(s,n)===i),1):r.splice(r.findIndex(s=>s===e),1),r}function d1(t){return t.map((e,n)=>{const r=Object.assign(Object.assign({},e),{sortable:e.sortable||!!e.sortFunction||void 0});return e.id||(r.id=n+1),r})}function Ka(t,e){return Math.ceil(t/e)}function Sp(t,e){return Math.min(t,e)}(function(t){t.ASC="asc",t.DESC="desc"})(gi||(gi={}));const at=()=>null;function qR(t,e=[],n=[]){let r={},i=[...n];return e.length&&e.forEach(s=>{if(!s.when||typeof s.when!="function")throw new Error('"when" must be defined in the conditional style object and must be function');s.when(t)&&(r=s.style||{},s.classNames&&(i=[...i,...s.classNames]),typeof s.style=="function"&&(r=s.style(t)||{}))}),{conditionalStyle:r,classNames:i.join(" ")}}function Uu(t,e=[],n="id"){const r=Fo(t,n);return r?e.some(i=>Fo(i,n)===r):e.some(i=>i===t)}function eu(t,e){return e?t.findIndex(n=>Qa(n.id,e)):-1}function Qa(t,e){return t==e}function l9(t,e){const n=!t.toggleOnSelectedRowsChange;switch(e.type){case"SELECT_ALL_ROWS":{const{keyField:r,rows:i,rowCount:s,mergeSelections:o}=e,l=!t.allSelected,c=!t.toggleOnSelectedRowsChange;if(o){const u=l?[...t.selectedRows,...i.filter(d=>!Uu(d,t.selectedRows,r))]:t.selectedRows.filter(d=>!Uu(d,i,r));return Object.assign(Object.assign({},t),{allSelected:l,selectedCount:u.length,selectedRows:u,toggleOnSelectedRowsChange:c})}return Object.assign(Object.assign({},t),{allSelected:l,selectedCount:l?s:0,selectedRows:l?i:[],toggleOnSelectedRowsChange:c})}case"SELECT_SINGLE_ROW":{const{keyField:r,row:i,isSelected:s,rowCount:o,singleSelect:l}=e;return l?s?Object.assign(Object.assign({},t),{selectedCount:0,allSelected:!1,selectedRows:[],toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:1,allSelected:!1,selectedRows:[i],toggleOnSelectedRowsChange:n}):s?Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length>0?t.selectedRows.length-1:0,allSelected:!1,selectedRows:a9(t.selectedRows,i,r),toggleOnSelectedRowsChange:n}):Object.assign(Object.assign({},t),{selectedCount:t.selectedRows.length+1,allSelected:t.selectedRows.length+1===o,selectedRows:o9(t.selectedRows,i),toggleOnSelectedRowsChange:n})}case"SELECT_MULTIPLE_ROWS":{const{keyField:r,selectedRows:i,totalRows:s,mergeSelections:o}=e;if(o){const l=[...t.selectedRows,...i.filter(c=>!Uu(c,t.selectedRows,r))];return Object.assign(Object.assign({},t),{selectedCount:l.length,allSelected:!1,selectedRows:l,toggleOnSelectedRowsChange:n})}return Object.assign(Object.assign({},t),{selectedCount:i.length,allSelected:i.length===s,selectedRows:i,toggleOnSelectedRowsChange:n})}case"CLEAR_SELECTED_ROWS":{const{selectedRowsFlag:r}=e;return Object.assign(Object.assign({},t),{allSelected:!1,selectedCount:0,selectedRows:[],selectedRowsFlag:r})}case"SORT_CHANGE":{const{sortDirection:r,selectedColumn:i,clearSelectedOnSort:s}=e;return Object.assign(Object.assign(Object.assign({},t),{selectedColumn:i,sortDirection:r,currentPage:1}),s&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_PAGE":{const{page:r,paginationServer:i,visibleOnly:s,persistSelectedOnPageChange:o}=e,l=i&&o,c=i&&!o||s;return Object.assign(Object.assign(Object.assign(Object.assign({},t),{currentPage:r}),l&&{allSelected:!1}),c&&{allSelected:!1,selectedCount:0,selectedRows:[],toggleOnSelectedRowsChange:n})}case"CHANGE_ROWS_PER_PAGE":{const{rowsPerPage:r,page:i}=e;return Object.assign(Object.assign({},t),{currentPage:i,rowsPerPage:r})}}}const c9=dt`
	pointer-events: none;
	opacity: 0.4;
`,u9=ye.div`
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	width: 100%;
	height: 100%;
	max-width: 100%;
	${({disabled:t})=>t&&c9};
	${({theme:t})=>t.table.style};
`,d9=dt`
	position: sticky;
	position: -webkit-sticky; /* Safari */
	top: 0;
	z-index: 1;
`,h9=ye.div`
	display: flex;
	width: 100%;
	${({$fixedHeader:t})=>t&&d9};
	${({theme:t})=>t.head.style};
`,f9=ye.div`
	display: flex;
	align-items: stretch;
	width: 100%;
	${({theme:t})=>t.headRow.style};
	${({$dense:t,theme:e})=>t&&e.headRow.denseStyle};
`,GR=(t,...e)=>dt`
		@media screen and (max-width: ${599}px) {
			${dt(t,...e)}
		}
	`,p9=(t,...e)=>dt`
		@media screen and (max-width: ${959}px) {
			${dt(t,...e)}
		}
	`,m9=(t,...e)=>dt`
		@media screen and (max-width: ${1280}px) {
			${dt(t,...e)}
		}
	`,g9=t=>(e,...n)=>dt`
			@media screen and (max-width: ${t}px) {
				${dt(e,...n)}
			}
		`,na=ye.div`
	position: relative;
	display: flex;
	align-items: center;
	box-sizing: border-box;
	line-height: normal;
	${({theme:t,$headCell:e})=>t[e?"headCells":"cells"].style};
	${({$noPadding:t})=>t&&"padding: 0"};
`,KR=ye(na)`
	flex-grow: ${({button:t,grow:e})=>e===0||t?0:e||1};
	flex-shrink: 0;
	flex-basis: 0;
	max-width: ${({maxWidth:t})=>t||"100%"};
	min-width: ${({minWidth:t})=>t||"100px"};
	${({width:t})=>t&&dt`
			min-width: ${t};
			max-width: ${t};
		`};
	${({right:t})=>t&&"justify-content: flex-end"};
	${({button:t,center:e})=>(e||t)&&"justify-content: center"};
	${({compact:t,button:e})=>(t||e)&&"padding: 0"};

	/* handle hiding cells */
	${({hide:t})=>t&&t==="sm"&&GR`
    display: none;
  `};
	${({hide:t})=>t&&t==="md"&&p9`
    display: none;
  `};
	${({hide:t})=>t&&t==="lg"&&m9`
    display: none;
  `};
	${({hide:t})=>t&&Number.isInteger(t)&&g9(t)`
    display: none;
  `};
`,y9=dt`
	div:first-child {
		white-space: ${({$wrapCell:t})=>t?"normal":"nowrap"};
		overflow: ${({$allowOverflow:t})=>t?"visible":"hidden"};
		text-overflow: ellipsis;
	}
`,v9=ye(KR).attrs(t=>({style:t.style}))`
	${({$renderAsCell:t})=>!t&&y9};
	${({theme:t,$isDragging:e})=>e&&t.cells.draggingStyle};
	${({$cellStyle:t})=>t};
`;var _9=p.memo(function({id:t,column:e,row:n,rowIndex:r,dataTag:i,isDragging:s,onDragStart:o,onDragOver:l,onDragEnd:c,onDragEnter:u,onDragLeave:d}){const{conditionalStyle:h,classNames:f}=qR(n,e.conditionalCellStyles,["rdt_TableCell"]);return p.createElement(v9,{id:t,"data-column-id":e.id,role:"cell",className:f,"data-tag":i,$cellStyle:e.style,$renderAsCell:!!e.cell,$allowOverflow:e.allowOverflow,button:e.button,center:e.center,compact:e.compact,grow:e.grow,hide:e.hide,maxWidth:e.maxWidth,minWidth:e.minWidth,right:e.right,width:e.width,$wrapCell:e.wrap,style:h,$isDragging:s,onDragStart:o,onDragOver:l,onDragEnd:c,onDragEnter:u,onDragLeave:d},!e.cell&&p.createElement("div",{"data-tag":i},function(m,y,_,b){return y?_&&typeof _=="function"?_(m,b):y(m,b):null}(n,e.selector,e.format,r)),e.cell&&e.cell(n,r,e,t))});const h1="input";var QR=p.memo(function({name:t,component:e=h1,componentOptions:n={style:{}},indeterminate:r=!1,checked:i=!1,disabled:s=!1,onClick:o=at}){const l=e,c=l!==h1?n.style:(d=>Object.assign(Object.assign({fontSize:"18px"},!d&&{cursor:"pointer"}),{padding:0,marginTop:"1px",verticalAlign:"middle",position:"relative"}))(s),u=p.useMemo(()=>function(d,...h){let f;return Object.keys(d).map(m=>d[m]).forEach((m,y)=>{typeof m=="function"&&(f=Object.assign(Object.assign({},d),{[Object.keys(d)[y]]:m(...h)}))}),f||d}(n,r),[n,r]);return p.createElement(l,Object.assign({type:"checkbox",ref:d=>{d&&(d.indeterminate=r)},style:c,onClick:s?at:o,name:t,"aria-label":t,checked:i,disabled:s},u,{onChange:at}))});const w9=ye(na)`
	flex: 0 0 48px;
	min-width: 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
`;function b9({name:t,keyField:e,row:n,rowCount:r,selected:i,selectableRowsComponent:s,selectableRowsComponentProps:o,selectableRowsSingle:l,selectableRowDisabled:c,onSelectedRow:u}){const d=!(!c||!c(n));return p.createElement(w9,{onClick:h=>h.stopPropagation(),className:"rdt_TableCell",$noPadding:!0},p.createElement(QR,{name:t,component:s,componentOptions:o,checked:i,"aria-checked":i,onClick:()=>{u({type:"SELECT_SINGLE_ROW",row:n,isSelected:i,keyField:e,rowCount:r,singleSelect:l})},disabled:d}))}const E9=ye.button`
	display: inline-flex;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	border: none;
	background-color: transparent;
	${({theme:t})=>t.expanderButton.style};
`;function x9({disabled:t=!1,expanded:e=!1,expandableIcon:n,id:r,row:i,onToggled:s}){const o=e?n.expanded:n.collapsed;return p.createElement(E9,{"aria-disabled":t,onClick:()=>s&&s(i),"data-testid":`expander-button-${r}`,disabled:t,"aria-label":e?"Collapse Row":"Expand Row",role:"button",type:"button"},o)}const S9=ye(na)`
	white-space: nowrap;
	font-weight: 400;
	min-width: 48px;
	${({theme:t})=>t.expanderCell.style};
`;function C9({row:t,expanded:e=!1,expandableIcon:n,id:r,onToggled:i,disabled:s=!1}){return p.createElement(S9,{onClick:o=>o.stopPropagation(),$noPadding:!0},p.createElement(x9,{id:r,row:t,expanded:e,expandableIcon:n,disabled:s,onToggled:i}))}const I9=ye.div`
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.expanderRow.style};
	${({$extendedRowStyle:t})=>t};
`;var T9=p.memo(function({data:t,ExpanderComponent:e,expanderComponentProps:n,extendedRowStyle:r,extendedClassNames:i}){const s=["rdt_ExpanderRow",...i.split(" ").filter(o=>o!=="rdt_TableRow")].join(" ");return p.createElement(I9,{className:s,$extendedRowStyle:r},p.createElement(e,Object.assign({data:t},n)))});const Cp="allowRowEvents";var Jd,wg,f1;(function(t){t.LTR="ltr",t.RTL="rtl",t.AUTO="auto"})(Jd||(Jd={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center"}(wg||(wg={})),function(t){t.SM="sm",t.MD="md",t.LG="lg"}(f1||(f1={}));const R9=dt`
	&:hover {
		${({$highlightOnHover:t,theme:e})=>t&&e.rows.highlightOnHoverStyle};
	}
`,k9=dt`
	&:hover {
		cursor: pointer;
	}
`,N9=ye.div.attrs(t=>({style:t.style}))`
	display: flex;
	align-items: stretch;
	align-content: stretch;
	width: 100%;
	box-sizing: border-box;
	${({theme:t})=>t.rows.style};
	${({$dense:t,theme:e})=>t&&e.rows.denseStyle};
	${({$striped:t,theme:e})=>t&&e.rows.stripedStyle};
	${({$highlightOnHover:t})=>t&&R9};
	${({$pointerOnHover:t})=>t&&k9};
	${({$selected:t,theme:e})=>t&&e.rows.selectedHighlightStyle};
	${({$conditionalStyle:t})=>t};
`;function P9({columns:t=[],conditionalRowStyles:e=[],defaultExpanded:n=!1,defaultExpanderDisabled:r=!1,dense:i=!1,expandableIcon:s,expandableRows:o=!1,expandableRowsComponent:l,expandableRowsComponentProps:c,expandableRowsHideExpander:u,expandOnRowClicked:d=!1,expandOnRowDoubleClicked:h=!1,highlightOnHover:f=!1,id:m,expandableInheritConditionalStyles:y,keyField:_,onRowClicked:b=at,onRowDoubleClicked:v=at,onRowMouseEnter:g=at,onRowMouseLeave:w=at,onRowExpandToggled:E=at,onSelectedRow:x=at,pointerOnHover:S=!1,row:C,rowCount:I,rowIndex:j,selectableRowDisabled:M=null,selectableRows:ee=!1,selectableRowsComponent:fe,selectableRowsComponentProps:ne,selectableRowsHighlight:J=!1,selectableRowsSingle:he=!1,selected:ve,striped:_e=!1,draggingColumnId:V,onDragStart:z,onDragOver:K,onDragEnd:se,onDragEnter:N,onDragLeave:O}){const[W,X]=p.useState(n);p.useEffect(()=>{X(n)},[n]);const Q=p.useCallback(()=>{X(!W),E(!W,C)},[W,E,C]),te=S||o&&(d||h),Ae=p.useCallback(me=>{me.target.getAttribute("data-tag")===Cp&&(b(C,me),!r&&o&&d&&Q())},[r,d,o,Q,b,C]),R=p.useCallback(me=>{me.target.getAttribute("data-tag")===Cp&&(v(C,me),!r&&o&&h&&Q())},[r,h,o,Q,v,C]),k=p.useCallback(me=>{g(C,me)},[g,C]),D=p.useCallback(me=>{w(C,me)},[w,C]),P=Fo(C,_),{conditionalStyle:Y,classNames:q}=qR(C,e,["rdt_TableRow"]),oe=J&&ve,je=y?Y:{},$e=_e&&j%2==0;return p.createElement(p.Fragment,null,p.createElement(N9,{id:`row-${m}`,role:"row",$striped:$e,$highlightOnHover:f,$pointerOnHover:!r&&te,$dense:i,onClick:Ae,onDoubleClick:R,onMouseEnter:k,onMouseLeave:D,className:q,$selected:oe,$conditionalStyle:Y},ee&&p.createElement(b9,{name:`select-row-${P}`,keyField:_,row:C,rowCount:I,selected:ve,selectableRowsComponent:fe,selectableRowsComponentProps:ne,selectableRowDisabled:M,selectableRowsSingle:he,onSelectedRow:x}),o&&!u&&p.createElement(C9,{id:P,expandableIcon:s,expanded:W,row:C,onToggled:Q,disabled:r}),t.map(me=>me.omit?null:p.createElement(_9,{id:`cell-${me.id}-${P}`,key:`cell-${me.id}-${P}`,dataTag:me.ignoreRowClick||me.button?null:Cp,column:me,row:C,rowIndex:j,isDragging:Qa(V,me.id),onDragStart:z,onDragOver:K,onDragEnd:se,onDragEnter:N,onDragLeave:O}))),o&&W&&p.createElement(T9,{key:`expander-${P}`,data:C,extendedRowStyle:je,extendedClassNames:q,ExpanderComponent:l,expanderComponentProps:c}))}const A9=ye.span`
	padding: 2px;
	color: inherit;
	flex-grow: 0;
	flex-shrink: 0;
	${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
	${({$sortDirection:t})=>t==="desc"&&"transform: rotate(180deg)"};
`,j9=({sortActive:t,sortDirection:e})=>ie.createElement(A9,{$sortActive:t,$sortDirection:e},"▲"),D9=ye(KR)`
	${({button:t})=>t&&"text-align: center"};
	${({theme:t,$isDragging:e})=>e&&t.headCells.draggingStyle};
`,O9=dt`
	cursor: pointer;
	span.__rdt_custom_sort_icon__ {
		i,
		svg {
			transform: 'translate3d(0, 0, 0)';
			${({$sortActive:t})=>t?"opacity: 1":"opacity: 0"};
			color: inherit;
			font-size: 18px;
			height: 18px;
			width: 18px;
			backface-visibility: hidden;
			transform-style: preserve-3d;
			transition-duration: 95ms;
			transition-property: transform;
		}

		&.asc i,
		&.asc svg {
			transform: rotate(180deg);
		}
	}

	${({$sortActive:t})=>!t&&dt`
			&:hover,
			&:focus {
				opacity: 0.7;

				span,
				span.__rdt_custom_sort_icon__ * {
					opacity: 0.7;
				}
			}
		`};
`,L9=ye.div`
	display: inline-flex;
	align-items: center;
	justify-content: inherit;
	height: 100%;
	width: 100%;
	outline: none;
	user-select: none;
	overflow: hidden;
	${({disabled:t})=>!t&&O9};
`,$9=ye.div`
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
`;var M9=p.memo(function({column:t,disabled:e,draggingColumnId:n,selectedColumn:r={},sortDirection:i,sortIcon:s,sortServer:o,pagination:l,paginationServer:c,persistSelectedOnSort:u,selectableRowsVisibleOnly:d,onSort:h,onDragStart:f,onDragOver:m,onDragEnd:y,onDragEnter:_,onDragLeave:b}){p.useEffect(()=>{typeof t.selector=="string"&&console.error(`Warning: ${t.selector} is a string based column selector which has been deprecated as of v7 and will be removed in v8. Instead, use a selector function e.g. row => row[field]...`)},[]);const[v,g]=p.useState(!1),w=p.useRef(null);if(p.useEffect(()=>{w.current&&g(w.current.scrollWidth>w.current.clientWidth)},[v]),t.omit)return null;const E=()=>{if(!t.sortable&&!t.selector)return;let ne=i;Qa(r.id,t.id)&&(ne=i===gi.ASC?gi.DESC:gi.ASC),h({type:"SORT_CHANGE",sortDirection:ne,selectedColumn:t,clearSelectedOnSort:l&&c&&!u||o||d})},x=ne=>p.createElement(j9,{sortActive:ne,sortDirection:i}),S=()=>p.createElement("span",{className:[i,"__rdt_custom_sort_icon__"].join(" ")},s),C=!(!t.sortable||!Qa(r.id,t.id)),I=!t.sortable||e,j=t.sortable&&!s&&!t.right,M=t.sortable&&!s&&t.right,ee=t.sortable&&s&&!t.right,fe=t.sortable&&s&&t.right;return p.createElement(D9,{"data-column-id":t.id,className:"rdt_TableCol",$headCell:!0,allowOverflow:t.allowOverflow,button:t.button,compact:t.compact,grow:t.grow,hide:t.hide,maxWidth:t.maxWidth,minWidth:t.minWidth,right:t.right,center:t.center,width:t.width,draggable:t.reorder,$isDragging:Qa(t.id,n),onDragStart:f,onDragOver:m,onDragEnd:y,onDragEnter:_,onDragLeave:b},t.name&&p.createElement(L9,{"data-column-id":t.id,"data-sort-id":t.id,role:"columnheader",tabIndex:0,className:"rdt_TableCol_Sortable",onClick:I?void 0:E,onKeyPress:I?void 0:ne=>{ne.key==="Enter"&&E()},$sortActive:!I&&C,disabled:I},!I&&fe&&S(),!I&&M&&x(C),typeof t.name=="string"?p.createElement($9,{title:v?t.name:void 0,ref:w,"data-column-id":t.id},t.name):t.name,!I&&ee&&S(),!I&&j&&x(C)))});const F9=ye(na)`
	flex: 0 0 48px;
	justify-content: center;
	align-items: center;
	user-select: none;
	white-space: nowrap;
	font-size: unset;
`;function V9({headCell:t=!0,rowData:e,keyField:n,allSelected:r,mergeSelections:i,selectedRows:s,selectableRowsComponent:o,selectableRowsComponentProps:l,selectableRowDisabled:c,onSelectAllRows:u}){const d=s.length>0&&!r,h=c?e.filter(y=>!c(y)):e,f=h.length===0,m=Math.min(e.length,h.length);return p.createElement(F9,{className:"rdt_TableCol",$headCell:t,$noPadding:!0},p.createElement(QR,{name:"select-all-rows",component:o,componentOptions:l,onClick:()=>{u({type:"SELECT_ALL_ROWS",rows:h,rowCount:m,mergeSelections:i,keyField:n})},checked:r,indeterminate:d,disabled:f}))}function YR(t=Jd.AUTO){const e=typeof window=="object",[n,r]=p.useState(!1);return p.useEffect(()=>{if(e)if(t!=="auto")r(t==="rtl");else{const i=!(!window.document||!window.document.createElement),s=document.getElementsByTagName("BODY")[0],o=document.getElementsByTagName("HTML")[0],l=s.dir==="rtl"||o.dir==="rtl";r(i&&l)}},[t,e]),n}const U9=ye.div`
	display: flex;
	align-items: center;
	flex: 1 0 auto;
	height: 100%;
	color: ${({theme:t})=>t.contextMenu.fontColor};
	font-size: ${({theme:t})=>t.contextMenu.fontSize};
	font-weight: 400;
`,z9=ye.div`
	display: flex;
	align-items: center;
	justify-content: flex-end;
	flex-wrap: wrap;
`,p1=ye.div`
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	box-sizing: inherit;
	z-index: 1;
	align-items: center;
	justify-content: space-between;
	display: flex;
	${({$rtl:t})=>t&&"direction: rtl"};
	${({theme:t})=>t.contextMenu.style};
	${({theme:t,$visible:e})=>e&&t.contextMenu.activeStyle};
`;function B9({contextMessage:t,contextActions:e,contextComponent:n,selectedCount:r,direction:i}){const s=YR(i),o=r>0;return n?p.createElement(p1,{$visible:o},p.cloneElement(n,{selectedCount:r})):p.createElement(p1,{$visible:o,$rtl:s},p.createElement(U9,null,((l,c,u)=>{if(c===0)return null;const d=c===1?l.singular:l.plural;return u?`${c} ${l.message||""} ${d}`:`${c} ${d} ${l.message||""}`})(t,r,s)),p.createElement(z9,null,e))}const H9=ye.div`
	position: relative;
	box-sizing: border-box;
	overflow: hidden;
	display: flex;
	flex: 1 1 auto;
	align-items: center;
	justify-content: space-between;
	width: 100%;
	flex-wrap: wrap;
	${({theme:t})=>t.header.style}
`,W9=ye.div`
	flex: 1 0 auto;
	color: ${({theme:t})=>t.header.fontColor};
	font-size: ${({theme:t})=>t.header.fontSize};
	font-weight: 400;
`,q9=ye.div`
	flex: 1 0 auto;
	display: flex;
	align-items: center;
	justify-content: flex-end;

	> * {
		margin-left: 5px;
	}
`,G9=({title:t,actions:e=null,contextMessage:n,contextActions:r,contextComponent:i,selectedCount:s,direction:o,showMenu:l=!0})=>p.createElement(H9,{className:"rdt_TableHeader",role:"heading","aria-level":1},p.createElement(W9,null,t),e&&p.createElement(q9,null,e),l&&p.createElement(B9,{contextMessage:n,contextActions:r,contextComponent:i,direction:o,selectedCount:s}));function XR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const K9={left:"flex-start",right:"flex-end",center:"center"},Q9=ye.header`
	position: relative;
	display: flex;
	flex: 1 1 auto;
	box-sizing: border-box;
	align-items: center;
	padding: 4px 16px 4px 24px;
	width: 100%;
	justify-content: ${({align:t})=>K9[t]};
	flex-wrap: ${({$wrapContent:t})=>t?"wrap":"nowrap"};
	${({theme:t})=>t.subHeader.style}
`,Y9=t=>{var{align:e="right",wrapContent:n=!0}=t,r=XR(t,["align","wrapContent"]);return p.createElement(Q9,Object.assign({align:e,$wrapContent:n},r))},X9=ye.div`
	display: flex;
	flex-direction: column;
`,J9=ye.div`
	position: relative;
	width: 100%;
	border-radius: inherit;
	${({$responsive:t,$fixedHeader:e})=>t&&dt`
			overflow-x: auto;

			// hidden prevents vertical scrolling in firefox when fixedHeader is disabled
			overflow-y: ${e?"auto":"hidden"};
			min-height: 0;
		`};

	${({$fixedHeader:t=!1,$fixedHeaderScrollHeight:e="100vh"})=>t&&dt`
			max-height: ${e};
			-webkit-overflow-scrolling: touch;
		`};

	${({theme:t})=>t.responsiveWrapper.style};
`,m1=ye.div`
	position: relative;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${t=>t.theme.progress.style};
`,Z9=ye.div`
	position: relative;
	width: 100%;
	${({theme:t})=>t.tableWrapper.style};
`,e8=ye(na)`
	white-space: nowrap;
	${({theme:t})=>t.expanderCell.style};
`,t8=ye.div`
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	${({theme:t})=>t.noData.style};
`,n8=()=>ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},ie.createElement("path",{d:"M7 10l5 5 5-5z"}),ie.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),r8=ye.select`
	cursor: pointer;
	height: 24px;
	max-width: 100%;
	user-select: none;
	padding-left: 8px;
	padding-right: 24px;
	box-sizing: content-box;
	font-size: inherit;
	color: inherit;
	border: none;
	background-color: transparent;
	appearance: none;
	direction: ltr;
	flex-shrink: 0;

	&::-ms-expand {
		display: none;
	}

	&:disabled::-ms-expand {
		background: #f60;
	}

	option {
		color: initial;
	}
`,i8=ye.div`
	position: relative;
	flex-shrink: 0;
	font-size: inherit;
	color: inherit;
	margin-top: 1px;

	svg {
		top: 0;
		right: 0;
		color: inherit;
		position: absolute;
		fill: currentColor;
		width: 24px;
		height: 24px;
		display: inline-block;
		user-select: none;
		pointer-events: none;
	}
`,s8=t=>{var{defaultValue:e,onChange:n}=t,r=XR(t,["defaultValue","onChange"]);return p.createElement(i8,null,p.createElement(r8,Object.assign({onChange:n,defaultValue:e},r)),p.createElement(n8,null))},F={columns:[],data:[],title:"",keyField:"id",selectableRows:!1,selectableRowsHighlight:!1,selectableRowsNoSelectAll:!1,selectableRowSelected:null,selectableRowDisabled:null,selectableRowsComponent:"input",selectableRowsComponentProps:{},selectableRowsVisibleOnly:!1,selectableRowsSingle:!1,clearSelectedRows:!1,expandableRows:!1,expandableRowDisabled:null,expandableRowExpanded:null,expandOnRowClicked:!1,expandableRowsHideExpander:!1,expandOnRowDoubleClicked:!1,expandableInheritConditionalStyles:!1,expandableRowsComponent:function(){return ie.createElement("div",null,"To add an expander pass in a component instance via ",ie.createElement("strong",null,"expandableRowsComponent"),". You can then access props.data from this component.")},expandableIcon:{collapsed:ie.createElement(()=>ie.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},ie.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),ie.createElement("path",{d:"M0-.25h24v24H0z",fill:"none"})),null),expanded:ie.createElement(()=>ie.createElement("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},ie.createElement("path",{d:"M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"}),ie.createElement("path",{d:"M0-.75h24v24H0z",fill:"none"})),null)},expandableRowsComponentProps:{},progressPending:!1,progressComponent:ie.createElement("div",{style:{fontSize:"24px",fontWeight:700,padding:"24px"}},"Loading..."),persistTableHead:!1,sortIcon:null,sortFunction:null,sortServer:!1,striped:!1,highlightOnHover:!1,pointerOnHover:!1,noContextMenu:!1,contextMessage:{singular:"item",plural:"items",message:"selected"},actions:null,contextActions:null,contextComponent:null,defaultSortFieldId:null,defaultSortAsc:!0,responsive:!0,noDataComponent:ie.createElement("div",{style:{padding:"24px"}},"There are no records to display"),disabled:!1,noTableHead:!1,noHeader:!1,subHeader:!1,subHeaderAlign:wg.RIGHT,subHeaderWrap:!0,subHeaderComponent:null,fixedHeader:!1,fixedHeaderScrollHeight:"100vh",pagination:!1,paginationServer:!1,paginationServerOptions:{persistSelectedOnSort:!1,persistSelectedOnPageChange:!1},paginationDefaultPage:1,paginationResetDefaultPage:!1,paginationTotalRows:0,paginationPerPage:10,paginationRowsPerPageOptions:[10,15,20,25,30],paginationComponent:null,paginationComponentOptions:{},paginationIconFirstPage:ie.createElement(()=>ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},ie.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),ie.createElement("path",{fill:"none",d:"M24 24H0V0h24v24z"})),null),paginationIconLastPage:ie.createElement(()=>ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},ie.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),ie.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),null),paginationIconNext:ie.createElement(()=>ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},ie.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),ie.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),paginationIconPrevious:ie.createElement(()=>ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation"},ie.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),ie.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),null),dense:!1,conditionalRowStyles:[],theme:"default",customStyles:{},direction:Jd.AUTO,onChangePage:at,onChangeRowsPerPage:at,onRowClicked:at,onRowDoubleClicked:at,onRowMouseEnter:at,onRowMouseLeave:at,onRowExpandToggled:at,onSelectedRowsChange:at,onSort:at,onColumnOrderChange:at},o8={rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",noRowsPerPage:!1,selectAllRowsItem:!1,selectAllRowsItemText:"All"},a8=ye.nav`
	display: flex;
	flex: 1 1 auto;
	justify-content: flex-end;
	align-items: center;
	box-sizing: border-box;
	padding-right: 8px;
	padding-left: 8px;
	width: 100%;
	${({theme:t})=>t.pagination.style};
`,tu=ye.button`
	position: relative;
	display: block;
	user-select: none;
	border: none;
	${({theme:t})=>t.pagination.pageButtonsStyle};
	${({$isRTL:t})=>t&&"transform: scale(-1, -1)"};
`,l8=ye.div`
	display: flex;
	align-items: center;
	border-radius: 4px;
	white-space: nowrap;
	${GR`
    width: 100%;
    justify-content: space-around;
  `};
`,JR=ye.span`
	flex-shrink: 1;
	user-select: none;
`,c8=ye(JR)`
	margin: 0 24px;
`,u8=ye(JR)`
	margin: 0 4px;
`;var d8=p.memo(function({rowsPerPage:t,rowCount:e,currentPage:n,direction:r=F.direction,paginationRowsPerPageOptions:i=F.paginationRowsPerPageOptions,paginationIconLastPage:s=F.paginationIconLastPage,paginationIconFirstPage:o=F.paginationIconFirstPage,paginationIconNext:l=F.paginationIconNext,paginationIconPrevious:c=F.paginationIconPrevious,paginationComponentOptions:u=F.paginationComponentOptions,onChangeRowsPerPage:d=F.onChangeRowsPerPage,onChangePage:h=F.onChangePage}){const f=(()=>{const ne=typeof window=="object";function J(){return{width:ne?window.innerWidth:void 0,height:ne?window.innerHeight:void 0}}const[he,ve]=p.useState(J);return p.useEffect(()=>{if(!ne)return()=>null;function _e(){ve(J())}return window.addEventListener("resize",_e),()=>window.removeEventListener("resize",_e)},[]),he})(),m=YR(r),y=f.width&&f.width>599,_=Ka(e,t),b=n*t,v=b-t+1,g=n===1,w=n===_,E=Object.assign(Object.assign({},o8),u),x=n===_?`${v}-${e} ${E.rangeSeparatorText} ${e}`:`${v}-${b} ${E.rangeSeparatorText} ${e}`,S=p.useCallback(()=>h(n-1),[n,h]),C=p.useCallback(()=>h(n+1),[n,h]),I=p.useCallback(()=>h(1),[h]),j=p.useCallback(()=>h(Ka(e,t)),[h,e,t]),M=p.useCallback(ne=>d(Number(ne.target.value),n),[n,d]),ee=i.map(ne=>p.createElement("option",{key:ne,value:ne},ne));E.selectAllRowsItem&&ee.push(p.createElement("option",{key:-1,value:e},E.selectAllRowsItemText));const fe=p.createElement(s8,{onChange:M,defaultValue:t,"aria-label":E.rowsPerPageText},ee);return p.createElement(a8,{className:"rdt_Pagination"},!E.noRowsPerPage&&y&&p.createElement(p.Fragment,null,p.createElement(u8,null,E.rowsPerPageText),fe),y&&p.createElement(c8,null,x),p.createElement(l8,null,p.createElement(tu,{id:"pagination-first-page",type:"button","aria-label":"First Page","aria-disabled":g,onClick:I,disabled:g,$isRTL:m},o),p.createElement(tu,{id:"pagination-previous-page",type:"button","aria-label":"Previous Page","aria-disabled":g,onClick:S,disabled:g,$isRTL:m},c),!E.noRowsPerPage&&!y&&fe,p.createElement(tu,{id:"pagination-next-page",type:"button","aria-label":"Next Page","aria-disabled":w,onClick:C,disabled:w,$isRTL:m},l),p.createElement(tu,{id:"pagination-last-page",type:"button","aria-label":"Last Page","aria-disabled":w,onClick:j,disabled:w,$isRTL:m},s)))});const Vi=(t,e)=>{const n=p.useRef(!0);p.useEffect(()=>{n.current?n.current=!1:t()},e)};function h8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f8=function(t){return function(e){return!!e&&typeof e=="object"}(t)&&!function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===p8}(e)}(t)},p8=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Ml(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Vo((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function m8(t,e,n){return t.concat(e).map(function(r){return Ml(r,n)})}function g1(t){return Object.keys(t).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return Object.propertyIsEnumerable.call(e,n)}):[]}(t))}function y1(t,e){try{return e in t}catch{return!1}}function g8(t,e,n){var r={};return n.isMergeableObject(t)&&g1(t).forEach(function(i){r[i]=Ml(t[i],n)}),g1(e).forEach(function(i){(function(s,o){return y1(s,o)&&!(Object.hasOwnProperty.call(s,o)&&Object.propertyIsEnumerable.call(s,o))})(t,i)||(y1(t,i)&&n.isMergeableObject(e[i])?r[i]=function(s,o){if(!o.customMerge)return Vo;var l=o.customMerge(s);return typeof l=="function"?l:Vo}(i,n)(t[i],e[i],n):r[i]=Ml(e[i],n))}),r}function Vo(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||m8,n.isMergeableObject=n.isMergeableObject||f8,n.cloneUnlessOtherwiseSpecified=Ml;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):g8(t,e,n):Ml(e,n)}Vo.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return Vo(n,r,e)},{})};var y8=h8(Vo);const v1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#FFFFFF"},context:{background:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},divider:{default:"rgba(0,0,0,.12)"},button:{default:"rgba(0,0,0,.54)",focus:"rgba(0,0,0,.12)",hover:"rgba(0,0,0,.12)",disabled:"rgba(0, 0, 0, .18)"},selected:{default:"#e3f2fd",text:"rgba(0, 0, 0, 0.87)"},highlightOnHover:{default:"#EEEEEE",text:"rgba(0, 0, 0, 0.87)"},striped:{default:"#FAFAFA",text:"rgba(0, 0, 0, 0.87)"}},_1={default:v1,light:v1,dark:{text:{primary:"#FFFFFF",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(0,0,0,.12)"},background:{default:"#424242"},context:{background:"#E91E63",text:"#FFFFFF"},divider:{default:"rgba(81, 81, 81, 1)"},button:{default:"#FFFFFF",focus:"rgba(255, 255, 255, .54)",hover:"rgba(255, 255, 255, .12)",disabled:"rgba(255, 255, 255, .18)"},selected:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},highlightOnHover:{default:"rgba(0, 0, 0, .7)",text:"#FFFFFF"},striped:{default:"rgba(0, 0, 0, .87)",text:"#FFFFFF"}}};function v8(t,e,n,r){const[i,s]=p.useState(()=>d1(t)),[o,l]=p.useState(""),c=p.useRef("");Vi(()=>{s(d1(t))},[t]);const u=p.useCallback(b=>{var v,g,w;const{attributes:E}=b.target,x=(v=E.getNamedItem("data-column-id"))===null||v===void 0?void 0:v.value;x&&(c.current=((w=(g=i[eu(i,x)])===null||g===void 0?void 0:g.id)===null||w===void 0?void 0:w.toString())||"",l(c.current))},[i]),d=p.useCallback(b=>{var v;const{attributes:g}=b.target,w=(v=g.getNamedItem("data-column-id"))===null||v===void 0?void 0:v.value;if(w&&c.current&&w!==c.current){const E=eu(i,c.current),x=eu(i,w),S=[...i];S[E]=i[x],S[x]=i[E],s(S),e(S)}},[e,i]),h=p.useCallback(b=>{b.preventDefault()},[]),f=p.useCallback(b=>{b.preventDefault()},[]),m=p.useCallback(b=>{b.preventDefault(),c.current="",l("")},[]),y=function(b=!1){return b?gi.ASC:gi.DESC}(r),_=p.useMemo(()=>i[eu(i,n==null?void 0:n.toString())]||{},[n,i]);return{tableColumns:i,draggingColumnId:o,handleDragStart:u,handleDragEnter:d,handleDragOver:h,handleDragLeave:f,handleDragEnd:m,defaultSortDirection:y,defaultSortColumn:_}}var _8=p.memo(function(t){const{data:e=F.data,columns:n=F.columns,title:r=F.title,actions:i=F.actions,keyField:s=F.keyField,striped:o=F.striped,highlightOnHover:l=F.highlightOnHover,pointerOnHover:c=F.pointerOnHover,dense:u=F.dense,selectableRows:d=F.selectableRows,selectableRowsSingle:h=F.selectableRowsSingle,selectableRowsHighlight:f=F.selectableRowsHighlight,selectableRowsNoSelectAll:m=F.selectableRowsNoSelectAll,selectableRowsVisibleOnly:y=F.selectableRowsVisibleOnly,selectableRowSelected:_=F.selectableRowSelected,selectableRowDisabled:b=F.selectableRowDisabled,selectableRowsComponent:v=F.selectableRowsComponent,selectableRowsComponentProps:g=F.selectableRowsComponentProps,onRowExpandToggled:w=F.onRowExpandToggled,onSelectedRowsChange:E=F.onSelectedRowsChange,expandableIcon:x=F.expandableIcon,onChangeRowsPerPage:S=F.onChangeRowsPerPage,onChangePage:C=F.onChangePage,paginationServer:I=F.paginationServer,paginationServerOptions:j=F.paginationServerOptions,paginationTotalRows:M=F.paginationTotalRows,paginationDefaultPage:ee=F.paginationDefaultPage,paginationResetDefaultPage:fe=F.paginationResetDefaultPage,paginationPerPage:ne=F.paginationPerPage,paginationRowsPerPageOptions:J=F.paginationRowsPerPageOptions,paginationIconLastPage:he=F.paginationIconLastPage,paginationIconFirstPage:ve=F.paginationIconFirstPage,paginationIconNext:_e=F.paginationIconNext,paginationIconPrevious:V=F.paginationIconPrevious,paginationComponent:z=F.paginationComponent,paginationComponentOptions:K=F.paginationComponentOptions,responsive:se=F.responsive,progressPending:N=F.progressPending,progressComponent:O=F.progressComponent,persistTableHead:W=F.persistTableHead,noDataComponent:X=F.noDataComponent,disabled:Q=F.disabled,noTableHead:te=F.noTableHead,noHeader:Ae=F.noHeader,fixedHeader:R=F.fixedHeader,fixedHeaderScrollHeight:k=F.fixedHeaderScrollHeight,pagination:D=F.pagination,subHeader:P=F.subHeader,subHeaderAlign:Y=F.subHeaderAlign,subHeaderWrap:q=F.subHeaderWrap,subHeaderComponent:oe=F.subHeaderComponent,noContextMenu:je=F.noContextMenu,contextMessage:$e=F.contextMessage,contextActions:me=F.contextActions,contextComponent:Qn=F.contextComponent,expandableRows:ht=F.expandableRows,onRowClicked:Jt=F.onRowClicked,onRowDoubleClicked:p_=F.onRowDoubleClicked,onRowMouseEnter:m_=F.onRowMouseEnter,onRowMouseLeave:g_=F.onRowMouseLeave,sortIcon:dk=F.sortIcon,onSort:hk=F.onSort,sortFunction:y_=F.sortFunction,sortServer:yf=F.sortServer,expandableRowsComponent:fk=F.expandableRowsComponent,expandableRowsComponentProps:pk=F.expandableRowsComponentProps,expandableRowDisabled:v_=F.expandableRowDisabled,expandableRowsHideExpander:__=F.expandableRowsHideExpander,expandOnRowClicked:mk=F.expandOnRowClicked,expandOnRowDoubleClicked:gk=F.expandOnRowDoubleClicked,expandableRowExpanded:w_=F.expandableRowExpanded,expandableInheritConditionalStyles:yk=F.expandableInheritConditionalStyles,defaultSortFieldId:vk=F.defaultSortFieldId,defaultSortAsc:_k=F.defaultSortAsc,clearSelectedRows:b_=F.clearSelectedRows,conditionalRowStyles:wk=F.conditionalRowStyles,theme:E_=F.theme,customStyles:x_=F.customStyles,direction:ia=F.direction,onColumnOrderChange:bk=F.onColumnOrderChange,className:Ek}=t,{tableColumns:S_,draggingColumnId:C_,handleDragStart:I_,handleDragEnter:T_,handleDragOver:R_,handleDragLeave:k_,handleDragEnd:N_,defaultSortDirection:xk,defaultSortColumn:Sk}=v8(n,bk,vk,_k),[{rowsPerPage:Vr,currentPage:Dn,selectedRows:vf,allSelected:P_,selectedCount:A_,selectedColumn:Yn,sortDirection:Ds,toggleOnSelectedRowsChange:Ck},Oi]=p.useReducer(l9,{allSelected:!1,selectedCount:0,selectedRows:[],selectedColumn:Sk,toggleOnSelectedRowsChange:!1,sortDirection:xk,currentPage:ee,rowsPerPage:ne,selectedRowsFlag:!1,contextMessage:F.contextMessage}),{persistSelectedOnSort:j_=!1,persistSelectedOnPageChange:bc=!1}=j,D_=!(!I||!bc&&!j_),Ik=D&&!N&&e.length>0,Tk=z||d8,Rk=p.useMemo(()=>((ae={},Te="default",Ht="default")=>{const On=_1[Te]?Te:Ht;return y8({table:{style:{color:(le=_1[On]).text.primary,backgroundColor:le.background.default}},tableWrapper:{style:{display:"table"}},responsiveWrapper:{style:{}},header:{style:{fontSize:"22px",color:le.text.primary,backgroundColor:le.background.default,minHeight:"56px",paddingLeft:"16px",paddingRight:"8px"}},subHeader:{style:{backgroundColor:le.background.default,minHeight:"52px"}},head:{style:{color:le.text.primary,fontSize:"12px",fontWeight:500}},headRow:{style:{backgroundColor:le.background.default,minHeight:"52px",borderBottomWidth:"1px",borderBottomColor:le.divider.default,borderBottomStyle:"solid"},denseStyle:{minHeight:"32px"}},headCells:{style:{paddingLeft:"16px",paddingRight:"16px"},draggingStyle:{cursor:"move"}},contextMenu:{style:{backgroundColor:le.context.background,fontSize:"18px",fontWeight:400,color:le.context.text,paddingLeft:"16px",paddingRight:"8px",transform:"translate3d(0, -100%, 0)",transitionDuration:"125ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",willChange:"transform"},activeStyle:{transform:"translate3d(0, 0, 0)"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",wordBreak:"break-word"},draggingStyle:{}},rows:{style:{fontSize:"13px",fontWeight:400,color:le.text.primary,backgroundColor:le.background.default,minHeight:"48px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:le.divider.default}},denseStyle:{minHeight:"32px"},selectedHighlightStyle:{"&:nth-of-type(n)":{color:le.selected.text,backgroundColor:le.selected.default,borderBottomColor:le.background.default}},highlightOnHoverStyle:{color:le.highlightOnHover.text,backgroundColor:le.highlightOnHover.default,transitionDuration:"0.15s",transitionProperty:"background-color",borderBottomColor:le.background.default,outlineStyle:"solid",outlineWidth:"1px",outlineColor:le.background.default},stripedStyle:{color:le.striped.text,backgroundColor:le.striped.default}},expanderRow:{style:{color:le.text.primary,backgroundColor:le.background.default}},expanderCell:{style:{flex:"0 0 48px"}},expanderButton:{style:{color:le.button.default,fill:le.button.default,backgroundColor:"transparent",borderRadius:"2px",transition:"0.25s",height:"100%",width:"100%","&:hover:enabled":{cursor:"pointer"},"&:disabled":{color:le.button.disabled},"&:hover:not(:disabled)":{cursor:"pointer",backgroundColor:le.button.hover},"&:focus":{outline:"none",backgroundColor:le.button.focus},svg:{margin:"auto"}}},pagination:{style:{color:le.text.secondary,fontSize:"13px",minHeight:"56px",backgroundColor:le.background.default,borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:le.divider.default},pageButtonsStyle:{borderRadius:"50%",height:"40px",width:"40px",padding:"8px",margin:"px",cursor:"pointer",transition:"0.4s",color:le.button.default,fill:le.button.default,backgroundColor:"transparent","&:disabled":{cursor:"unset",color:le.button.disabled,fill:le.button.disabled},"&:hover:not(:disabled)":{backgroundColor:le.button.hover},"&:focus":{outline:"none",backgroundColor:le.button.focus}}},noData:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:le.text.primary,backgroundColor:le.background.default}},progress:{style:{display:"flex",alignItems:"center",justifyContent:"center",color:le.text.primary,backgroundColor:le.background.default}}},ae);var le})(x_,E_),[x_,E_]),kk=p.useMemo(()=>Object.assign({},ia!=="auto"&&{dir:ia}),[ia]),At=p.useMemo(()=>{if(yf)return e;if(Yn!=null&&Yn.sortFunction&&typeof Yn.sortFunction=="function"){const ae=Yn.sortFunction,Te=Ds===gi.ASC?ae:(Ht,On)=>-1*ae(Ht,On);return[...e].sort(Te)}return function(ae,Te,Ht,On){return Te?On&&typeof On=="function"?On(ae.slice(0),Te,Ht):ae.slice(0).sort((le,_f)=>{const Ls=Te(le),Ur=Te(_f);if(Ht==="asc"){if(Ls<Ur)return-1;if(Ls>Ur)return 1}if(Ht==="desc"){if(Ls>Ur)return-1;if(Ls<Ur)return 1}return 0}):ae}(e,Yn==null?void 0:Yn.selector,Ds,y_)},[yf,Yn,Ds,e,y_]),sa=p.useMemo(()=>{if(D&&!I){const ae=Dn*Vr,Te=ae-Vr;return At.slice(Te,ae)}return At},[Dn,D,I,Vr,At]),Nk=p.useCallback(ae=>{Oi(ae)},[]),Pk=p.useCallback(ae=>{Oi(ae)},[]),Ak=p.useCallback(ae=>{Oi(ae)},[]),jk=p.useCallback((ae,Te)=>Jt(ae,Te),[Jt]),Dk=p.useCallback((ae,Te)=>p_(ae,Te),[p_]),Ok=p.useCallback((ae,Te)=>m_(ae,Te),[m_]),Lk=p.useCallback((ae,Te)=>g_(ae,Te),[g_]),Os=p.useCallback(ae=>Oi({type:"CHANGE_PAGE",page:ae,paginationServer:I,visibleOnly:y,persistSelectedOnPageChange:bc}),[I,bc,y]),$k=p.useCallback(ae=>{const Te=Ka(M||sa.length,ae),Ht=Sp(Dn,Te);I||Os(Ht),Oi({type:"CHANGE_ROWS_PER_PAGE",page:Ht,rowsPerPage:ae})},[Dn,Os,I,M,sa.length]);if(D&&!I&&At.length>0&&sa.length===0){const ae=Ka(At.length,Vr),Te=Sp(Dn,ae);Os(Te)}Vi(()=>{E({allSelected:P_,selectedCount:A_,selectedRows:vf.slice(0)})},[Ck]),Vi(()=>{hk(Yn,Ds,At.slice(0))},[Yn,Ds]),Vi(()=>{C(Dn,M||At.length)},[Dn]),Vi(()=>{S(Vr,Dn)},[Vr]),Vi(()=>{Os(ee)},[ee,fe]),Vi(()=>{if(D&&I&&M>0){const ae=Ka(M,Vr),Te=Sp(Dn,ae);Dn!==Te&&Os(Te)}},[M]),p.useEffect(()=>{Oi({type:"CLEAR_SELECTED_ROWS",selectedRowsFlag:b_})},[h,b_]),p.useEffect(()=>{if(!_)return;const ae=At.filter(Ht=>_(Ht)),Te=h?ae.slice(0,1):ae;Oi({type:"SELECT_MULTIPLE_ROWS",keyField:s,selectedRows:Te,totalRows:At.length,mergeSelections:D_})},[e,_]);const Mk=y?sa:At,Fk=bc||h||m;return p.createElement(i9,{theme:Rk},!Ae&&(!!r||!!i)&&p.createElement(G9,{title:r,actions:i,showMenu:!je,selectedCount:A_,direction:ia,contextActions:me,contextComponent:Qn,contextMessage:$e}),P&&p.createElement(Y9,{align:Y,wrapContent:q},oe),p.createElement(J9,Object.assign({$responsive:se,$fixedHeader:R,$fixedHeaderScrollHeight:k,className:Ek},kk),p.createElement(Z9,null,N&&!W&&p.createElement(m1,null,O),p.createElement(u9,{disabled:Q,className:"rdt_Table",role:"table"},!te&&(!!W||At.length>0&&!N)&&p.createElement(h9,{className:"rdt_TableHead",role:"rowgroup",$fixedHeader:R},p.createElement(f9,{className:"rdt_TableHeadRow",role:"row",$dense:u},d&&(Fk?p.createElement(na,{style:{flex:"0 0 48px"}}):p.createElement(V9,{allSelected:P_,selectedRows:vf,selectableRowsComponent:v,selectableRowsComponentProps:g,selectableRowDisabled:b,rowData:Mk,keyField:s,mergeSelections:D_,onSelectAllRows:Pk})),ht&&!__&&p.createElement(e8,null),S_.map(ae=>p.createElement(M9,{key:ae.id,column:ae,selectedColumn:Yn,disabled:N||At.length===0,pagination:D,paginationServer:I,persistSelectedOnSort:j_,selectableRowsVisibleOnly:y,sortDirection:Ds,sortIcon:dk,sortServer:yf,onSort:Nk,onDragStart:I_,onDragOver:R_,onDragEnd:N_,onDragEnter:T_,onDragLeave:k_,draggingColumnId:C_})))),!At.length&&!N&&p.createElement(t8,null,X),N&&W&&p.createElement(m1,null,O),!N&&At.length>0&&p.createElement(X9,{className:"rdt_TableBody",role:"rowgroup"},sa.map((ae,Te)=>{const Ht=Fo(ae,s),On=function(Ur=""){return typeof Ur!="number"&&(!Ur||Ur.length===0)}(Ht)?Te:Ht,le=Uu(ae,vf,s),_f=!!(ht&&w_&&w_(ae)),Ls=!!(ht&&v_&&v_(ae));return p.createElement(P9,{id:On,key:On,keyField:s,"data-row-id":On,columns:S_,row:ae,rowCount:At.length,rowIndex:Te,selectableRows:d,expandableRows:ht,expandableIcon:x,highlightOnHover:l,pointerOnHover:c,dense:u,expandOnRowClicked:mk,expandOnRowDoubleClicked:gk,expandableRowsComponent:fk,expandableRowsComponentProps:pk,expandableRowsHideExpander:__,defaultExpanderDisabled:Ls,defaultExpanded:_f,expandableInheritConditionalStyles:yk,conditionalRowStyles:wk,selected:le,selectableRowsHighlight:f,selectableRowsComponent:v,selectableRowsComponentProps:g,selectableRowDisabled:b,selectableRowsSingle:h,striped:o,onRowExpandToggled:w,onRowClicked:jk,onRowDoubleClicked:Dk,onRowMouseEnter:Ok,onRowMouseLeave:Lk,onSelectedRow:Ak,draggingColumnId:C_,onDragStart:I_,onDragOver:R_,onDragEnd:N_,onDragEnter:T_,onDragLeave:k_})}))))),Ik&&p.createElement("div",null,p.createElement(Tk,{onChangePage:Os,onChangeRowsPerPage:$k,rowCount:M||At.length,currentPage:Dn,rowsPerPage:Vr,direction:ia,paginationRowsPerPageOptions:J,paginationIconLastPage:he,paginationIconFirstPage:ve,paginationIconNext:_e,paginationIconPrevious:V,paginationComponentOptions:K})))});function ra(t){return a.jsx(_8,{pagination:!0,paginationServer:!0,paginationPerPage:5,paginationRowsPerPageOptions:[5,10,15,20,25],noDataComponent:"No hay información para mostrar.",progressComponent:a.jsx(a.Fragment,{children:"Cargando..."}),striped:!0,fixedHeader:!0,responsive:!0,...t})}function w8(t){return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":`#ver-${t.curso.id}`,children:a.jsx(_R,{})}),a.jsx("div",{className:"modal fade",id:`ver-${t.curso.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",children:`Información del Curso: ${t.curso.nombre}`}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body text-start",children:a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col",style:{width:"50%",height:"auto"},children:a.jsx("img",{src:t.curso.download_url,alt:"Imagen",style:{width:"100%",height:"100%"}})}),a.jsxs("div",{className:"col",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Nombre:"})," ",t.curso.nombre]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Descripción:"})," ",t.curso.descripcion]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Modalidad:"})," ",lg(t.curso.modalidad)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Fecha de Inicio:"})," ",t.curso.fecha_inicio instanceof Ce?t.curso.fecha_inicio.toDate().toLocaleDateString():""]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Fecha de Fin:"})," ",t.curso.fecha_finalizacion instanceof Ce?t.curso.fecha_finalizacion.toDate().toLocaleDateString():""]}),t.curso.link_plataforma&&a.jsxs("p",{children:[a.jsx("strong",{children:"Link del Curso:"})," ",a.jsx("a",{href:t.curso.link_plataforma,target:"_blank",rel:"noopener noreferrer",children:t.curso.link_plataforma})]}),a.jsx("p",{children:a.jsx("strong",{children:"Horario:"})}),a.jsx("ul",{children:t.curso.horario.map((e,n)=>a.jsxs("li",{children:[e.dia,": ",e.hora]},n))})]})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"})})]})})})]})}function b8(){const[t,e]=p.useState([]),[n,r]=p.useState([]),[i,s]=p.useState(!1);p.useState(void 0);const[o,l]=p.useState(""),c=Be(),[u,d]=p.useState(""),[h,f]=p.useState(!0),[m,y]=p.useState(!1),[_,b]=p.useState(null),[v,g]=p.useState(0),[w,E]=p.useState({}),[x,S]=p.useState(1),[C,I]=p.useState(5),j=async N=>{s(!0);let O=w[N];const{dataList:W,newLastVisible:X}=await Zo("Cursos",C,O);W.length>0?(b(X),E(k=>({...k,[N+1]:X}))):b(null);const Q=W,te={};Q.forEach(k=>{k.id&&(te[k.id]=k.postulados.length)});const R=Q.filter(k=>k.fechaCreacion!==void 0).sort((k,D)=>D.fechaCreacion.toMillis()-k.fechaCreacion.toMillis());e(R),r(R),s(!1)},M=async()=>{const N=await gr("Cursos");g(N.length)};p.useEffect(()=>{j(x),M()},[x,C]),p.useEffect(()=>{if(m){const N=n.filter(O=>{const W=O[u];if(typeof W=="string")return W.toLowerCase().includes(o.toLowerCase());if(typeof W=="number"){let X="";switch(W){case 0:X="presencial";break;case 1:X="virtual";break;case 2:X="mixta";break;default:return!1}return X.includes(o.toLowerCase())}return!1});r(N),y(!m)}o.trim()===""&&r(t)},[o,m,u]);const ee=[{name:"Nombre",selector:N=>N.nombre,cell:N=>a.jsx("div",{children:N.nombre}),sortable:!0},{name:"Horario",selector:N=>N.horario,cell:N=>a.jsx("div",{className:"text-start",children:N.horario.map((O,W)=>a.jsxs("div",{children:[O.dia,": ",O.hora]},W))}),sortable:!0},{name:"Modalidad",selector:N=>lg(N.modalidad),cell:N=>a.jsx("div",{children:lg(N.modalidad)}),sortable:!0},{name:"Estado",selector:N=>N.estado===1?"Activo":"Inactivo",cell:N=>a.jsx("div",{className:"form-check form-switch",children:a.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",checked:N.estado,onChange:()=>V(N)})}),sortable:!0},{name:"Visibilidad",selector:N=>N.visible,cell:N=>a.jsxs("select",{id:"visible",className:"form-select",name:"visible",value:N.visible,onChange:O=>z(O,N),disabled:N.estado===0,required:!0,children:[a.jsx("option",{disabled:!0,value:"",children:"Selecciona donde será visible el curso"}),a.jsx("option",{value:1,children:"Sección de Matrícula"}),a.jsx("option",{value:2,children:"Sección de Próximamente"}),a.jsx("option",{value:0,children:"No visible"})]}),sortable:!0},{name:"Acciones",cell:N=>a.jsxs("div",{className:"d-flex",children:[a.jsx(w8,{curso:N}),a.jsx(Yb,{id:`course-section-modal-edit-${N.id}`,titulo:`Editar Curso: ${N.nombre}`,nombreButton:a.jsx(vR,{}),styleButton:"btn btn-warning mx-2",submitButton:"Guardar Cambios",curso:N}),a.jsx(r5,{id:N.id,image_url:N.image_url})]})}],fe=bn(),ne=Se(N=>N.auth.user),J=Se(N=>N.auth.loggedIn);p.useEffect(()=>{!J&&!ne&&fe("/")},[J,ne,fe]);const he=()=>{fe("/Cursos")},ve=N=>{d(N.target.value),h&&f(!h)};function _e(N){N.key==="Enter"&&y(!m)}function V(N){const O=N.estado===0?1:0;ut(`/Cursos/${N.id}`,{estado:O}),c(_U(N.id));const W=O===0?0:N.estado;ut(`/Cursos/${N.id}`,{visible:parseInt(W)}),c(Fb({cursoId:N.id,visible:W}))}function z(N,O){ut(`/Cursos/${O.id}`,{visible:parseInt(N.target.value)}),c(Fb({cursoId:O.id,visible:parseInt(N.target.value)}))}const K=N=>{S(N)},se=(N,O)=>{I(N),S(O)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"d-flex align-items-center",children:a.jsxs("button",{className:"btn btn-outline-primary me-2",onClick:he,children:[a.jsx(gR,{})," Volver"]})}),a.jsx("div",{style:{top:"18%",left:"10%",right:"10%",bottom:"10%"},children:a.jsx("h2",{className:"text-secondary mb-0 pt-3 ps-2",children:"Gestión de Cursos"})}),a.jsxs("div",{className:"alert alert-info mt-3",role:"alert",children:[a.jsx("strong",{children:"Nota:"})," El"," ",a.jsx("strong",{children:a.jsx("em",{children:"Estado"})})," ","si se encuentra activado, se podrá seleccionar la"," ",a.jsx("strong",{children:"Visibilidad"})," del curso entre:"," ",a.jsx("em",{children:"Sección de Matrícula, Sección de Próximamente y No Visible."})," Si el"," ",a.jsx("strong",{children:a.jsx("em",{children:"Estado"})})," ","se encuentra inactivo la ",a.jsx("strong",{children:"Visibilidad "})," del curso se encontrará ",a.jsx("em",{children:"No Visible."})]}),a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsx("div",{className:"d-flex",children:a.jsx(Yb,{id:"course-section-modal-add",titulo:"Crear un Nuevo Curso",nombreButton:"Crear un Nuevo Curso",styleButton:"btn btn-success py-0 ms-2 mt-3 shadow-lg",submitButton:"Crear Curso",curso:null})}),a.jsxs("div",{className:"d-flex",children:[a.jsx("div",{className:"mt-3 mx-2",children:a.jsxs("select",{className:"form-select border border-secondary shadow","aria-label":"Default select example",onChange:ve,children:[a.jsx("option",{hidden:!0,children:"Seleccione un filtro"}),a.jsx("option",{value:"nombre",children:"Nombre"}),a.jsx("option",{value:"modalidad",children:"Modalidad"})]})}),a.jsx("div",{children:a.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 me-2 border border-primary shadow-lg",placeholder:"Buscar",value:o,disabled:h,onChange:N=>{l(N.target.value)},onKeyDown:_e})})]})]}),a.jsx("div",{children:a.jsx(ra,{columns:ee,data:n,paginationPerPage:C,paginationTotalRows:v,onChangePage:K,onChangeRowsPerPage:se,progressPending:i})})]})}const E8=()=>{const t=js(QT),e=Be(),n={titulo:t.head.titulo_principal,subtitulo:t.head.subtitulo_principal},[r,i]=p.useState(n),[s,o]=p.useState(),l=()=>{i(n)},c=h=>{i({...r,[h.target.name]:h.target.value})},u=h=>{o(h.target.files[0]),c(h)},d=async()=>{let h=t.head.download_url_principal;s!=null&&(h=await Pn(s,"/Empresa/Principal/imagen_principal"));const f={titulo_principal:r.titulo,subtitulo_principal:r.subtitulo,download_url_principal:h,image_principal_url:t.head.image_principal_url};await ut("/Empresa/ZktZQqsBnqVVoL4dfRHv",f),e(oU(f)),Pt("toast-update")};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center rounded mb-5",children:[a.jsx("img",{src:t.head.download_url_principal,className:"img-fluid"}),a.jsx("h1",{className:"display-1 text-black",children:t.head.titulo_principal}),a.jsx("h3",{className:"display-6 text-black",children:t.head.subtitulo_principal}),a.jsx("button",{type:"button",className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"Actualizar Inicio"})]}),a.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header border-0",children:[a.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-add",children:"Actualizar Inicio"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:l})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"form-row text-black",children:[a.jsx("label",{className:"form-label",htmlFor:"title-about-add",children:"Título"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-about-add",name:"titulo",value:r.titulo,onChange:h=>c(h)}),a.jsx("label",{className:"form-label",htmlFor:"subtitle-about-add",children:"Subtitulo"}),a.jsx("textarea",{className:"form-control rounded-0 ",id:"subtitle-about-add",name:"subtitulo",value:r.subtitulo,onChange:h=>c(h)}),a.jsx("label",{className:"form-label",htmlFor:"uploadImage-add",children:"Subir imagen"}),a.jsx("input",{className:"form-control",id:"uploadImage-add",name:"image_url",type:"file",onChange:h=>u(h)})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:l,children:"Cancelar"}),a.jsx("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>d(),children:"Guardar Cambios"})]})]})})}),a.jsx(Nt,{id:"toast-update",message:"¡Se ha actualizado con éxito la sección principal!",title:"Seccion Principal"})]})},w1=t=>{const[e,n]=p.useState(void 0),r={id:t.id,posicion_id:t.posicion_id,titulo:t.titulo,subtitulo:t.subtitulo,descripcion:t.descripcion,estado:t.estado,image_url:t.image_url,download_url:t.download_url},[i,s]=p.useState(r),o=Be(),l=h=>{s({...i,[h.target.name]:h.target.value})},c=()=>{s(r)},u=h=>{h.target.files[0]!=null?n(h.target.files[0]):n(void 0)},d=async()=>{let h;e!=null?h=await Pn(e,i.image_url):h=r.download_url;let f={posicion_id:i.posicion_id,titulo:i.titulo,subtitulo:i.subtitulo,descripcion:i.descripcion,estado:1,image_url:i.image_url,download_url:h};await ut(`/Empresa/ZktZQqsBnqVVoL4dfRHv/secciones/${i.id}`,f),f={...f,id:t.id},o(lU(f)),Pt("edit-modal-section")};return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-outline-warning mb-2 btn-sm","data-bs-toggle":"modal","data-bs-target":`#${t.id}`,children:"Editar"}),a.jsx("div",{className:"modal fade",id:t.id,"data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header border-0",children:[a.jsx("h1",{className:"modal-title fs-5 text-black",id:`title-modal-${t.id}`,children:"Editar"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>c()})]}),a.jsx("div",{className:"modal-body text-center",children:a.jsxs("div",{className:"form-row text-black",children:[a.jsx("label",{className:"form-label",htmlFor:"title-about-adsSection",children:"Título"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:`title-about-${t.id}`,name:"titulo",value:i.titulo,onChange:h=>l(h)}),a.jsx("label",{className:"form-label",htmlFor:`subtitle-about-${t.id}`,children:"Subtítulo"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:`subtitle-about-${t.id}`,name:"subtitulo",value:i.subtitulo,onChange:h=>l(h)}),a.jsx("label",{className:"form-label",htmlFor:`description-about-${t.id}`,children:"Descripción"}),a.jsx("textarea",{className:"form-control rounded-0 ",id:`description-about-${t.id}`,name:"descripcion",value:i.descripcion,rows:10,onChange:h=>l(h)}),a.jsx("label",{className:"form-label",htmlFor:`uploadImage-${t.id}`,children:"Subir imagen"}),a.jsx("input",{className:"form-control mb-3",id:`uploadImage-${t.id}`,name:"image_url",type:"file",onChange:h=>u(h)}),a.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>s({...i,posicion_id:1})})," Izquierda"]}),a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>s({...i,posicion_id:2})})," Derecha"]})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>c(),children:"Cancelar"}),a.jsx("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>d(),children:"Guardar Cambios"})]})]})})}),a.jsx(Nt,{id:"edit-modal-section",message:"¡Se ha editado con éxito la sección!",title:"Seccion de avisos - Editar"})]})},b1=t=>{const e=Be(),n=async()=>{await _c(`/Empresa/ZktZQqsBnqVVoL4dfRHv/secciones/${t.id}`),await uf(t.image_url),e(cU(t)),Pt("delete-modal-section")};return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm mb-5","data-bs-toggle":"modal","data-bs-target":`#ad-section-modal-delete${t.id}`,children:"Eliminar"}),a.jsx("div",{className:"modal fade",id:`ad-section-modal-delete${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"Eliminar"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:"¿Estás seguro que desea eliminar está sección?"}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),a.jsx("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:()=>n(),children:"Aceptar"})]})]})})}),a.jsx(Nt,{id:"delete-modal-section",message:"¡Se ha eliminado con éxito la sección!",title:"Seccion de avisos"})]})},x8=()=>{const t=js(QT),[e,n]=p.useState([]);return p.useEffect(()=>{n(t.sections)},[t]),a.jsxs(a.Fragment,{children:[t.loading&&a.jsx("div",{children:"Cargando..."}),e.map(r=>r.posicion_id==1?a.jsxs("div",{className:"row mb-3 text-start",children:[a.jsx("div",{className:"col",children:a.jsx("img",{className:"img-fluid",src:r.download_url})}),a.jsxs("div",{className:"col mb-5",children:[a.jsx("h3",{children:r.titulo}),a.jsx("h5",{children:r.subtitulo}),a.jsx("p",{className:"lead",children:r.descripcion})]}),a.jsx(w1,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url},`${r.id}-adssection1`),a.jsx(b1,{id:r.id,image_url:r.image_url},`${r.id}-delete1`),a.jsx("hr",{className:"border border-secondary border-1 opacity-90"})]},`${r.id}-div1`):a.jsxs("div",{className:"row mb-3 text-end",children:[a.jsxs("div",{className:"col",children:[a.jsx("h3",{children:r.titulo}),a.jsx("h5",{children:r.subtitulo}),a.jsx("p",{className:"lead",children:r.descripcion})]}),a.jsx("div",{className:"col mb-5",children:a.jsx("img",{className:"img-fluid",src:r.download_url})}),a.jsx(w1,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url},`${r.id}-adssection2`),a.jsx(b1,{id:r.id,image_url:r.image_url},`${r.id}-delete2`),a.jsx("hr",{className:"border border-secondary border-1 opacity-90"})]},`${r.id}-div2`))]})};let nu;const S8=new Uint8Array(16);function C8(){if(!nu&&(nu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nu(S8)}const _t=[];for(let t=0;t<256;++t)_t.push((t+256).toString(16).slice(1));function I8(t,e=0){return _t[t[e+0]]+_t[t[e+1]]+_t[t[e+2]]+_t[t[e+3]]+"-"+_t[t[e+4]]+_t[t[e+5]]+"-"+_t[t[e+6]]+_t[t[e+7]]+"-"+_t[t[e+8]]+_t[t[e+9]]+"-"+_t[t[e+10]]+_t[t[e+11]]+_t[t[e+12]]+_t[t[e+13]]+_t[t[e+14]]+_t[t[e+15]]}const T8=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),E1={randomUUID:T8};function u_(t,e,n){if(E1.randomUUID&&!e&&!t)return E1.randomUUID();t=t||{};const r=t.random||(t.rng||C8)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return I8(r)}const d_=async t=>{const e=document.getElementById(t);console.log(e);const n=bootstrap.Modal.getInstance(e);n&&(console.log(n,"entraaaa"),await n.hide(e))},R8=()=>{const t=Be(),[e,n]=p.useState(),r={id:"",posicion_id:1,titulo:"",subtitulo:"",descripcion:"",estado:1,image_url:"",download_url:""},[i,s]=p.useState(r),o=d=>{s({...i,[d.target.name]:d.target.value})},l=()=>{s(r)},c=d=>{n(d.target.files[0]),s({...i,image_url:`Empresa/Secciones/${u_()}`})},u=async d=>{d.preventDefault();let h="";e!=null&&(h=await Pn(e,i.image_url));let f={posicion_id:i.posicion_id,titulo:i.titulo,subtitulo:i.subtitulo,descripcion:i.descripcion,estado:1,image_url:i.image_url,download_url:h};const m=await cf("/Empresa/ZktZQqsBnqVVoL4dfRHv/secciones",f);f={...f,id:m.id},t(aU(f)),setTimeout(()=>{d_("add-section"),Pt("toast-add-section")},1e3)};return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-primary mb-2","data-bs-toggle":"modal","data-bs-target":"#add-section",children:"Crear Sección"}),a.jsx("div",{className:"modal fade",id:"add-section","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header border-0",children:[a.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-addSection",children:"Crear Sección"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>l()})]}),a.jsx("div",{className:"modal-body",children:a.jsx("form",{onSubmit:u,id:"form-modal-add-section",children:a.jsxs("div",{className:"form-row text-black",children:[a.jsx("label",{className:"form-label",htmlFor:"title-about-addSection",children:"Título"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-about-addSection",name:"titulo",value:i.titulo,onChange:d=>o(d)}),a.jsx("label",{className:"form-label",htmlFor:"subtitle-about-addSection",children:"Subtítulo"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:"subtitle-about-addSection",name:"subtitulo",value:i.subtitulo,onChange:d=>o(d)}),a.jsx("label",{className:"form-label",htmlFor:"description-about-addSection",children:"Descripción"}),a.jsx("textarea",{className:"form-control rounded-0 ",id:"description-about-addSection",name:"descripcion",rows:10,value:i.descripcion,onChange:d=>o(d)}),a.jsx("label",{className:"form-label",htmlFor:"uploadImage-addSection",children:"Subir imagen"}),a.jsx("input",{className:"form-control mb-3",id:"uploadImage-addSection",name:"image_url",type:"file",onChange:d=>c(d),required:!0}),a.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>s({...i,posicion_id:1})})," Izquierda"]}),a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>s({...i,posicion_id:2})})," Derecha"]})]})]})})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>l(),children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn btn-primary",form:"form-modal-add-section",children:"Guardar Cambios"})]})]})})}),a.jsx(Nt,{id:"toast-add-section",message:"¡Se ha agregado con éxito la sección!",title:"Seccion de avisos"})]})},k8=()=>{const t=js(rU),e=Be(),n={correo:t.correo,facebook:t.facebookUrl,titulo:t.titulo_footer,subtitulo:t.subtitulo_footer,telefono:t.telefonos[0],whatsapp:t.telefonos[1],direccionCorta:t.direccionCorta,horarioLunes:t.horarios[0],horarioMartes:t.horarios[1],horarioMiercoles:t.horarios[2],horarioJueves:t.horarios[3],horarioViernes:t.horarios[4],horarioSabado:t.horarios[5],horarioDomingo:t.horarios[6]},[r,i]=p.useState(n),s=c=>{i({...r,[c.target.name]:c.target.value})},o=()=>{i(n)},l=async()=>{const c={correo:r.correo,facebookUrl:r.facebook,titulo_footer:r.titulo,subtitulo_footer:r.subtitulo,telefonos:[r.telefono,r.whatsapp],direccionCorta:r.direccionCorta,horarios:[r.horarioLunes,r.horarioMartes,r.horarioMiercoles,r.horarioJueves,r.horarioViernes,r.horarioSabado,r.horarioDomingo]};await ut("/Empresa/ZktZQqsBnqVVoL4dfRHv",c),e(GT(c))};return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-dark m-5","data-bs-toggle":"modal","data-bs-target":"#information-section-edit",children:"Editar Información del Footer"}),a.jsx("div",{className:"modal fade",id:"information-section-edit","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"Editando Información Footer"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:o})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"accordion",id:"accordionPanelsStayOpenExample",children:[a.jsxs("div",{className:"accordion-item",children:[a.jsx("h2",{className:"accordion-header",id:"panelsStayOpen-headingOne",children:a.jsx("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne",children:"Información"})}),a.jsx("div",{id:"panelsStayOpen-collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"panelsStayOpen-headingOne",children:a.jsxs("div",{className:"accordion-body",children:[a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default1",children:"Correo"}),a.jsx("input",{type:"text",className:"form-control",name:"correo","aria-label":"correo",value:r.correo,"aria-describedby":"inputGroup-sizing-default1",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default2",children:"Facebook"}),a.jsx("input",{type:"text",className:"form-control",name:"facebook","aria-label":"facebook",value:r.facebook,"aria-describedby":"inputGroup-sizing-default2",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default3",children:"Título"}),a.jsx("input",{type:"text",className:"form-control",name:"titulo","aria-label":"titulo",value:r.titulo,"aria-describedby":"inputGroup-sizing-default3",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default4",children:"Subtitulo"}),a.jsx("input",{type:"text",className:"form-control",name:"subtitulo","aria-label":"subtitulo",value:r.subtitulo,"aria-describedby":"inputGroup-sizing-default4",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default5",children:"Teléfono"}),a.jsx("input",{type:"text",className:"form-control",name:"telefono","aria-label":"telefono",value:r.telefono,"aria-describedby":"inputGroup-sizing-default5",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default6",children:"Whatsapp"}),a.jsx("input",{type:"text",className:"form-control",name:"whatsapp","aria-label":"whatsapp",value:r.whatsapp,"aria-describedby":"inputGroup-sizing-default6",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default7",children:"Dirección"}),a.jsx("input",{type:"text",className:"form-control",name:"direccion","aria-label":"direccion",value:r.direccionCorta,"aria-describedby":"inputGroup-sizing-default7",onChange:c=>s(c)})]})]})})]}),a.jsxs("div",{className:"accordion-item",children:[a.jsx("h2",{className:"accordion-header",id:"panelsStayOpen-headingTwo",children:a.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTwo",children:"Horarios"})}),a.jsx("div",{id:"panelsStayOpen-collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingTwo",children:a.jsxs("div",{className:"accordion-body",children:[a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Lunes"}),a.jsx("input",{type:"text",className:"form-control",name:"horarioLunes",value:r.horarioLunes,"aria-label":"horarioLunes","aria-describedby":"inputGroup-sizing-default8",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Martes"}),a.jsx("input",{type:"text",className:"form-control",name:"horarioMartes",value:r.horarioMartes,"aria-label":"horarioMartes","aria-describedby":"inputGroup-sizing-default8",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Miércoles"}),a.jsx("input",{type:"text",className:"form-control",name:"horarioMiercoles",value:r.horarioMiercoles,"aria-label":"horarioMiercoles","aria-describedby":"inputGroup-sizing-default8",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Jueves"}),a.jsx("input",{type:"text",className:"form-control",name:"horarioJueves",value:r.horarioJueves,"aria-label":"horarioJueves","aria-describedby":"inputGroup-sizing-default8",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Viernes"}),a.jsx("input",{type:"text",className:"form-control",name:"horarioViernes",value:r.horarioViernes,"aria-label":"horarioViernes","aria-describedby":"inputGroup-sizing-default8",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Sábado"}),a.jsx("input",{type:"text",className:"form-control",name:"horarioSabado",value:r.horarioSabado,"aria-label":"horarioSabado","aria-describedby":"inputGroup-sizing-default8",onChange:c=>s(c)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"inputGroup-sizing-default8",children:"Domingo"}),a.jsx("input",{type:"text",className:"form-control",name:"horarioDomingo",value:r.horarioDomingo,"aria-label":"horarioDomingo","aria-describedby":"inputGroup-sizing-default8",onChange:c=>s(c)})]})]})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:o,children:"Cancelar"}),a.jsx("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>l(),children:"Guardar Cambios"})]})]})})})]})},N8=()=>{const t=Be();p.useEffect(()=>{(async()=>(await t(Ru()),await t(ku())))()},[]);const e=bn(),n=Se(i=>i.auth.user),r=Se(i=>i.auth.loggedIn);return p.useEffect(()=>{!r&&!n&&e("/ucag-admin/")},[r,n,e]),a.jsxs(a.Fragment,{children:[a.jsx(E8,{}),a.jsx(R8,{}),a.jsx("hr",{className:"border border-secondary border-1 opacity-75"}),a.jsx("div",{className:"container-fluid",children:a.jsx(x8,{})}),a.jsx(k8,{})]})},P8=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[i,s]=p.useState(""),o=bn(),l=Se(y=>y.auth.user),c=Se(y=>y.auth.loggedIn),[u,d]=p.useState(!1),h=p.useRef(null);p.useEffect(()=>{!c&&!l&&o("/ucag-admin/");const y=Wo(Jo,"Home/imagen-inicio");Xl(y).then(_=>{s(_)}).catch(_=>{console.error("Error descargando la imagen:",_)}),(async()=>{const _=await gc("/Home/8Yl9xbZuRNFTUItTEKGU");e(_==null?void 0:_.titulo),r(_==null?void 0:_.descripcion)})()},[c,l,o,u]);const f=()=>{d(!0),h.current&&h.current.scrollIntoView({behavior:"smooth"})},m=()=>{d(!1)};return a.jsx(a.Fragment,{children:c&&a.jsxs("div",{className:"container mt-5",children:[a.jsx("div",{className:"text-start mb-5",children:a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,children:"Editar"})}),a.jsxs("div",{className:"row text-start",children:[a.jsxs("div",{className:"col-sm-5",children:[a.jsx("h2",{className:"fw-bold color-title mb-3",children:t}),a.jsxs("p",{children:[n," "]})]}),a.jsx("div",{className:"col-sm-7",ref:h,children:a.jsx("img",{src:i,alt:"Imagen de página de inicio,",className:"img-fluid rounded"})}),u&&a.jsx(j8,{onClose:m,initialTitulo:t,initialDescription:n})]})]})})},A8=()=>{const[t,e]=p.useState(null),[n,r]=p.useState(!1),i=p.useRef(null),[s,o]=p.useState(null);function l(){i.current&&i.current.click()}function c(_){const b=_.target.files[0];!b||b.type.split("/")[0]!=="image"||(o(b),e({name:b.name,url:URL.createObjectURL(b)}))}function u(){t&&(URL.revokeObjectURL(t.url),e(null),o(null),i.current&&(i.current.value=""))}function d(_){_.preventDefault(),r(!0),_.dataTransfer.dropEffect="copy"}function h(_){_.preventDefault(),r(!1)}function f(_){_.preventDefault(),r(!1);const b=_.dataTransfer.files[0];!b||b.type.split("/")[0]!=="image"||(o(b),e({name:b.name,url:URL.createObjectURL(b)}))}async function m(_){Pn(_,"Home/imagen-inicio")}async function y(){try{const _=await m(s);console.log(_),u()}catch(_){console.error(_)}}return a.jsx("div",{className:"dragDrop-component card",children:a.jsxs("div",{className:"card",children:[a.jsx("div",{className:"top",children:a.jsx("p",{children:"Subir imagen"})}),!t&&a.jsxs("div",{className:"drag-area",onDragOver:d,onDragLeave:h,onDrop:f,children:[n?a.jsx("span",{className:"select",children:"Suelte la imágen aquí"}):a.jsxs(a.Fragment,{children:["Drag & Drop aquí o "," ",a.jsx("span",{className:"select",role:"button",onClick:l,children:"Adjunta la imagen"})]}),a.jsx("input",{type:"file",name:"file",className:"file",ref:i,onChange:c})]}),t&&a.jsx("div",{className:"container",children:a.jsxs("div",{className:"image",children:[a.jsx("span",{className:"delete",onClick:u,children:a.jsx("i",{className:"fas fa-trash-alt"})}),a.jsx("img",{src:t.url,alt:t.name})]})}),s&&a.jsx("button",{type:"button",className:"btn btn-success",onClick:y,children:"Subir"})]})})},j8=({onClose:t,initialTitulo:e,initialDescription:n})=>{const[r,i]=p.useState(""),[s,o]=p.useState(""),[l,c]=p.useState(!1),[u,d]=p.useState(!0),[h,f]=p.useState("");p.useEffect(()=>{f(e),i(e),o(n)},[e,n]);const m="Home/8Yl9xbZuRNFTUItTEKGU",y=v=>{const{name:g,value:w}=v.target;g==="titulo"?i(w):g==="descripcion"&&o(w)},_=()=>{c(!0),d(!1)},b=async v=>{v.preventDefault(),console.log(r,"TITULO"),console.log(s,"DESCRIPCION");const g={titulo:r,descripcion:s};try{await ut(m,g),console.log("Documento Home actualizado correctamente en Firebase.")}catch(w){console.error("Error al actualizar el documento de Home en Firebase:",w)}t()};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"container mt-5",children:[a.jsx("h1",{children:"Edición de la Página de Inicio:"}),a.jsx("div",{className:"container mt-5",children:a.jsxs("form",{onSubmit:b,className:"row",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"titulo",children:"Titulo"}),a.jsx("input",{type:"text",className:"form-control",id:"titulo",name:"titulo",value:r,onChange:y,placeholder:"Agrega un título",required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"descripcion-edit",className:"col-form-label",children:"Descripción"}),a.jsx("textarea",{className:"form-control",id:"descripcion-edit",name:"descripcion",value:s,onChange:y,rows:3,placeholder:"Agrega una descripción",required:!0})]})]}),a.jsxs("div",{className:"col-md-6 d-flex flex-column justify-content-between",children:[u&&a.jsx("div",{className:"text-start mb-5",children:a.jsx("button",{type:"button",className:"btn btn-success",onClick:_,children:"Cambiar Imagen"})}),l&&a.jsx(A8,{})]}),a.jsxs("div",{className:"container mt-5",children:[a.jsx("button",{type:"button",className:"btn btn-secondary mr-2",style:{marginRight:"50px"},onClick:t,children:"Cerrar"}),a.jsx("button",{type:"submit",className:"btn btn-primary ml-2",children:"Guardar Cambios"})]})]})})]})})},x1=["Masculino","Femenino","Otro"],Ip=["Común","Administrador"],D8={correo:"Correo Electrónico",cedula:"Cédula",telefono:"Teléfono",provincia:"Provincia",canton:"Cantón",distrito:"Distrito",direccion:"Dirección",fechaNacimiento:"Fecha de Nacimiento",genero:"Género",nombre:"Nombre",user_type:"Tipo de Usuario"},ZR=({pUsuario:t})=>{const e=Be(),n=Se(O=>O.auth.loggedIn);let r=null;t?r=t:r=Se(O=>O.auth.user);const i=Se(O=>O.paisInfo.datosPais),s={nombre:r.nombre,correo:r==null?void 0:r.correo,cedula:r==null?void 0:r.cedula,telefono:r==null?void 0:r.telefono,provincia:r==null?void 0:r.provincia,canton:r==null?void 0:r.canton,distrito:r==null?void 0:r.distrito,direccion:r==null?void 0:r.direccion,fechaNacimiento:r==null?void 0:r.fechaNacimiento,genero:r==null?void 0:r.genero,user_type:r.user_type},[o,l]=p.useState(!1),[c,u]=p.useState(s),[d,h]=p.useState(!1),[f,m]=p.useState(!1),[y,_]=p.useState([]),[b,v]=p.useState([]),[g,w]=p.useState([]),[E,x]=p.useState(""),[S,C]=p.useState(""),[I,j]=p.useState(""),[M,ee]=p.useState(""),fe=bn();p.useEffect(()=>{if(!n&&!r&&fe("/"),r&&i){const O=ag(i);if(_(O),i[r.provincia]&&i[r.provincia].cantones&&i[r.provincia].cantones[r.canton].distritos){const W=Nu(r.provincia,i);v(W);const X=Pu(i[r.provincia].cantones[r.canton].distritos);w(X)}}},[r,i,fe,ag,Nu,Pu]);const ne=(O,W)=>{x(O);const X=Nu(O,i);v(X),w([]),u({...c,[W]:O})},J=(O,W)=>{C(O);const X=Pu(i[E].cantones[O].distritos);w(X),u({...c,[W]:O,distrito:""})},he=O=>{const{name:W,value:X}=O.target;try{W==="user_type"&&ee(Ip[parseInt(X)]),W==="provincia"?ne(X,W):W==="canton"?J(X,W):(j(X),u({...c,[W]:X}))}catch{ne(r==null?void 0:r.provincia,W),J(X,W)}},ve=()=>{l(!0),u(s)},_e=()=>{l(!1),r&&u(s)},V=()=>{if(!Object.keys(s).some(X=>X==="correo"||X==="estado"||X==="user_type"?!1:s[X]!==c[X])){h(!0);return}if(!(c!=null&&c.cedula)||!(c!=null&&c.nombre)||!(c!=null&&c.canton)||I===""){m(!0);return}const W=/^[0-9]+$/;if(c.telefono&&!W.test(c.telefono)||c.cedula&&!W.test(c.cedula)){m(!0);return}h(!0)},z=()=>{m(!1)},K=()=>{e(Z3(c,c.correo,t)),l(!1),h(!1)},se=()=>{h(!1)},N=O=>Ip[O];return a.jsxs("div",{className:"container shadow-lg",children:[a.jsx("br",{}),!t&&a.jsx(a.Fragment,{children:a.jsx("h2",{children:"Mis Datos Personales"})}),t&&a.jsx(a.Fragment,{children:a.jsx("h2",{children:"Datos de la Cuenta"})}),a.jsx("br",{}),a.jsx("div",{className:"row",children:c&&Object.entries(c).map(([O,W])=>{if(O==="correo"||O==="estado")return null;if(O==="user_type"&&!t)return null;const X=D8[O]||O;if(O==="fechaNacimiento"){const Q=W instanceof Ce?W.toDate().toDateString():W.toString();console.log(W);const te=Q.split("-"),Ae=`${te[2]}/${te[1]}/${te[0]}`;return console.log(Ae),a.jsxs("div",{className:"col-md-3 mb-3",children:[a.jsx("label",{className:"form-label",children:X}),o?a.jsx("input",{title:"fecha-nacimiento",type:"date",name:O,value:W,onChange:he,className:"form-control"}):a.jsx("div",{className:"form-control",children:Ae})]},O)}return O==="provincia"||O==="canton"||O==="distrito"||O==="genero"||O==="user_type"?a.jsxs(a.Fragment,{children:[t&&a.jsxs("div",{className:"col-md-3 mb-3",children:[a.jsx("label",{className:"form-label",children:X}),o?a.jsxs("select",{title:"form-select",name:O,value:c[O],onChange:he,className:"form-select",children:[a.jsxs("option",{value:"",children:["Seleccionar ",X]}),O==="provincia"&&y.map((Q,te)=>a.jsx("option",{value:Q,children:Q},te)),O==="canton"&&b.map((Q,te)=>a.jsx("option",{value:Q,children:Q},te)),O==="distrito"&&g.map((Q,te)=>a.jsx("option",{value:Q,children:Q},te)),O==="genero"&&x1.map((Q,te)=>a.jsx("option",{value:Q,children:Q},te)),O==="user_type"&&Ip.map((Q,te)=>a.jsx("option",{value:te,selected:c.user_type===te,children:Q},te))]}):a.jsx("div",{className:"form-control",children:O==="user_type"?N(c.user_type):W})]},O),!t&&a.jsxs("div",{className:"col-md-3 mb-3",children:[a.jsx("label",{className:"form-label",children:X}),o?a.jsxs("select",{title:"form-select",name:O,value:c[O],onChange:he,className:"form-select",children:[a.jsxs("option",{value:"",children:["Seleccionar ",X]}),O==="provincia"&&y.map((Q,te)=>a.jsx("option",{value:Q,children:Q},te)),O==="canton"&&b.map((Q,te)=>a.jsx("option",{value:Q,children:Q},te)),O==="distrito"&&g.map((Q,te)=>a.jsx("option",{value:Q,children:Q},te)),O==="genero"&&x1.map((Q,te)=>a.jsx("option",{value:Q,children:Q},te))]}):a.jsx("div",{className:"form-control",children:W})]},O)]}):a.jsxs("div",{className:"col-md-3 mb-3",children:[a.jsx("label",{className:"form-label",children:X}),o?a.jsx("input",{title:"contraseña",type:"text",name:O,value:c[O],onChange:he,className:"form-control"}):a.jsx("div",{className:"form-control",children:W})]},O)})}),a.jsx("div",{className:"button-container",children:o?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:_e,className:"btn btn-secondary me-2",children:"Cancelar"}),a.jsx("button",{onClick:V,className:"btn btn-success",children:"Guardar"})]}):a.jsx("button",{onClick:ve,className:"btn btn-primary me-2",children:"Editar"})}),a.jsx(Ll,{texto:"Por favor, complete todos los campos obligatorios.",mostrar:f,onConfirm:z}),a.jsx(Ll,{texto:"¿Está seguro que desea guardar los cambios?",mostrar:d,onClose:se,onConfirm:K}),a.jsx("br",{})]})},O8=({mostrar:t,onClose:e})=>a.jsx(a.Fragment,{children:t&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"modal-backdrop fade show"}),a.jsx("div",{className:"modal d-block",tabIndex:-1,style:{display:"block"},children:a.jsxs("div",{className:"modal-dialog modal-dialog-centered modal-lg modal-xl",children:[" ",a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Nuevo Usuario"}),e&&a.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),a.jsx("div",{className:"modal-body",children:a.jsx(bR,{})}),a.jsx("div",{className:"modal-footer",children:e&&a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cerrar"})})]})]})})]})}),L8=({mostrar:t,onClose:e,usuario:n})=>a.jsx(a.Fragment,{children:t&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"modal-backdrop fade show"}),a.jsx("div",{className:"modal d-block",tabIndex:-1,style:{display:"block"},children:a.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg modal-xl",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Perfil de Usuario a Editar:"}),e&&a.jsx("button",{title:"btn-close",type:"button",className:"btn-close",onClick:e})]}),a.jsx("div",{className:"modal-body",children:a.jsx(ZR,{pUsuario:n})}),a.jsx("div",{className:"modal-footer",children:e&&a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Cerrar"})})]})})})]})});function $8({id:t,getUsers:e}){const n=async()=>{const r=await gr("Cursos"),i=await gc(`/Usuarios/${t}`),s=r;var o=!1;for(let l=0;l<s.length;l++){const c=s[l];if(c.matriculados&&c.matriculados.length>0&&c.matriculados.includes(t)){o=!0;break}if(c.aprobados&&c.aprobados.length>0&&c.aprobados.includes(t)){o=!0;break}if(c.reprobados&&c.reprobados.length>0&&c.reprobados.includes(t)){o=!0;break}if(c.postulados&&c.postulados.length>0&&c.postulados.includes(t)){o=!0;break}}i&&(i&&o===!1?(await _c(`/Usuarios/${t}`),e(1),setTimeout(()=>{Pt("delete-modal-user")},500)):setTimeout(()=>{Pt("unable-to-delete-modal-user")},500))};return a.jsxs(a.Fragment,{children:[a.jsx(ER,{id:`user-section-modal-delete-${t}`,buttonStyle:"btn btn-danger",modalTitle:"Notificación",buttonName:a.jsx(r_,{}),modalName:"Eliminar",body:"¿Está seguro que desea eliminar este Usuario?",secondaryButtonText:"Cancelar",primaryButtonText:"Aceptar",classSecondaryButton:"btn btn-secondary",classPrimaryButton:"btn btn-danger",functionButtonOption:()=>{n()}}),a.jsx(Nt,{id:"delete-modal-user",message:"¡Usuario eliminado con éxito!",title:"Sección de avisos"}),a.jsx(Nt,{id:"unable-to-delete-modal-user",message:"¡El usuario seleccionado posee cursos matriculados y no puede ser borrado!",title:"Sección de avisos"})]})}const M8=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[i,s]=p.useState(""),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(null),[f,m]=p.useState(""),[y,_]=p.useState(!0),[b,v]=p.useState(!1),[g,w]=p.useState(null),[E,x]=p.useState(!1),[S,C]=p.useState(0),[I,j]=p.useState({}),[M,ee]=p.useState(1),[fe,ne]=p.useState(5),J=bn(),he=Se(k=>k.auth.user),ve=Se(k=>k.auth.loggedIn),_e=[{name:"Nombre",selector:k=>k.nombre,sortable:!0},{name:"Cédula",selector:k=>k.cedula,sortable:!0},{name:"Télefono",selector:k=>k.telefono,sortable:!0},{name:"Correo",selector:k=>k.correo,sortable:!0,width:"250px"},{name:"Estado",cell:k=>a.jsx("div",{className:"form-check form-switch",children:a.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",checked:k.estado,onChange:()=>X(k)})}),width:"5vw"},{name:"Acciones",cell:k=>a.jsxs("div",{className:"d-flex",children:[a.jsx("button",{className:"btn btn-primary",onClick:()=>W(k),title:"Ver",children:a.jsx(Q6,{})}),a.jsx("button",{className:"btn btn-warning mx-3",onClick:()=>W(k),title:"Editar",children:a.jsx(vR,{})}),a.jsx($8,{id:k.id,getUsers:()=>z(1)})]})}];p.useEffect(()=>{z(M),V(),!ve&&!he&&J("/ucag-admin/")},[ve,he,J,M,fe]),p.useEffect(()=>{if(b){const k=t.filter(D=>{const P=D[f];if(typeof P=="string")return P.toLowerCase().includes(i.toLowerCase())});e(k),v(!b)}i==""&&e(n)},[i,f,b]);const V=async()=>{const k=await gr("Usuarios");C(k.length)},z=async k=>{x(!0);let D=I[k];const{dataList:P,newLastVisible:Y}=await Zo("Usuarios",fe,D);P.length>0?(w(Y),j(oe=>({...oe,[k+1]:Y}))):w(null);var q=[];q=P.map(oe=>({nombre:oe.nombre,id:oe.id,canton:oe.canton,cedula:oe.cedula,correo:oe.correo,direccion:oe.direccion,distrito:oe.distrito,estado:oe.estado,fechaNacimiento:oe.fechaNacimiento,genero:oe.genero,provincia:oe.provincia,telefono:oe.telefono,user_type:oe.user_type})),q.sort((oe,je)=>oe.nombre.localeCompare(je.nombre,"en",{sensitivity:"base"})),r(q),e(q),x(!1)},K=()=>{l(!0)},se=()=>{l(!1)},N=()=>{u(!0)},O=()=>{u(!1)},W=k=>{console.log("Button clicked for:",k),N(),h(k)};function X(k){ut(`/Usuarios/${k.id}`,{estado:k.estado===0?1:0}),z(1)}const Q=k=>{m(k.target.value),y&&_(!y)};function te(k){k.key==="Enter"&&v(!b)}const Ae=k=>{ee(k)},R=(k,D)=>{ne(k),ee(D)};return a.jsxs("div",{style:{top:"18%",left:"10%",right:"10%",bottom:"10%"},children:[a.jsxs("div",{className:"shadow-lg p-3",children:[a.jsx("h2",{className:"text-secondary mb-0 pt-3 ps-2 ",children:"Listado General de Usuarios"}),a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsx("div",{className:"d-flex",children:a.jsx("button",{className:"btn btn-success py-0 ms-2 mt-3 shadow",style:{height:"35px"},onClick:K,children:"Crear Usuario"})}),a.jsxs("div",{className:"d-flex",children:[a.jsx("div",{className:"mt-3 mx-2",children:a.jsxs("select",{className:"form-select border border-secondary shadow","aria-label":"Default select example",onChange:Q,children:[a.jsx("option",{hidden:!0,children:"Seleccione un filtro"}),a.jsx("option",{value:"nombre",children:"Nombre"}),a.jsx("option",{value:"cedula",children:"Cédula"}),a.jsx("option",{value:"telefono",children:"Teléfono"}),a.jsx("option",{value:"correo",children:"Correo"})]})}),a.jsx("div",{className:"",children:a.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 me-2 border border-secondary shadow",placeholder:"Buscar",value:i,disabled:y,onChange:k=>{s(k.target.value)},onKeyDown:te})})]})]}),a.jsx(ra,{columns:_e,data:t,onChangePage:Ae,onChangeRowsPerPage:R,paginationTotalRows:S,paginationPerPage:fe,progressPending:E})]}),a.jsx(O8,{mostrar:o,onClose:se}),a.jsx(L8,{mostrar:c,onClose:O,usuario:d})]})},F8=()=>{const t=Se(r=>r.auth.user),e=Se(r=>r.auth.loggedIn),n=bn();return p.useEffect(()=>{!e&&!t&&n("/")},[e,t,n]),a.jsxs("div",{children:[a.jsx("h2",{className:"text-secondary mb-0 pt-3 ps-2 ",children:"Gestión de Matrículas"}),a.jsx(V8,{})]})};function h_(t){return jn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(t)}const V8=()=>{const[t,e]=p.useState(!1),[n,r]=p.useState(""),[i,s]=p.useState(""),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,h]=p.useState([]),[f,m]=p.useState([]),[y,_]=p.useState(""),[b,v]=p.useState(""),[g,w]=p.useState(!0),[E,x]=p.useState(!1),[S,C]=p.useState(null),[I,j]=p.useState(0),[M,ee]=p.useState({}),[fe,ne]=p.useState(1),[J,he]=p.useState(5),[ve,_e]=p.useState(!1),V=bn(),z=[{name:"Postulados",selector:R=>R.postulados.length,cell:R=>a.jsx("div",{className:"text-start",children:R.postulados.length}),sortable:!0},{name:"Nombre",selector:R=>R.nombre,cell:R=>a.jsx("div",{className:"text-start",children:R.nombre}),sortable:!0},{name:"Horario",selector:R=>R.horario,cell:R=>a.jsx("div",{className:"text-start",children:R.horario.map((k,D)=>a.jsxs("div",{children:[k.dia,": ",k.hora]},D))}),sortable:!0},{name:"Fecha Inicio",selector:R=>{R.fecha_inicio},cell:R=>{if(R.fecha_inicio&&typeof R.fecha_inicio.toDate=="function"){const k=R.fecha_inicio.toDate(),D=k.getDate(),P=k.getMonth()+1,Y=k.getFullYear();return a.jsx("div",{children:`${D}/${P}/${Y}`})}else return a.jsx("div",{children:"Cargando..."})},sortable:!0},{name:"Fecha Fin",selector:R=>{R.fecha_finalizacion},cell:R=>{if(R.fecha_finalizacion&&typeof R.fecha_finalizacion.toDate=="function"){const k=R.fecha_finalizacion.toDate(),D=k.getDate(),P=k.getMonth()+1,Y=k.getFullYear();return a.jsx("div",{children:`${D}/${P}/${Y}`})}else return a.jsx("div",{children:"Cargando..."})},sortable:!0},{name:"Modalidad",selector:R=>R.modalidad,cell:R=>{let k="";switch(R.modalidad){case 0:k="Presencial";break;case 1:k="Virtual";break;case 2:k="Mixta";break;default:k="Desconocida"}return a.jsx("div",{children:`${k}`})},sortable:!0},{name:"Gestionar",cell:R=>a.jsx("button",{className:"btn btn-primary",onClick:()=>se(R.id,R.nombre,R.postulados,R.matriculados),children:a.jsx("i",{className:"fa-solid fa-users"})})}];p.useEffect(()=>{K(fe),Q()},[fe,J]);const K=async R=>{_e(!0);let k=M[R];const{dataList:D,newLastVisible:P}=await Zo("Cursos",J,k);D.length>0?(C(P),ee($e=>({...$e,[R+1]:P}))):C(null);const Y=D,q={};Y.forEach($e=>{$e.id&&(q[$e.id]=$e.postulados.length)});const je=Y.filter($e=>$e.fechaCreacion!==void 0).sort(($e,me)=>me.fechaCreacion.toMillis()-$e.fechaCreacion.toMillis());h(je),m(je),_e(!1)},se=(R,k,D,P)=>{l(D),r(R),s(k),u(P),e(!0)},N=()=>{m(d),e(!1)};p.useEffect(()=>{if(E){const R=d.filter(k=>{const D=k[b];if(typeof D=="string")return D.toLowerCase().includes(y.toLowerCase());if(typeof D=="number"){let P="";switch(D){case 0:P="presencial";break;case 1:P="virtual";break;case 2:P="mixta";break;default:return!1}return P.includes(y.toLowerCase())}});m(R),x(!E)}y.trim()===""&&m(d)},[y,d,E,J]);const O=()=>{V("/Cursos")},W=R=>{v(R.target.value),g&&w(!g)};function X(R){R.key==="Enter"&&x(!E)}const Q=async()=>{const R=await gr("Cursos");j(R.length)},te=R=>{ne(R)},Ae=(R,k)=>{he(R),ne(k)};return a.jsx("div",{children:t?a.jsx(tz,{onRegresarClick:N,idCurso:n,nombreCurso:i,usuariosInteresados:o,matriculados:c}):a.jsxs(a.Fragment,{children:[a.jsx("h5",{className:"text-muted pt-4",children:"Lista de Cursos"}),a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsxs("button",{className:"btn btn-outline-primary mt-3 ",onClick:O,children:[a.jsx(h_,{})," Volver"]}),a.jsxs("div",{className:"d-flex",children:[a.jsx("div",{className:"mt-3 mx-2",children:a.jsxs("select",{className:"form-select border border-secondary shadow","aria-label":"Default select example",onChange:W,children:[a.jsx("option",{hidden:!0,children:"Seleccione un filtro"}),a.jsx("option",{value:"nombre",children:"Nombre"}),a.jsx("option",{value:"modalidad",children:"Modalidad"})]})}),a.jsx("div",{children:a.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 me-2 border border-primary shadow-lg",placeholder:"Buscar",value:y,disabled:g,onChange:R=>{_(R.target.value)},onKeyDown:X})})]})]}),a.jsx(ra,{columns:z,data:f,onChangePage:te,onChangeRowsPerPage:Ae,paginationTotalRows:I,paginationPerPage:J,progressPending:ve})]})})};class wc{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const U8=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},St={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:U8()},f_=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},z8=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=f_(t);St.publicKey=n.publicKey,St.blockHeadless=n.blockHeadless,St.storageProvider=n.storageProvider,St.blockList=n.blockList,St.limitRate=n.limitRate,St.origin=n.origin||e},ek=async(t,e,n={})=>{const r=await fetch(St.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new wc(r.status,i);if(r.ok)return s;throw s},tk=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},B8=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},nk=t=>t.webdriver||!t.languages||t.languages.length===0,rk=()=>new wc(451,"Unavailable For Headless Browser"),H8=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},W8=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},q8=(t,e)=>t instanceof FormData?t.get(e):t[e],ik=(t,e)=>{if(W8(t))return!1;H8(t.list,t.watchVariable);const n=q8(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},sk=()=>new wc(403,"Forbidden"),G8=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a string"},K8=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},ok=async(t,e,n)=>{if(!e.throttle||!n)return!1;G8(e.throttle,e.id);const r=e.id||t;return await K8(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},ak=()=>new wc(429,"Too Many Requests"),Q8=async(t,e,n,r)=>{const i=f_(r),s=i.publicKey||St.publicKey,o=i.blockHeadless||St.blockHeadless,l=St.storageProvider||i.storageProvider,c={...St.blockList,...i.blockList},u={...St.limitRate,...i.limitRate};return o&&nk(navigator)?Promise.reject(rk()):(tk(s,t,e),B8(n),n&&ik(c,n)?Promise.reject(sk()):await ok(location.pathname,u,l)?Promise.reject(ak()):ek("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},Y8=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},X8=t=>typeof t=="string"?document.querySelector(t):t,J8=async(t,e,n,r)=>{const i=f_(r),s=i.publicKey||St.publicKey,o=i.blockHeadless||St.blockHeadless,l=St.storageProvider||i.storageProvider,c={...St.blockList,...i.blockList},u={...St.limitRate,...i.limitRate};if(o&&nk(navigator))return Promise.reject(rk());const d=X8(n);tk(s,t,e),Y8(d);const h=new FormData(d);return ik(c,h)?Promise.reject(sk()):await ok(location.pathname,u,l)?Promise.reject(ak()):(h.append("lib_version","4.3.3"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",s),ek("/api/v1.0/email/send-form",h))},lk={init:z8,send:Q8,sendForm:J8,EmailJSResponseStatus:wc},Z8=(t,e,n)=>{const r="service_dkr0wxb",i="template_matricula_a",s="d2Zek1yZFLVAozcHY",o={user_email:e,user_name:t,message:"Si tiene dudas, contáctese con el equipo de la Unión Cantonal de Guatuso",nombre_curso:n};return new Promise((l,c)=>{lk.send(r,i,o,s).then(()=>{console.log("MSJ DE CORREO ENVIADO EXITOSAMENTE"),l(!0)},u=>{console.log("FAILED... NO SE PUDO MANDAR EL MSJ DE CORREO",u.text),c(!1)})})},S1=(t,e,n)=>{const r="service_dkr0wxb",i="template_matricula_r",s="d2Zek1yZFLVAozcHY",o={user_email:e,user_name:t,message:"Si tiene dudas, contáctese con el equipo de la Unión Cantonal de Guatuso",nombre_curso:n};return new Promise((l,c)=>{lk.send(r,i,o,s).then(()=>{console.log("MSJ DE CORREO ENVIADO EXITOSAMENTE"),l(!0)},u=>{console.log("FAILED... NO SE PUDO MANDAR EL MSJ DE CORREO",u.text),c(!1)})})},ez=({mostrar:t,onClose:e,usuario:n,usuariosMatriculados:r,idCurso:i,nombreCurso:s,onUpdateMatriculados:o})=>{const l=Be(),c=Se(j=>j.cursos.cursos),[u,d]=p.useState(!1);p.useEffect(()=>{(async()=>await l(ts()))(),u&&((async()=>await l(ts()))(),d(!1))},[l,u]);const h=`Cursos/${i}`,[f,m]=p.useState(!1),[y,_]=p.useState(""),[b,v]=p.useState(!1),[g,w]=p.useState([]);p.useEffect(()=>{const j=c.find(ee=>ee.id===i);console.log({cursoActual:j});const M=j==null?void 0:j.matriculados;console.log({listaMatriculados:M}),console.log({usuariosMatriculados:r}),console.log({coursesRedux:c}),w(r)},[r]);const E=(n==null?void 0:n.id)&&g.includes(n.id),x=async()=>{v(!0);try{const j=[...g,n.id];await ut(h,{matriculados:j}),m(!0),await Z8(n.nombre,n.correo,s),setTimeout(()=>{w(j),o(j),d(!0)},3e3)}catch(j){console.error("Error al actualizar matriculados en Firebase:",j)}setTimeout(()=>{m(!1),v(!1),e()},2500)},S=async()=>{if(confirm("¿Está seguro de desmatricular/rechazar al usuario?")){if(v(!0),!g.includes(n.id)){console.warn("El usuario no está matriculado, no es necesario rechazarlo."),v(!1),e(),await S1(n.nombre,n.correo,s);return}try{const M=g.filter(ee=>ee!==n.id);await ut(h,{matriculados:M}),w(M),_("Se ha desmatriculado el usuario."),o(M)}catch(M){console.error("Error al actualizar matriculados en Firebase:",M)}setTimeout(async()=>{await S1(n.nombre,n.correo,s),_(""),d(!0),v(!1),e()},2e3)}},C=async()=>{e()},I=()=>{m(!1)};return a.jsx(a.Fragment,{children:t&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"modal-backdrop fade show"}),a.jsx("div",{className:"modal d-block",tabIndex:-1,style:{display:"block"},children:a.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:a.jsxs("div",{className:"modal-content",children:[y&&a.jsx("div",{className:"alert alert-success mt-2",children:y}),a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Detalles del aspirante a Matricular"}),e&&a.jsx("button",{type:"button",className:"btn-close",onClick:e,"aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Nombre:"})," ",n.nombre]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Cédula:"})," ",n.cedula]})]}),a.jsxs("div",{className:"col",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Teléfono:"})," ",n.telefono]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Correo:"})," ",n.correo]})]})]}),a.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"bold",color:E?"green":"red"},children:E?"Usuario ya se encuentra matriculado":"Usuario no se encuentra matriculado"})]}),a.jsx("div",{className:"modal-footer",children:E?a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:C,children:"Cerrar"}),a.jsx("button",{type:"button",className:"btn btn-danger",onClick:S,disabled:b,children:"Desmatricular"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-danger",onClick:S,disabled:b,children:"Rechazar"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:x,disabled:b,children:"Matricular"})]})})]})})}),a.jsx(Ll,{texto:"Se ha matriculado el usuario.",mostrar:f,onConfirm:I})]})})},tz=({onRegresarClick:t,idCurso:e,nombreCurso:n,usuariosInteresados:r,matriculados:i})=>{const[s,o]=p.useState([]),[l,c]=p.useState(!1),[u,d]=p.useState(null),[h,f]=p.useState([]),[m,y]=p.useState(""),[_,b]=p.useState(i),[v,g]=p.useState(""),[w,E]=p.useState(!0),[x,S]=p.useState(!1),[C,I]=p.useState(null),[j,M]=p.useState(!1),[ee,fe]=p.useState(0),[ne,J]=p.useState({}),[he,ve]=p.useState(1),[_e,V]=p.useState(10),z=[{name:"Nombre",selector:D=>D.nombre,sortable:!0,width:"15vw"},{name:"Correo",selector:D=>D.correo,sortable:!0},{name:"Hora de Solicitud",selector:D=>D.hora_solicitud.toLocaleString(),sortable:!0},{name:"Estado",cell:D=>a.jsx("span",{style:{color:_.includes(D.id)?"green":"red"},children:_.includes(D.id)?a.jsx(yR,{color:"green"}):a.jsx(wR,{color:"red"})}),sortable:!0,sortFunction:(D,P)=>{const Y=_.includes(D.id),q=_.includes(P.id);return Y&&!q?-1:!Y&&q?1:0},width:"10vw"},{name:"Detalles",cell:D=>a.jsx("button",{className:"btn btn-primary",onClick:()=>O(D),children:a.jsx("i",{className:"fa-regular fa-eye"})}),width:"8vw"}];p.useEffect(()=>{K(he),Ae()},[he,_e]),p.useEffect(()=>{if(x){const D=s.filter(P=>{const Y=P[v];if(typeof Y=="string")return Y.toLowerCase().includes(m.toLowerCase())});f(D),S(!x)}m.trim()===""&&f(s)},[m,s,x]);const K=async D=>{M(!0);let P=ne[D];const{dataList:Y,newLastVisible:q}=await Zo("Usuarios",_e,P);Y.length>0?(I(q),J(me=>({...me,[D+1]:q}))):I(null);const oe=Y.filter(me=>r.some(Qn=>Qn.id===me.id));console.log("Interesados",r.length),console.log("filtrados",oe.length);const $e=oe.map(me=>{var Qn;return{id:me.id,nombre:me.nombre,cedula:me.cedula,telefono:me.telefono,correo:me.correo,hora_solicitud:((Qn=r.find(ht=>ht.id===me.id))==null?void 0:Qn.hora_solicitud.toDate())||new Date}}).map(me=>({...me,hora_solicitud:me.hora_solicitud.toLocaleDateString("es-ES",{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}));o($e),M(!1)},se=()=>{c(!1)},N=()=>{c(!0)},O=D=>{N(),d(D)},W=D=>{b(D)},X=()=>{t()},Q=D=>{g(D.target.value),w&&E(!w)};function te(D){D.key==="Enter"&&S(!x)}const Ae=async()=>{const P=(await gr("Usuarios")).filter(Y=>r.some(q=>q.id===Y.id));fe(P.length)},R=D=>{ve(D)},k=(D,P)=>{V(D),ve(P)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("h5",{className:"text-muted pt-4",children:["Interesados en el curso: ",n]}),a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsxs("button",{className:"btn btn-outline-primary mt-3 ",onClick:X,children:[a.jsx(h_,{})," Volver"]}),a.jsxs("div",{className:"d-flex",children:[a.jsx("div",{className:"mt-3 mx-2",children:a.jsxs("select",{className:"form-select border border-secondary shadow","aria-label":"Default select example",onChange:Q,children:[a.jsx("option",{hidden:!0,children:"Seleccione un filtro"}),a.jsx("option",{value:"nombre",children:"Nombre"}),a.jsx("option",{value:"correo",children:"Correo"})]})}),a.jsx("div",{children:a.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 me-2 border border-primary shadow-lg",placeholder:"Buscar",value:m,disabled:w,onChange:D=>{y(D.target.value)},onKeyDown:te})})]})]}),a.jsx(ra,{columns:z,data:h,onChangePage:R,onChangeRowsPerPage:k,paginationTotalRows:ee,paginationPerPage:_e,progressPending:j})]}),a.jsx(ez,{mostrar:l,onClose:se,usuario:u,usuariosMatriculados:i,idCurso:e,nombreCurso:n,onUpdateMatriculados:W})]})},nz=()=>{const t=Se(r=>r.auth.user),e=Se(r=>r.auth.loggedIn),n=bn();return p.useEffect(()=>{!e&&!t&&n("/")},[e,t,n]),a.jsxs("div",{children:[a.jsx("h2",{className:"text-secondary mb-0 pt-3 ps-2",children:"Gestión de Aprobaciones de Estudiantes"}),a.jsx(rz,{})]})},rz=()=>{const t=Se(P=>P.cursos.cursos),[e,n]=p.useState(!1),[r,i]=p.useState(""),[s,o]=p.useState(""),[l,c]=p.useState([]),[u,d]=p.useState([]),[h,f]=p.useState([]),[m,y]=p.useState([]),[_,b]=p.useState([]),[v,g]=p.useState(""),[w,E]=p.useState(""),[x,S]=p.useState(!0),[C,I]=p.useState(!1),[j,M]=p.useState(!1),[ee,fe]=p.useState(null),[ne,J]=p.useState(0),[he,ve]=p.useState({}),[_e,V]=p.useState(1),[z,K]=p.useState(5),se=bn();p.useEffect(()=>{O(_e),X()},[_e,z]);const N=[{name:"Alumnos",selector:P=>{var Y;return((Y=P.matriculados)==null?void 0:Y.length)||0},cell:P=>{var Y;return a.jsx("div",{className:"text-start",children:((Y=P.matriculados)==null?void 0:Y.length)||0})},sortable:!0},{name:"Nombre",selector:P=>P.nombre,cell:P=>a.jsx("div",{className:"text-start",children:P.nombre}),sortable:!0},{name:"Horario",cell:P=>a.jsx("div",{className:"text-start",children:P.horario.map((Y,q)=>a.jsxs("div",{children:[Y.dia,": ",Y.hora]},q))})},{name:"Fecha Inicio",selector:P=>{P.fecha_inicio},cell:P=>{if(P.fecha_inicio&&typeof P.fecha_inicio.toDate=="function"){const Y=P.fecha_inicio.toDate(),q=Y.getDate(),oe=Y.getMonth()+1,je=Y.getFullYear();return a.jsx("div",{children:`${q}/${oe}/${je}`})}else return a.jsx("div",{children:"Cargando..."})},sortable:!0},{name:"Fecha Fin",selector:P=>{P.fecha_finalizacion},cell:P=>{if(P.fecha_finalizacion&&typeof P.fecha_finalizacion.toDate=="function"){const Y=P.fecha_finalizacion.toDate(),q=Y.getDate(),oe=Y.getMonth()+1,je=Y.getFullYear();return a.jsx("div",{children:`${q}/${oe}/${je}`})}else return a.jsx("div",{children:"Cargando..."})},sortable:!0},{name:"Modalidad",selector:P=>P.modalidad,cell:P=>{let Y="";switch(P.modalidad){case 0:Y="Presencial";break;case 1:Y="Virtual";break;case 2:Y="Mixta";break;default:Y="Desconocida"}return a.jsx("div",{children:Y})},sortable:!0},{name:"Gestionar",cell:P=>a.jsx("button",{className:"btn btn-primary",onClick:()=>W(P.id,P.nombre,P.matriculados,P.aprobados,P.reprobados),children:a.jsx("i",{className:"fa-solid fa-users"})})}],O=async P=>{M(!0);let Y=he[P];const{dataList:q,newLastVisible:oe}=await Zo("Cursos",z,Y);q.length>0?(fe(oe),ve(ht=>({...ht,[P+1]:oe}))):fe(null);const je=q,$e={};je.forEach(ht=>{ht.id&&($e[ht.id]=ht.postulados.length)});const Qn=je.filter(ht=>ht.fechaCreacion!==void 0).sort((ht,Jt)=>Jt.fechaCreacion.toMillis()-ht.fechaCreacion.toMillis());b(Qn),y(Qn),M(!1)},W=(P,Y,q,oe,je)=>{i(P),o(Y),c(q),d(oe),f(je),n(!0)},X=async()=>{const P=await gr("Cursos");J(P.length)},Q=()=>{y(_),n(!1)};p.useEffect(()=>{if(C){const P=_.filter(Y=>{const q=Y[w];if(typeof q=="string")return q.toLowerCase().includes(v.toLowerCase());if(typeof q=="number"){let oe="";switch(q){case 0:oe="presencial";break;case 1:oe="virtual";break;case 2:oe="mixta";break;default:return!1}return oe.includes(v.toLowerCase())}return!1});y(P),I(!C)}v.trim()===""&&y(_)},[v,t,C]);const te=()=>{se("/Cursos")},Ae=P=>{E(P.target.value),x&&S(!x)};function R(P){P.key==="Enter"&&I(!C)}const k=P=>{V(P)},D=(P,Y)=>{K(P),V(Y)};return a.jsx("div",{children:e?a.jsx(iz,{onRegresarClick:Q,nombreCurso:s,matriculados:l,aprobados:u,reprobados:h,idCurso:r}):a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsx("h5",{className:"text-muted pt-4",children:"Lista de Cursos"})}),a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsxs("button",{className:"btn btn-outline-primary mt-3 ",onClick:te,children:[a.jsx(h_,{})," Volver"]}),a.jsxs("div",{className:"d-flex",children:[a.jsx("div",{className:"mt-3 mx-2",children:a.jsxs("select",{className:"form-select border border-secondary shadow","aria-label":"Default select example",onChange:Ae,children:[a.jsx("option",{hidden:!0,children:"Seleccione un filtro"}),a.jsx("option",{value:"nombre",children:"Nombre"}),a.jsx("option",{value:"modalidad",children:"Modalidad"})]})}),a.jsx("div",{children:a.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 me-2 border border-primary shadow-lg",placeholder:"Buscar",value:v,disabled:x,onChange:P=>{g(P.target.value)},onKeyDown:R})})]})]}),a.jsx(ra,{columns:N,data:m,paginationPerPage:z,paginationTotalRows:ne,onChangePage:k,onChangeRowsPerPage:D,progressPending:j})]})})},iz=({onRegresarClick:t,nombreCurso:e,matriculados:n,idCurso:r,aprobados:i,reprobados:s})=>{const[o,l]=p.useState([]),[c,u]=p.useState(!1),[d,h]=p.useState(null),[f,m]=p.useState([]),[y,_]=p.useState(""),[b,v]=p.useState(i),[g,w]=p.useState(s),[E,x]=p.useState(""),[S,C]=p.useState(!0),[I,j]=p.useState(!1),[M,ee]=p.useState(null),[fe,ne]=p.useState(!1),[J,he]=p.useState(0),[ve,_e]=p.useState({}),[V,z]=p.useState(1),[K,se]=p.useState(5),N=[{name:"Nombre",selector:q=>q.nombre,sortable:!0,width:"13vw"},{name:"Cédula",selector:q=>q.cedula,sortable:!0,width:"15vw"},{name:"Correo",selector:q=>q.correo,sortable:!0,width:"25vw"},{name:"Estado",cell:q=>{const oe=b.includes(q.id),je=g.includes(q.id);let $e,me="gray";return oe?(me="green",$e=a.jsx(yR,{color:"green"})):je?($e=a.jsx(wR,{color:"red"}),me="red"):$e="?",a.jsx("span",{style:{color:me},children:$e})},width:"16vw"},{name:"Detalles",cell:q=>a.jsx("button",{className:"btn btn-primary",onClick:()=>Q(q),children:a.jsx("i",{className:"fa-regular fa-eye"})}),width:"8vw"}];p.useEffect(()=>{O(V)},[V,K]),p.useEffect(()=>{if(I){const q=o.filter(oe=>{const je=oe[E];if(typeof je=="string")return je.toLowerCase().includes(y.toLowerCase())});m(q),j(!I)}y.trim()===""&&m(o)},[y,o,I]);const O=async q=>{ne(!0);let oe=ve[q];const{dataList:je,newLastVisible:$e}=await Zo("Usuarios",K,oe);je.length>0?(ee($e),_e(Jt=>({...Jt,[q+1]:$e}))):ee(null);const ht=je.filter(Jt=>n.includes(Jt.id)).map(Jt=>({id:Jt.id,nombre:Jt.nombre,cedula:Jt.cedula,telefono:Jt.telefono,correo:Jt.correo}));l(ht),ne(!1)},W=()=>{u(!1)},X=()=>{u(!0)},Q=q=>{X(),h(q)},te=q=>{v(q)},Ae=q=>{w(q)},R=()=>{t()},k=q=>{x(q.target.value),S&&C(!S)};function D(q){q.key==="Enter"&&j(!I)}const P=q=>{z(q)},Y=(q,oe)=>{se(q),z(oe)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("h5",{className:"text-muted pt-4",children:["Usuarios matriculados en el curso de: ",e]}),a.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[a.jsxs("button",{className:"btn btn-outline-primary mt-3 ",onClick:R,children:[a.jsx(gR,{})," Volver"]}),a.jsxs("div",{className:"d-flex",children:[a.jsx("div",{className:"mt-3 mx-2",children:a.jsxs("select",{className:"form-select border border-secondary shadow","aria-label":"Default select example",onChange:k,children:[a.jsx("option",{hidden:!0,children:"Seleccione un filtro"}),a.jsx("option",{value:"nombre",children:"Nombre"}),a.jsx("option",{value:"cedula",children:"Cédula"}),a.jsx("option",{value:"correo",children:"Correo"})]})}),a.jsx("div",{children:a.jsx("input",{type:"text",className:"form-control bg-light text-dark mt-3 me-2 border border-primary shadow-lg",placeholder:"Buscar",value:y,disabled:S,onChange:q=>{_(q.target.value)},onKeyDown:D})})]})]}),a.jsx(ra,{columns:N,data:f,onChangePage:P,onChangeRowsPerPage:Y,paginationTotalRows:J,paginationPerPage:K,progressPending:fe})]}),a.jsx(sz,{mostrar:c,onClose:W,usuario:d,idCurso:r,nombreCurso:e,usuariosAprobados:i,usuariosReprobados:s,onUpdateAprobados:te,onUpdateReprobados:Ae})]})},sz=({mostrar:t,onClose:e,usuario:n,usuariosAprobados:r,usuariosReprobados:i,idCurso:s,nombreCurso:o,onUpdateAprobados:l,onUpdateReprobados:c})=>{const u=Be(),d=Se(J=>J.cursos.cursos),[h,f]=p.useState(!1);p.useEffect(()=>{(async()=>await u(ts()))(),h&&((async()=>await u(ts()))(),f(!1))},[u,h]);const m=`Cursos/${s}`,[y,_]=p.useState(!1),[b,v]=p.useState(""),[g,w]=p.useState(!1),[E,x]=p.useState([]),[S,C]=p.useState([]);p.useEffect(()=>{const J=d.find(_e=>_e.id===s);console.log({cursoActual:J});const he=J==null?void 0:J.aprobados;console.log({listaAprobados:he});const ve=J==null?void 0:J.reprobados;console.log({listaReprobados:ve}),x(r),C(i)},[r,i]);const I=(n==null?void 0:n.id)&&E.includes(n.id),j=(n==null?void 0:n.id)&&S.includes(n.id),M=async()=>{if(w(!0),j&&confirm("¿Está seguro de Aprobar al usuario?"))try{const he=S.filter(ve=>ve!==n.id);await ut(m,{reprobados:he}),C(he),c(he)}catch(he){console.error("(Caso: Alumno anteriormente Reprobado): Error al Aprobar alumno en Firebase:",he)}try{const J=[...E,n.id];await ut(m,{aprobados:J}),_(!0),setTimeout(()=>{x(J),l(J),f(!0)},3e3)}catch(J){console.error("Error al actualizar aprobados en Firebase:",J)}setTimeout(()=>{_(!1),w(!1),e()},2500)},ee=async()=>{if(w(!0),I&&confirm("¿Está seguro de Reprobar al usuario?"))try{const he=E.filter(ve=>ve!==n.id);await ut(m,{aprobados:he}),x(he),l(he)}catch(he){console.error("(Caso: Alumno anteriormente Aprobado): Error al reprobar alumno en Firebase:",he)}try{const J=[...S,n.id];await ut(m,{reprobados:J}),v("El estudiante ha sido Reprobado."),setTimeout(()=>{C(J),c(J)},3e3)}catch(J){console.error("Error al actualizar reprobados en Firebase:",J)}f(!0),setTimeout(()=>{_(!1),w(!1),v(""),e()},2500),setTimeout(async()=>{w(!1),e()},2e3)},fe=()=>{e()},ne=()=>{_(!1)};return a.jsx(a.Fragment,{children:t&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"modal-backdrop fade show"}),a.jsx("div",{className:"modal d-block",tabIndex:-1,style:{display:"block"},children:a.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:a.jsxs("div",{className:"modal-content",children:[b&&a.jsx("div",{className:"alert alert-success mt-2",children:b}),a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Detalles del estudiante"}),e&&a.jsx("button",{type:"button",className:"btn-close",onClick:e,"aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Nombre:"})," ",n.nombre]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Cédula:"})," ",n.cedula]})]}),a.jsxs("div",{className:"col",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Teléfono:"})," ",n.telefono]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Correo:"})," ",n.correo]})]})]}),a.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"bold",color:I?"green":j?"red":"grey"},children:I?"Aprobado en el curso":j?"Reprobado en el curso":"Usuario en espera de evaluación"})]}),a.jsx("div",{className:"modal-footer",children:I?a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-danger",onClick:ee,disabled:g,children:"Reprobar"}),a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:fe,disabled:g,children:"Cancelar"})]}):a.jsx(a.Fragment,{children:j?a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-success",onClick:M,disabled:g,children:"Aprobar"}),a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:fe,disabled:g,children:"Cancelar"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-danger",onClick:ee,disabled:g,children:"Reprobar"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:M,disabled:g,children:"Aprobar"})]})})})]})})}),a.jsx(Ll,{texto:"Se ha aprobado al estudiante.",mostrar:y,onConfirm:ne})]})})},oz=()=>{const t=js(ZT),e=Be(),n={titulo:t.main.titulo,subtitulo:t.main.subtitulo},[r,i]=p.useState(n),[s,o]=p.useState(),l=()=>{i(n)},c=h=>{i({...r,[h.target.name]:h.target.value})},u=h=>{o(h.target.files[0]),c(h)},d=async()=>{let h=t.main.download_url;s!=null&&(h=await Pn(s,"/Avisos/Principal/image"));const f={titulo:r.titulo,subtitulo:r.subtitulo,download_url:h,image_url:t.main.image_url};await ut("/Avisos/1x9cYIlY1FaQcw9jZhf6",f),e(EU(f)),Pt("toast-adsmain-update")};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center rounded mb-5",children:[a.jsx("img",{src:t.main.download_url,className:"img-fluid"}),a.jsx("h1",{className:"display-1 text-black",children:t.main.titulo}),a.jsx("h3",{className:"display-6 text-black",children:t.main.subtitulo}),a.jsx("button",{type:"button",className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"Actualizar Inicio"})]}),a.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header border-0",children:[a.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-adsmain",children:"Actualizar Inicio de Avisos"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:l})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"form-row text-black",children:[a.jsx("label",{className:"form-label",htmlFor:"title-ads-add",children:"Título"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-ads-add",name:"titulo",value:r.titulo,onChange:h=>c(h)}),a.jsx("label",{className:"form-label",htmlFor:"subtitle-ads-add",children:"Subtitulo"}),a.jsx("textarea",{className:"form-control rounded-0 ",id:"subtitle-ads-add",name:"subtitulo",value:r.subtitulo,onChange:h=>c(h)}),a.jsx("label",{className:"form-label",htmlFor:"uploadImage-add",children:"Subir imagen"}),a.jsx("input",{className:"form-control",id:"uploadImage-add",name:"image_url",type:"file",onChange:h=>u(h)})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:l,children:"Cancelar"}),a.jsx("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>d(),children:"Guardar Cambios"})]})]})})}),a.jsx(Nt,{id:"toast-adsmain-update",message:"¡Se ha actualizado con éxito la sección principal de Avisos!",title:"Avisos - Seccion Principal"})]})},ck=t=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:"input-group mb-1 p-1",children:[a.jsx("input",{type:"text",className:"form-control",name:"titulo_link","aria-label":"ads-titulo-link",placeholder:"Titulo",value:t.titulo_link,onChange:e=>t.f1(e,t.index),autoFocus:!0}),a.jsx("input",{type:"text",className:"form-control",name:"link","aria-label":"ads-link",placeholder:"www.cantonal.com",value:t.link,onChange:e=>t.f1(e,t.index)}),a.jsx("button",{type:"button",className:"fa-solid fa-trash-can",onClick:()=>t.f2(t.index)})]})}),az=()=>{const t=Be(),[e,n]=p.useState(),r={id:"",posicion_id:1,titulo:"",subtitulo:"",descripcion:"",estado:1,image_url:"",download_url:"",links:[]},[i,s]=p.useState(r),o=m=>{s({...i,[m.target.name]:m.target.value})},l=()=>{s(r)},c=m=>{n(m.target.files[0]),s({...i,image_url:`Avisos/Anuncios/${u_()}`})},u=m=>{const y=i.links.filter((b,v)=>m!=v),_={...i,links:y};s(_)},d=(m,y)=>{const _=i.links.map((b,v)=>v==y?{...i.links[v],[m.target.name]:m.target.value}:b);s({...i,links:_})},h=()=>{const m={...i,links:[...i.links,{titulo_link:"",link:""}]};s(m)},f=async m=>{m.preventDefault();let y="";e!=null&&(y=await Pn(e,i.image_url));let _={posicion_id:i.posicion_id,titulo:i.titulo,subtitulo:i.subtitulo,descripcion:i.descripcion,estado:1,image_url:i.image_url,download_url:y,links:i.links};const b=await cf("/Avisos/1x9cYIlY1FaQcw9jZhf6/Anuncios",_);_={..._,id:b.id},t(xU(_)),setTimeout(()=>{d_("add-ads"),Pt("toast-add-ads")},500),l()};return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-primary mb-2","data-bs-toggle":"modal","data-bs-target":"#add-ads",children:"Crear Aviso"}),a.jsx("div",{className:"modal fade",id:"add-ads","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header border-0",children:[a.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-add",children:"Crear Aviso"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>l()})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:f,id:"form-modal-add-ads",children:[a.jsx("label",{className:"form-label",htmlFor:"title-ads-add",children:"Título"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-ads-add",name:"titulo",value:i.titulo,onChange:m=>o(m)}),a.jsx("label",{className:"form-label",htmlFor:"subtitle-ads-add",children:"Subtítulo"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:"subtitle-ads-add",name:"subtitulo",value:i.subtitulo,onChange:m=>o(m)}),a.jsx("label",{className:"form-label",htmlFor:"description-ads-add",children:"Descripción"}),a.jsx("textarea",{className:"form-control rounded-0 ",id:"description-ads-add",name:"descripcion",rows:5,value:i.descripcion,onChange:m=>o(m)}),a.jsxs("div",{className:"p-3 mb-3",children:[a.jsx("div",{className:"form-label",children:a.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm mb-2",onClick:()=>h(),children:"Agregar Nuevo Link"})}),i.links!=null&&i.links.map((m,y)=>a.jsx(ck,{titulo_link:m.titulo_link,link:m.link,index:y,f1:d,f2:u},`${m.titulo_link}-${y}-add`)),a.jsx("label",{className:"form-label",htmlFor:"uploadImage-add-ads",children:"Subir imagen"}),a.jsx("input",{className:"form-control mb-3",id:"uploadImage-add-ads",name:"image_url",type:"file",onChange:m=>c(m),required:!0}),a.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>s({...i,posicion_id:1})})," Izquierda"]}),a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>s({...i,posicion_id:2})})," Derecha"]})]})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>l(),children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn btn-primary",form:"form-modal-add-ads",children:"Guardar Cambios"})]})]})})}),a.jsx(Nt,{id:"toast-add-ads",message:"¡Se ha agregado con éxito el aviso!",title:"Seccion de avisos"})]})},C1=t=>{const e=Be(),[n,r]=p.useState(),i={id:t.id,posicion_id:t.posicion_id,titulo:t.titulo,subtitulo:t.subtitulo,descripcion:t.descripcion,estado:1,image_url:t.image_url,download_url:t.download_url,links:t.links},[s,o]=p.useState(i),l=y=>{o({...s,[y.target.name]:y.target.value})},c=()=>{o(i)},u=y=>{y.target.files[0]!=null?r(y.target.files[0]):r(void 0)},d=y=>{const _=s.links.filter((v,g)=>y!=g),b={...s,links:_};o(b)},h=(y,_)=>{const b=s.links.map((v,g)=>g==_?{...s.links[g],[y.target.name]:y.target.value}:v);o({...s,links:b})},f=()=>{const y={...s,links:[...s.links,{titulo_link:"",link:""}]};o(y)},m=async y=>{y.preventDefault();let _=s.download_url;n!=null&&(_=await Pn(n,s.image_url));let b={posicion_id:s.posicion_id,titulo:s.titulo,subtitulo:s.subtitulo,descripcion:s.descripcion,estado:1,image_url:s.image_url,download_url:_,links:s.links};await ut(`/Avisos/1x9cYIlY1FaQcw9jZhf6/Anuncios/${t.id}`,b),b={...b,id:t.id},e(CU(b)),Pt("toast-edit-ads")};return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-outline-warning btn-sm mb-2","data-bs-toggle":"modal","data-bs-target":`#edit-ads-${t.id}`,children:"Editar"}),a.jsx("div",{className:"modal fade",id:`edit-ads-${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header border-0",children:[a.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-add",children:"Editar Aviso"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>c()})]}),a.jsxs("div",{className:"modal-body text-center",children:[a.jsx("label",{className:"form-label",htmlFor:`title-edit-ads-${t.id}`,children:"Título"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:`title-edit-ads-${t.id}`,name:"titulo",value:s.titulo,onChange:y=>l(y)}),a.jsx("label",{className:"form-label",htmlFor:"subtitle-edit-ads",children:"Subtítulo"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:`subtitle-edit-ads-${t.id}`,name:"subtitulo",value:s.subtitulo,onChange:y=>l(y)}),a.jsx("label",{className:"form-label",htmlFor:"description-edit-ads",children:"Descripción"}),a.jsx("textarea",{className:"form-control rounded-0 ",id:`description-edit-ads-${t.id}`,name:"descripcion",rows:5,value:s.descripcion,onChange:y=>l(y)}),a.jsxs("div",{className:"p-3 mb-3",children:[a.jsx("div",{className:"form-label",children:a.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm mb-2",onClick:()=>f(),children:"Agregar Nuevo Link"})}),s.links!=null&&s.links.map((y,_)=>a.jsx(ck,{titulo_link:y.titulo_link,link:y.link,index:_,f1:h,f2:d},`${y.titulo_link}-${_}`)),a.jsx("label",{className:"form-label",htmlFor:`uploadImage-edit-ads-${t.id}`,children:"Subir imagen"}),a.jsx("input",{className:"form-control mb-3",id:`uploadImage-edit-ads-${t.id}`,name:"image_url",type:"file",onChange:y=>u(y)}),a.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>o({...s,posicion_id:1})})," Izquierda"]}),a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>o({...s,posicion_id:2})})," Derecha"]})]})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>c(),children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn btn-primary",form:"form-modal-edit-ads","data-bs-dismiss":"modal",onClick:m,children:"Guardar Cambios"})]})]})})}),a.jsx(Nt,{id:"toast-edit-ads",message:"¡Se ha editado con éxito el aviso!",title:"Seccion de avisos"})]})},I1=t=>{const e=Be(),n=async()=>{await _c(`/Avisos/1x9cYIlY1FaQcw9jZhf6/Anuncios/${t.id}`),await uf(t.image_url),e(SU(t)),Pt("delete-modal-section")};return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm mb-5","data-bs-toggle":"modal","data-bs-target":`#ad-section-modal-delete${t.id}`,children:"Eliminar"}),a.jsx("div",{className:"modal fade",id:`ad-section-modal-delete${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"Eliminar"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:"¿Estás seguro que desea eliminar está sección?"}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),a.jsx("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:()=>n(),children:"Aceptar"})]})]})})}),a.jsx(Nt,{id:"delete-modal-section",message:"¡Se ha eliminado con éxito el aviso!",title:"Seccion de avisos"})]})},T1=t=>a.jsx(a.Fragment,{children:t.link.map(e=>a.jsx("div",{className:"text-sm-center",children:a.jsx("a",{className:"stretched-link",href:e.link,target:"_blank",children:e.titulo_link})},e.titulo_link))}),lz=()=>{const t=js(ZT),[e,n]=p.useState([]);return p.useEffect(()=>{n(t.adsList)},[t]),a.jsxs(a.Fragment,{children:[t.loading&&a.jsx("div",{children:"Cargando..."}),e.map(r=>r.posicion_id==1?a.jsxs("div",{className:"row mb-3 text-start",children:[a.jsx("div",{className:"col mb-3",children:a.jsx("img",{className:"img-fluid",src:r.download_url})}),a.jsxs("div",{className:"col mb-3",children:[a.jsx("h3",{children:r.titulo}),a.jsx("p",{className:"lead",children:a.jsx("strong",{children:r.subtitulo})}),a.jsx("p",{className:"lead",children:r.descripcion}),a.jsx("button",{className:"btn btn-primary btn-sm mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),a.jsx("div",{className:"collapse",id:`collapse-${r.id}`,children:a.jsx("div",{className:"card card-body",children:a.jsx(T1,{link:r.links},`${r.id}-ads-linkfield1`)})})]}),a.jsx(C1,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url,links:r.links},`${r.id}-adssection1-ads`),a.jsx(I1,{id:r.id,image_url:r.image_url},`${r.id}-delete1-ads`),a.jsx("hr",{className:"border border-secondary border-1 opacity-90"})]},`${r.id}-div1-ads`):a.jsxs("div",{className:"row mb-3 text-end",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsx("h3",{children:r.titulo}),a.jsx("p",{className:"lead",children:a.jsx("strong",{children:r.subtitulo})}),a.jsx("p",{className:"lead",children:r.descripcion}),a.jsx("button",{className:`
                        
                        btn btn-primary btn-sm mb-2`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),a.jsx("div",{className:"collapse mb-2",id:`collapse-${r.id}`,children:a.jsx("div",{className:"card card-body",children:a.jsx(T1,{link:r.links},`${r.id}-ads-linkfield2`)})})]}),a.jsx("div",{className:"col m-3",children:a.jsx("img",{className:"img-fluid",src:r.download_url})}),a.jsx(C1,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url,links:r.links},`${r.id}-adssection2-ads`),a.jsx(I1,{id:r.id,image_url:r.image_url},`${r.id}-delete2-ads`),a.jsx("hr",{className:"border border-secondary border-1 opacity-90"})]},`${r.id}-div2-ads`))]})},cz=()=>{const t=Be();return p.useEffect(()=>{t(Au()),t(ju())},[]),a.jsxs(a.Fragment,{children:[a.jsx(oz,{}),a.jsx(az,{}),a.jsx("hr",{className:"border border-secondary border-1 opacity-75"}),a.jsx("div",{className:"container-fluid",children:a.jsx(lz,{})})]})},uz=()=>{const t=js(tR),e=Be(),n={titulo:t.main.titulo,subtitulo:t.main.subtitulo},[r,i]=p.useState(n),[s,o]=p.useState(),l=()=>{i(n)},c=h=>{i({...r,[h.target.name]:h.target.value})},u=h=>{o(h.target.files[0]),c(h)},d=async()=>{let h=t.main.download_url;s!=null&&(h=await Pn(s,"/Servicios/Principal/image"));const f={titulo:r.titulo,subtitulo:r.subtitulo,download_url:h,image_url:t.main.image_url};await ut("/Servicios/xsc94XcgZ4Agn9IisLop",f),e(RU(f)),Pt("toast-servicemain-update")};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center rounded mb-5",children:[a.jsx("img",{src:t.main.download_url,className:"img-fluid"}),a.jsx("h1",{className:"display-1 text-black",children:t.main.titulo}),a.jsx("h3",{className:"display-6 text-black",children:t.main.subtitulo}),a.jsx("button",{type:"button",className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",children:"Actualizar Inicio"})]}),a.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header border-0",children:[a.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-servicemain",children:"Actualizar Inicio de Servicios"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:l})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"form-row text-black",children:[a.jsx("label",{className:"form-label",htmlFor:"title-service-add",children:"Título"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-service-add",name:"titulo",value:r.titulo,onChange:h=>c(h)}),a.jsx("label",{className:"form-label",htmlFor:"subtitle-service-add",children:"Subtitulo"}),a.jsx("textarea",{className:"form-control rounded-0 ",id:"subtitle-service-add",name:"subtitulo",value:r.subtitulo,onChange:h=>c(h)}),a.jsx("label",{className:"form-label",htmlFor:"uploadImage-add",children:"Subir imagen"}),a.jsx("input",{className:"form-control",id:"uploadImage-add",name:"image_url",type:"file",onChange:h=>u(h)})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:l,children:"Cancelar"}),a.jsx("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>d(),children:"Guardar Cambios"})]})]})})}),a.jsx(Nt,{id:"toast-servicemain-update",message:"¡Se ha actualizado con éxito la sección principal de Servicios!",title:"Servicios - Seccion Principal"})]})},uk=t=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:"input-group mb-1 p-1",children:[a.jsx("input",{type:"text",id:`${t.titulo_link}-${t.index}1`,className:"form-control",name:"titulo_link",placeholder:"Titulo",value:t.titulo_link,onChange:e=>t.f1(e,t.index),autoFocus:!0}),a.jsx("input",{type:"text",id:`${t.link}-${t.index}2`,className:"form-control",name:"link","aria-label":"ads-link",placeholder:"www.cantonal.com",value:t.link,onChange:e=>t.f1(e,t.index)}),a.jsx("button",{type:"button",className:"fa-solid fa-trash-can",onClick:()=>t.f2(t.index)})]})}),dz=()=>{const t=Be(),[e,n]=p.useState(),r={id:"",posicion_id:1,titulo:"",subtitulo:"",descripcion:"",estado:1,image_url:"",download_url:"",links:[]},[i,s]=p.useState(r),[o,l]=p.useState([]),c=_=>{s({...i,[_.target.name]:_.target.value})},u=()=>{s(r)},d=_=>{n(_.target.files[0]),s({...i,image_url:`/Servicios/Lista_servicios/${u_()}`})},h=_=>{const b=i.links.filter((g,w)=>_!=w),v={...i,links:b};s(v)},f=(_,b)=>{const v=i.links.map((g,w)=>w==b?{...i.links[w],[_.target.name]:_.target.value}:g);s({...i,links:v})},m=()=>{const _={...i,links:[...i.links,{titulo_link:"",link:""}]};s(_)},y=async _=>{_.preventDefault();let b="";e!=null&&(b=await Pn(e,i.image_url));let v={posicion_id:i.posicion_id,titulo:i.titulo,subtitulo:i.subtitulo,descripcion:i.descripcion,estado:1,image_url:i.image_url,download_url:b,links:i.links};const g=await cf("/Servicios/xsc94XcgZ4Agn9IisLop/Lista_servicios",v);v={...v,id:g.id},t(kU(v)),setTimeout(()=>{d_("add-service"),Pt("toast-add-service")},500),u()};return p.useEffect(()=>{l(i.links)},[i]),a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-primary mb-2","data-bs-toggle":"modal","data-bs-target":"#add-service",children:"Crear Servicio"}),a.jsx("div",{className:"modal fade",id:"add-service","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header border-0",children:[a.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-add",children:"Crear Servicio"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>u()})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:y,id:"form-modal-add-service",children:[a.jsx("label",{className:"form-label",htmlFor:"title-service-add",children:"Título"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:"title-service-add",name:"titulo",value:i.titulo,onChange:_=>c(_)}),a.jsx("label",{className:"form-label",htmlFor:"subtitle-service-add",children:"Subtítulo"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:"subtitle-service-add",name:"subtitulo",value:i.subtitulo,onChange:_=>c(_)}),a.jsx("label",{className:"form-label",htmlFor:"description-service-add",children:"Descripción"}),a.jsx("textarea",{className:"form-control rounded-0 ",id:"description-service-add",name:"descripcion",rows:5,value:i.descripcion,onChange:_=>c(_)}),a.jsxs("div",{className:"p-3 mb-3",children:[a.jsx("div",{className:"form-label",children:a.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm mb-2",onClick:()=>m(),children:"Agregar Nuevo Link"})}),o!=null&&o.map((_,b)=>a.jsx(uk,{titulo_link:_.titulo_link,link:_.link,index:b,f1:f,f2:h},`${_.titulo_link}-${b}-add`)),a.jsx("label",{className:"form-label",htmlFor:"uploadImage-add-service",children:"Subir imagen"}),a.jsx("input",{className:"form-control mb-3",id:"uploadImage-add-service",name:"image_url",type:"file",onChange:_=>d(_),required:!0}),a.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>s({...i,posicion_id:1})})," Izquierda"]}),a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>s({...i,posicion_id:2})})," Derecha"]})]})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>u(),children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn btn-primary",form:"form-modal-add-service",children:"Guardar Cambios"})]})]})})}),a.jsx(Nt,{id:"toast-add-service",message:"¡Se ha agregado con éxito el servicio!",title:"Seccion de servicios"})]})},R1=t=>{const e=Be(),[n,r]=p.useState(),i={id:t.id,posicion_id:t.posicion_id,titulo:t.titulo,subtitulo:t.subtitulo,descripcion:t.descripcion,estado:1,image_url:t.image_url,download_url:t.download_url,links:t.links},[s,o]=p.useState(i),l=y=>{o({...s,[y.target.name]:y.target.value})},c=()=>{o(i)},u=y=>{y.target.files[0]!=null?r(y.target.files[0]):r(void 0)},d=y=>{const _=s.links.filter((v,g)=>y!=g),b={...s,links:_};o(b)},h=(y,_)=>{const b=s.links.map((v,g)=>g==_?{...s.links[g],[y.target.name]:y.target.value}:v);o({...s,links:b})},f=()=>{const y={...s,links:[...s.links,{titulo_link:"",link:""}]};o(y)},m=async y=>{y.preventDefault();let _=s.download_url;n!=null&&(_=await Pn(n,s.image_url));let b={posicion_id:s.posicion_id,titulo:s.titulo,subtitulo:s.subtitulo,descripcion:s.descripcion,estado:1,image_url:t.image_url,download_url:_,links:s.links};await ut(`/Servicios/xsc94XcgZ4Agn9IisLop/Lista_servicios/${t.id}`,b),b={...b,id:t.id},e(PU(b)),Pt("toast-edit-service")};return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-outline-warning mb-2 btn-sm","data-bs-toggle":"modal","data-bs-target":`#edit-service-${t.id}`,children:"Editar"}),a.jsx("div",{className:"modal fade",id:`edit-service-${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header border-0",children:[a.jsx("h1",{className:"modal-title fs-5 text-black",id:"title-modal-add",children:"Editar Aviso"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>c()})]}),a.jsxs("div",{className:"modal-body text-center",children:[a.jsx("label",{className:"form-label",htmlFor:`title-edit-service-${t.id}`,children:"Título"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:`title-edit-service-${t.id}`,name:"titulo",value:s.titulo,onChange:y=>l(y)}),a.jsx("label",{className:"form-label",htmlFor:`subtitle-edit-service-${t.id}`,children:"Subtítulo"}),a.jsx("textarea",{className:"form-control rounded-0 h-10",id:`subtitle-edit-service-${t.id}`,name:"subtitulo",value:s.subtitulo,onChange:y=>l(y)}),a.jsx("label",{className:"form-label",htmlFor:`description-edit-service-${t.id}`,children:"Descripción"}),a.jsx("textarea",{className:"form-control rounded-0 ",id:`description-edit-service-${t.id}`,name:"descripcion",rows:5,value:s.descripcion,onChange:y=>l(y)}),a.jsxs("div",{className:"p-3 mb-3",children:[a.jsx("div",{className:"form-label",children:a.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm mb-2",onClick:()=>f(),children:"Agregar Nuevo Link"})}),s.links!=null&&s.links.map((y,_)=>a.jsx(uk,{titulo_link:y.titulo_link,link:y.link,index:_,f1:h,f2:d},`${y.titulo_link}-${_}`)),a.jsx("label",{className:"form-label",htmlFor:`uploadImage-edit-service-${t.id}`,children:"Subir imagen"}),a.jsx("input",{className:"form-control mb-3",id:`uploadImage-edit-service-${t.id}`,name:"image_url",type:"file",onChange:y=>u(y)}),a.jsxs("div",{className:"btn-group","data-toggle":"buttons",children:[a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option1",autoComplete:"off",onClick:()=>o({...s,posicion_id:1})})," Izquierda"]}),a.jsxs("label",{className:"btn btn-secondary",children:[a.jsx("input",{type:"radio",name:"options",id:"option2",autoComplete:"off",onClick:()=>o({...s,posicion_id:2})})," Derecha"]})]})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:()=>c(),children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn btn-primary",form:"form-modal-edit-service","data-bs-dismiss":"modal",onClick:m,children:"Guardar Cambios"})]})]})})}),a.jsx(Nt,{id:"toast-edit-service",message:"¡Se ha editado con éxito el aviso!",title:"Seccion de avisos"})]})},k1=t=>{const e=Be(),n=async()=>{await _c(`/Servicios/xsc94XcgZ4Agn9IisLop/Lista_servicios/${t.id}`),await uf(t.image_url),e(NU(t)),Pt("delete-modal-section")};return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm mb-5","data-bs-toggle":"modal","data-bs-target":`#service-section-modal-delete${t.id}`,children:"Eliminar"}),a.jsx("div",{className:"modal fade",id:`service-section-modal-delete${t.id}`,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog",children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"Eliminar"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:"¿Estás seguro que desea eliminar está sección?"}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),a.jsx("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:()=>n(),children:"Aceptar"})]})]})})}),a.jsx(Nt,{id:"delete-modal-section",message:"¡Se ha eliminado con éxito el servicio!",title:"Seccion de servicios"})]})},N1=t=>a.jsx(a.Fragment,{children:t.link.map(e=>a.jsx("div",{className:"text-sm-center",children:a.jsx("a",{className:"stretched-link",href:e.link,target:"_blank",children:e.titulo_link})},e.titulo_link))}),hz=()=>{const t=js(tR),[e,n]=p.useState([]);return p.useEffect(()=>{n(t.ServiceList)},[t]),a.jsxs(a.Fragment,{children:[t.loading&&a.jsx("div",{children:"Cargando..."}),e.map(r=>r.posicion_id==1?a.jsxs("div",{className:"row mb-3 text-start",children:[a.jsx("div",{className:"col mb-3",children:a.jsx("img",{className:"img-fluid",src:r.download_url})}),a.jsxs("div",{className:"col mb-3",children:[a.jsx("h3",{children:r.titulo}),a.jsx("p",{className:"lead",children:a.jsx("strong",{children:r.subtitulo})}),a.jsx("p",{className:"lead",children:r.descripcion}),a.jsx("button",{className:"btn btn-primary btn-sm mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),a.jsx("div",{className:"collapse",id:`collapse-${r.id}`,children:a.jsx("div",{className:"card card-body",children:a.jsx(N1,{link:r.links},`${r.id}-service-linkfield1`)})})]}),a.jsx(R1,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url,links:r.links},`${r.id}-servicesection1`),a.jsx(k1,{id:r.id,image_url:r.image_url},`${r.id}-delete1-service`),a.jsx("hr",{className:"border border-secondary border-1 opacity-90"})]},`${r.id}-div1-service`):a.jsxs("div",{className:"row mb-3 text-end",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsx("h3",{children:r.titulo}),a.jsx("p",{className:"lead",children:a.jsx("strong",{children:r.subtitulo})}),a.jsx("p",{className:"lead",children:r.descripcion}),a.jsx("button",{className:`
                        
                        btn btn-primary btn-sm mb-2`,type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${r.id}`,"aria-expanded":"false","aria-controls":`collapse-${r.id}`,children:"Enlaces de interés"}),a.jsx("div",{className:"collapse mb-2",id:`collapse-${r.id}`,children:a.jsx("div",{className:"card card-body",children:a.jsx(N1,{link:r.links},`${r.id}-service-linkfield2`)})})]}),a.jsx("div",{className:"col mb-3",children:a.jsx("img",{className:"img-fluid",src:r.download_url})}),a.jsx(R1,{id:r.id,posicion_id:r.posicion_id,descripcion:r.descripcion,estado:r.estado,image_url:r.image_url,subtitulo:r.subtitulo,titulo:r.titulo,download_url:r.download_url,links:r.links},`${r.id}-servicesection2`),a.jsx(k1,{id:r.id,image_url:r.image_url},`${r.id}-delete2-service`),a.jsx("hr",{className:"border border-secondary border-1 opacity-90"})]},`${r.id}-div2-service`))]})},fz=()=>{const t=Be();return p.useEffect(()=>{t(Du()),t(Ou())},[]),a.jsxs(a.Fragment,{children:[a.jsx(uz,{}),a.jsx(dz,{}),a.jsx("hr",{className:"border border-secondary border-1 opacity-75"}),a.jsx("div",{className:"container-fluid",children:a.jsx(hz,{})})]})},pz=()=>a.jsxs(R6,{children:[a.jsx(Zt,{path:"/",element:a.jsx(Qb,{})}),a.jsx(Zt,{path:"/iniciar-sesion",element:a.jsx(Qb,{})}),a.jsx(Zt,{path:"/home",element:a.jsx(P8,{})}),a.jsx(Zt,{path:"/crear-cuenta",element:a.jsx(bR,{})}),a.jsx(Zt,{path:"/Cursos",element:a.jsx(n5,{})}),a.jsx(Zt,{path:"/gestionar-cursos",element:a.jsx(b8,{})}),a.jsx(Zt,{path:"/About",element:a.jsx(N8,{})}),a.jsx(Zt,{path:"/Students",element:a.jsx(M8,{})}),a.jsx(Zt,{path:"/mi-perfil",element:a.jsx(ZR,{})}),a.jsx(Zt,{path:"/matriculaAdmin",element:a.jsx(F8,{})}),a.jsx(Zt,{path:"/evaluacionEstudiantes",element:a.jsx(nz,{})}),a.jsx(Zt,{path:"/avisos",element:a.jsx(cz,{})}),a.jsx(Zt,{path:"/servicios",element:a.jsx(fz,{})})]}),mz=()=>{const t=gy(),e=Se(c=>c.auth.user),n=Se(c=>c.auth.loggedIn),r=Se(c=>c.empresa.dataEmpresa),[i,s]=p.useState("");p.useEffect(()=>{(async()=>{const c=Wo(Jo,"Empresa/Logo/logo");Xl(c).then(u=>{s(u)}).catch(u=>{console.error("Error descargando el logo:",u)})})()},[]);const o=bn(),l=()=>{t(G3()),o("/iniciar-sesion",{replace:!0})};return a.jsx("div",{className:"navbar-container shadow-lg",children:a.jsx("nav",{className:"navbar navbar-expand-sm fixed-top text-dark bg-dark p-2",children:a.jsxs("div",{className:"container-fluid",children:[e&&n&&a.jsx(vr,{className:"navbar-brand",to:"/home",children:a.jsx("img",{src:i,alt:"Logo",width:"110",height:"80"})}),!e&&!n&&a.jsx(vr,{className:"navbar-brand",to:"/",children:a.jsx("img",{src:i,alt:"Bootstrap",width:"110",height:"80"})}),a.jsx("h4",{className:"navbar-text-white d-none d-sm-inline-block",children:(r==null?void 0:r.titulo_footer)??"Unión Cantonal de Asociaciones Guatuso"}),a.jsx("button",{className:"navbar-toggler navbar-dark navbar-toggler-custom",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation",children:a.jsx("span",{className:"navbar-toggler-icon"})}),a.jsxs("div",{className:"collapse navbar-collapse navbar-collapse-custom",id:"navbarTogglerDemo01",children:[a.jsx("div",{className:"navbar-collapse ",children:e&&n&&""}),a.jsx("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2 d-flex justify-content-end",children:a.jsx("ul",{className:"navbar-nav ",children:n&&e&&a.jsxs("div",{className:"navbar-nav",children:[a.jsx(vr,{className:({isActive:c})=>`nav-item nav-link ${c?"active":""} navbar-text-white`,to:"/home",children:"Inicio"}),a.jsx(vr,{className:({isActive:c})=>`nav-item nav-link ${c?"active":""} navbar-text-white`,to:"/mi-perfil",children:"Mi Perfil"}),a.jsx(vr,{className:({isActive:c})=>`nav-item nav-link ${c?"active":""} navbar-text-white`,to:"/students",children:"Usuarios"}),a.jsx(vr,{className:({isActive:c})=>`nav-item nav-link ${c?"active":""} navbar-text-white`,to:"/Cursos",children:"Cursos"}),a.jsx(vr,{className:({isActive:c})=>`nav-item nav-link ${c?"active":""} navbar-text-white`,to:"/servicios",children:"Servicios"}),a.jsx(vr,{className:({isActive:c})=>`nav-item nav-link ${c?"active":""} navbar-text-white`,to:"/avisos",children:"Avisos"}),a.jsx(vr,{className:({isActive:c})=>`nav-item nav-link ${c?"active":""} navbar-text-white`,to:"/about",children:"Acerca"}),a.jsxs("button",{className:"nav-item nav-link btn navbar-text-white",onClick:l,children:[a.jsx("i",{className:"fa-solid fa-right-from-bracket me-2"}),"Cerrar Sesión"]})]})})})]})]})})})},gz=({children:t})=>{const[e,n]=p.useState(!1),r=Be();return p.useEffect(()=>{setTimeout(()=>{n(!0)},1500),r(nU()),r(YT())},[setTimeout,n]),a.jsxs(a.Fragment,{children:[a.jsx(mz,{}),t]})};function yz(){return a.jsx(L6,{children:a.jsx(gz,{children:a.jsx(pz,{})})})}Hx(document.getElementById("root")).render(a.jsx(ie.StrictMode,{children:a.jsx(DA,{store:nR,children:a.jsx(Yx,{persistor:VU,children:a.jsx(yz,{})})})}));
